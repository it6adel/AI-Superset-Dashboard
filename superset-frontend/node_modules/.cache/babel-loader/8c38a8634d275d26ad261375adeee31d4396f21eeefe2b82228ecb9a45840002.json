{"ast":null,"code":"import { isDataset, isQueryResponse } from '../types';\nexport function columnsByType(datasource, type) {\n  if (isDataset(datasource) || isQueryResponse(datasource)) {\n    const columns = datasource.columns;\n    const filteredColumns = columns.filter((col) => type === undefined || col.type_generic === type);\n    return filteredColumns.sort((col1, col2) => {\n      const opt1Name = 'verbose_name' in col1 ?\n      col1.verbose_name || col1.column_name :\n      col1.column_name;\n      const opt2Name = 'verbose_name' in col2 ?\n      col2.verbose_name || col2.column_name :\n      col2.column_name;\n      return opt1Name.toLowerCase() > opt2Name.toLowerCase() ? 1 : -1;\n    });\n  }\n  return [];\n}\n/**\n * Convert Datasource columns to column choices\n */\nexport default function columnChoices(datasource, type) {\n  return columnsByType(datasource, type).map((col) => [\n  col.column_name,\n  'verbose_name' in col ?\n  col.verbose_name || col.column_name :\n  col.column_name]\n  );\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}