{"ast":null,"code":"import { Behavior, SuperChart, AppSection, t } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\nimport { INPUT_HEIGHT, INPUT_WIDTH, TIME_FILTER_INPUT_WIDTH } from './constants';import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nconst DefaultValue = ({ hasDefaultValue, filterId, hasDataset, form, setDataMask, formData, enableNoResults }) => {var _form$getFieldValue, _formFilter$defaultDa, _formFilter$defaultDa2, _formFilter$defaultDa3;\n  const formFilter = (_form$getFieldValue = form.getFieldValue('filters')) == null ? void 0 : _form$getFieldValue[filterId];\n  const queriesData = formFilter == null ? void 0 : formFilter.defaultValueQueriesData;\n  const loading = hasDataset && queriesData === null;\n  const value = formFilter == null ? void 0 : (_formFilter$defaultDa = formFilter.defaultDataMask) == null ? void 0 : (_formFilter$defaultDa2 = _formFilter$defaultDa.filterState) == null ? void 0 : _formFilter$defaultDa2.value;\n  const isMissingRequiredValue = hasDefaultValue && (value === null || value === undefined);\n  return loading ? _jsx(Loading, { position: \"inline-centered\" }) : _jsx(SuperChart, { height: INPUT_HEIGHT, width: (formFilter == null ? void 0 : formFilter.filterType) === 'filter_time' ?\n    TIME_FILTER_INPUT_WIDTH :\n    INPUT_WIDTH, appSection: AppSection.FilterConfigModal, behaviors: [Behavior.NativeFilter], formData: formData\n    // For charts that don't have datasource we need workaround for empty placeholder\n    , queriesData: hasDataset ? formFilter == null ? void 0 : formFilter.defaultValueQueriesData : [{ data: [{}] }], chartType: formFilter == null ? void 0 : formFilter.filterType, hooks: { setDataMask }, enableNoResults: enableNoResults, filterState: {\n      ...(formFilter == null ? void 0 : (_formFilter$defaultDa3 = formFilter.defaultDataMask) == null ? void 0 : _formFilter$defaultDa3.filterState),\n      validateMessage: isMissingRequiredValue && t('Value is required'),\n      validateStatus: isMissingRequiredValue && 'error'\n    } });\n};\nexport default DefaultValue;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}