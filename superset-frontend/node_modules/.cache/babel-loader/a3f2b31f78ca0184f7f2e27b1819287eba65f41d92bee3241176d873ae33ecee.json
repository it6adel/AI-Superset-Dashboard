{"ast":null,"code":"var _bootstrapData$common, _bootstrapData$common2;function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";} /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useRef } from 'react';\nimport SchemaForm from '@rjsf/core';\nimport validator from '@rjsf/validator-ajv8';\nimport { Row, Col } from 'src/components';\nimport { Input, TextArea } from 'src/components/Input';\nimport { t, styled } from '@superset-ui/core';\nimport { parseDate } from 'chrono-node';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { Form, FormItem } from 'src/components/Form';\nimport Button from 'src/components/Button';\nimport getBootstrapData from 'src/utils/getBootstrapData';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst bootstrapData = getBootstrapData();\nconst scheduledQueriesConf = bootstrapData == null ? void 0 : (_bootstrapData$common = bootstrapData.common) == null ? void 0 : (_bootstrapData$common2 = _bootstrapData$common.conf) == null ? void 0 : _bootstrapData$common2.SCHEDULED_QUERIES;\nconst validators = {\n  greater: (a, b) => a > b,\n  greater_equal: (a, b) => a >= b,\n  less: (a, b) => a < b,\n  less_equal: (a, b) => a <= b\n};\nconst getJSONSchema = () => {\n  const jsonSchema = scheduledQueriesConf == null ? void 0 : scheduledQueriesConf.JSONSCHEMA;\n  // parse date-time into usable value (eg, 'today' => `new Date()`)\n  if (jsonSchema) {\n    Object.entries(jsonSchema.properties).forEach(([key, value]) => {\n      if (value.default && value.format === 'date-time') {\n        const parsedDate = parseDate(value.default);\n        jsonSchema.properties[key] = {\n          ...value,\n          default: parsedDate ? parsedDate.toISOString() : null\n        };\n      }\n    });\n    return jsonSchema;\n  }\n  return {};\n};\nconst getUISchema = () => scheduledQueriesConf == null ? void 0 : scheduledQueriesConf.UISCHEMA;\nconst getValidationRules = () => (scheduledQueriesConf == null ? void 0 : scheduledQueriesConf.VALIDATION) || [];\nconst getValidator = () => {\n  const rules = getValidationRules();\n  return (formData, errors) => {\n    rules.forEach((rule) => {\n      const test = validators[rule.name];\n      const args = rule.arguments.map((name) => formData[name]);\n      const container = rule.container || rule.arguments.slice(-1)[0];\n      if (!test(args[0], args[1])) {var _errors$container;\n        (_errors$container = errors[container]) == null ? void 0 : _errors$container.addError(rule.message);\n      }\n    });\n    return errors;\n  };\n};\nconst StyledRow = styled(Row)`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nexport const StyledButtonComponent = styled(Button)`\n  ${({ theme }) => `\n    background: none;\n    text-transform: none;\n    padding: 0px;\n    color: ${theme.colors.grayscale.dark2};\n    font-size: 14px;\n    font-weight: ${theme.typography.weights.normal};\n    margin-left: 0;\n    &:disabled {\n      margin-left: 0;\n      background: none;\n      color: ${theme.colors.grayscale.dark2};\n      &:hover {\n        background: none;\n        color: ${theme.colors.grayscale.dark2};\n      }\n    }\n  `}\n`;\nconst StyledJsonSchema = styled.div`\n  i.glyphicon {\n    display: none;\n  }\n  .btn-add::after {\n    content: '+';\n  }\n  .array-item-move-up::after {\n    content: '↑';\n  }\n  .array-item-move-down::after {\n    content: '↓';\n  }\n  .array-item-remove::after {\n    content: '-';\n  }\n`;var _ref = process.env.NODE_ENV === \"production\" ? { name: \"tjo4qw\", styles: \"float:right\" } : { name: \"nh75pi-renderModalBody\", styles: \"float:right;label:renderModalBody;/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkZWwvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1NjaGVkdWxlUXVlcnlCdXR0b24vaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtKOEQiLCJmaWxlIjoiL2hvbWUvYWRlbC9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvU3FsTGFiL2NvbXBvbmVudHMvU2NoZWR1bGVRdWVyeUJ1dHRvbi9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNjaGVtYUZvcm0gZnJvbSAnQHJqc2YvY29yZSc7XG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJ0ByanNmL3ZhbGlkYXRvci1hanY4JztcbmltcG9ydCB7IFJvdywgQ29sIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgSW5wdXQsIFRleHRBcmVhIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvSW5wdXQnO1xuaW1wb3J0IHsgdCwgc3R5bGVkIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnY2hyb25vLW5vZGUnO1xuaW1wb3J0IE1vZGFsVHJpZ2dlciBmcm9tICdzcmMvY29tcG9uZW50cy9Nb2RhbFRyaWdnZXInO1xuaW1wb3J0IHsgRm9ybSwgRm9ybUl0ZW0gfSBmcm9tICdzcmMvY29tcG9uZW50cy9Gb3JtJztcbmltcG9ydCBCdXR0b24gZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uJztcbmltcG9ydCBnZXRCb290c3RyYXBEYXRhIGZyb20gJ3NyYy91dGlscy9nZXRCb290c3RyYXBEYXRhJztcbmNvbnN0IGJvb3RzdHJhcERhdGEgPSBnZXRCb290c3RyYXBEYXRhKCk7XG5jb25zdCBzY2hlZHVsZWRRdWVyaWVzQ29uZiA9IGJvb3RzdHJhcERhdGE/LmNvbW1vbj8uY29uZj8uU0NIRURVTEVEX1FVRVJJRVM7XG5jb25zdCB2YWxpZGF0b3JzID0ge1xuICAgIGdyZWF0ZXI6IChhLCBiKSA9PiBhID4gYixcbiAgICBncmVhdGVyX2VxdWFsOiAoYSwgYikgPT4gYSA+PSBiLFxuICAgIGxlc3M6IChhLCBiKSA9PiBhIDwgYixcbiAgICBsZXNzX2VxdWFsOiAoYSwgYikgPT4gYSA8PSBiLFxufTtcbmNvbnN0IGdldEpTT05TY2hlbWEgPSAoKSA9PiB7XG4gICAgY29uc3QganNvblNjaGVtYSA9IHNjaGVkdWxlZFF1ZXJpZXNDb25mPy5KU09OU0NIRU1BO1xuICAgIC8vIHBhcnNlIGRhdGUtdGltZSBpbnRvIHVzYWJsZSB2YWx1ZSAoZWcsICd0b2RheScgPT4gYG5ldyBEYXRlKClgKVxuICAgIGlmIChqc29uU2NoZW1hKSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGpzb25TY2hlbWEucHJvcGVydGllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUuZGVmYXVsdCAmJiB2YWx1ZS5mb3JtYXQgPT09ICdkYXRlLXRpbWUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZS5kZWZhdWx0KTtcbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hLnByb3BlcnRpZXNba2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHBhcnNlZERhdGUgPyBwYXJzZWREYXRlLnRvSVNPU3RyaW5nKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ganNvblNjaGVtYTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufTtcbmNvbnN0IGdldFVJU2NoZW1hID0gKCkgPT4gc2NoZWR1bGVkUXVlcmllc0NvbmY/LlVJU0NIRU1BO1xuY29uc3QgZ2V0VmFsaWRhdGlvblJ1bGVzID0gKCkgPT4gc2NoZWR1bGVkUXVlcmllc0NvbmY/LlZBTElEQVRJT04gfHwgW107XG5jb25zdCBnZXRWYWxpZGF0b3IgPSAoKSA9PiB7XG4gICAgY29uc3QgcnVsZXMgPSBnZXRWYWxpZGF0aW9uUnVsZXMoKTtcbiAgICByZXR1cm4gKGZvcm1EYXRhLCBlcnJvcnMpID0+IHtcbiAgICAgICAgcnVsZXMuZm9yRWFjaCgocnVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdCA9IHZhbGlkYXRvcnNbcnVsZS5uYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBydWxlLmFyZ3VtZW50cy5tYXAoKG5hbWUpID0+IGZvcm1EYXRhW25hbWVdKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHJ1bGUuY29udGFpbmVyIHx8IHJ1bGUuYXJndW1lbnRzLnNsaWNlKC0xKVswXTtcbiAgICAgICAgICAgIGlmICghdGVzdChhcmdzWzBdLCBhcmdzWzFdKSkge1xuICAgICAgICAgICAgICAgIGVycm9yc1tjb250YWluZXJdPy5hZGRFcnJvcihydWxlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9O1xufTtcbmNvbnN0IFN0eWxlZFJvdyA9IHN0eWxlZChSb3cpIGBcbiAgcGFkZGluZy1ib3R0b206ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xuYDtcbmV4cG9ydCBjb25zdCBTdHlsZWRCdXR0b25Db21wb25lbnQgPSBzdHlsZWQoQnV0dG9uKSBgXG4gICR7KHsgdGhlbWUgfSkgPT4gYFxuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgcGFkZGluZzogMHB4O1xuICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogJHt0aGVtZS50eXBvZ3JhcGh5LndlaWdodHMubm9ybWFsfTtcbiAgICBtYXJnaW4tbGVmdDogMDtcbiAgICAmOmRpc2FibGVkIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9O1xuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9O1xuICAgICAgfVxuICAgIH1cbiAgYH1cbmA7XG5jb25zdCBTdHlsZWRKc29uU2NoZW1hID0gc3R5bGVkLmRpdiBgXG4gIGkuZ2x5cGhpY29uIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gIC5idG4tYWRkOjphZnRlciB7XG4gICAgY29udGVudDogJysnO1xuICB9XG4gIC5hcnJheS1pdGVtLW1vdmUtdXA6OmFmdGVyIHtcbiAgICBjb250ZW50OiAn4oaRJztcbiAgfVxuICAuYXJyYXktaXRlbS1tb3ZlLWRvd246OmFmdGVyIHtcbiAgICBjb250ZW50OiAn4oaTJztcbiAgfVxuICAuYXJyYXktaXRlbS1yZW1vdmU6OmFmdGVyIHtcbiAgICBjb250ZW50OiAnLSc7XG4gIH1cbmA7XG5jb25zdCBTY2hlZHVsZVF1ZXJ5QnV0dG9uID0gKHsgZGVmYXVsdExhYmVsID0gdCgnVW5kZWZpbmVkJyksIHNxbCwgc2NoZW1hLCBkYklkLCBvblNjaGVkdWxlID0gKCkgPT4geyB9LCBzY2hlZHVsZVF1ZXJ5V2FybmluZywgdG9vbHRpcCwgZGlzYWJsZWQgPSBmYWxzZSwgfSkgPT4ge1xuICAgIGNvbnN0IFtkZXNjcmlwdGlvbiwgc2V0RGVzY3JpcHRpb25dID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtsYWJlbCwgc2V0TGFiZWxdID0gdXNlU3RhdGUoZGVmYXVsdExhYmVsKTtcbiAgICBjb25zdCBbc2hvd1NjaGVkdWxlLCBzZXRTaG93U2NoZWR1bGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHNhdmVNb2RhbCA9IHVzZVJlZigpO1xuICAgIGNvbnN0IG9uU2NoZWR1bGVTdWJtaXQgPSAoeyBmb3JtRGF0YSwgfSkgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBkYl9pZDogZGJJZCxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIHNxbCxcbiAgICAgICAgICAgIGV4dHJhX2pzb246IEpTT04uc3RyaW5naWZ5KHsgc2NoZWR1bGVfaW5mbzogZm9ybURhdGEgfSksXG4gICAgICAgIH07XG4gICAgICAgIG9uU2NoZWR1bGUocXVlcnkpO1xuICAgICAgICBzYXZlTW9kYWw/LmN1cnJlbnQ/LmNsb3NlKCk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJNb2RhbEJvZHkgPSAoKSA9PiAoPEZvcm0gbGF5b3V0PVwidmVydGljYWxcIj5cbiAgICAgIDxTdHlsZWRSb3c+XG4gICAgICAgIDxDb2wgeHM9ezI0fT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9e3QoJ0xhYmVsJyl9PlxuICAgICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9e3QoJ0xhYmVsIGZvciB5b3VyIHF1ZXJ5Jyl9IHZhbHVlPXtsYWJlbH0gb25DaGFuZ2U9eyhldmVudCkgPT4gc2V0TGFiZWwoZXZlbnQudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9TdHlsZWRSb3c+XG4gICAgICA8U3R5bGVkUm93PlxuICAgICAgICA8Q29sIHhzPXsyNH0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPXt0KCdEZXNjcmlwdGlvbicpfT5cbiAgICAgICAgICAgIDxUZXh0QXJlYSByb3dzPXs0fSBwbGFjZWhvbGRlcj17dCgnV3JpdGUgYSBkZXNjcmlwdGlvbiBmb3IgeW91ciBxdWVyeScpfSB2YWx1ZT17ZGVzY3JpcHRpb259IG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldERlc2NyaXB0aW9uKGV2ZW50LnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvU3R5bGVkUm93PlxuICAgICAgPFJvdz5cbiAgICAgICAgPENvbCB4cz17MjR9PlxuICAgICAgICAgIDxTdHlsZWRKc29uU2NoZW1hPlxuICAgICAgICAgICAgPFNjaGVtYUZvcm0gc2NoZW1hPXtnZXRKU09OU2NoZW1hKCl9IHVpU2NoZW1hPXtnZXRVSVNjaGVtYSgpfSBvblN1Ym1pdD17b25TY2hlZHVsZVN1Ym1pdH0gY3VzdG9tVmFsaWRhdGU9e2dldFZhbGlkYXRvcigpfSB2YWxpZGF0b3I9e3ZhbGlkYXRvcn0+XG4gICAgICAgICAgICAgIDxCdXR0b24gYnV0dG9uU3R5bGU9XCJwcmltYXJ5XCIgaHRtbFR5cGU9XCJzdWJtaXRcIiBjc3M9e3sgZmxvYXQ6ICdyaWdodCcgfX0+XG4gICAgICAgICAgICAgICAge3QoJ1N1Ym1pdCcpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvU2NoZW1hRm9ybT5cbiAgICAgICAgICA8L1N0eWxlZEpzb25TY2hlbWE+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgICB7c2NoZWR1bGVRdWVyeVdhcm5pbmcgJiYgKDxSb3c+XG4gICAgICAgICAgPENvbCB4cz17MjR9PlxuICAgICAgICAgICAgPHNtYWxsPntzY2hlZHVsZVF1ZXJ5V2FybmluZ308L3NtYWxsPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICA8L1Jvdz4pfVxuICAgIDwvRm9ybT4pO1xuICAgIHJldHVybiAoPHNwYW4gY2xhc3NOYW1lPVwiU2NoZWR1bGVRdWVyeUJ1dHRvblwiPlxuICAgICAgPE1vZGFsVHJpZ2dlciByZWY9e3NhdmVNb2RhbH0gbW9kYWxUaXRsZT17dCgnU2NoZWR1bGUgcXVlcnknKX0gbW9kYWxCb2R5PXtyZW5kZXJNb2RhbEJvZHkoKX0gdHJpZ2dlck5vZGU9ezxTdHlsZWRCdXR0b25Db21wb25lbnQgb25DbGljaz17KCkgPT4gc2V0U2hvd1NjaGVkdWxlKCFzaG93U2NoZWR1bGUpfSBidXR0b25TaXplPVwic21hbGxcIiBidXR0b25TdHlsZT1cImxpbmtcIiB0b29sdGlwPXt0b29sdGlwfSBkaXNhYmxlZD17ZGlzYWJsZWR9PlxuICAgICAgICAgICAge3QoJ1NjaGVkdWxlJyl9XG4gICAgICAgICAgPC9TdHlsZWRCdXR0b25Db21wb25lbnQ+fS8+XG4gICAgPC9zcGFuPik7XG59O1xuZXhwb3J0IGRlZmF1bHQgU2NoZWR1bGVRdWVyeUJ1dHRvbjtcbiJdfQ== */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\nconst ScheduleQueryButton = ({ defaultLabel = t('Undefined'), sql, schema, dbId, onSchedule = () => {}, scheduleQueryWarning, tooltip, disabled = false }) => {\n  const [description, setDescription] = useState('');\n  const [label, setLabel] = useState(defaultLabel);\n  const [showSchedule, setShowSchedule] = useState(false);\n  const saveModal = useRef();\n  const onScheduleSubmit = ({ formData }) => {var _saveModal$current;\n    const query = {\n      label,\n      description,\n      db_id: dbId,\n      schema,\n      sql,\n      extra_json: JSON.stringify({ schedule_info: formData })\n    };\n    onSchedule(query);\n    saveModal == null ? void 0 : (_saveModal$current = saveModal.current) == null ? void 0 : _saveModal$current.close();\n  };\n  const renderModalBody = () => _jsxs(Form, { layout: \"vertical\", children: [\n    _jsx(StyledRow, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(FormItem, { label: t('Label'), children:\n          _jsx(Input, { type: \"text\", placeholder: t('Label for your query'), value: label, onChange: (event) => setLabel(event.target.value) }) }\n        ) }\n      ) }\n    ),\n    _jsx(StyledRow, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(FormItem, { label: t('Description'), children:\n          _jsx(TextArea, { rows: 4, placeholder: t('Write a description for your query'), value: description, onChange: (event) => setDescription(event.target.value) }) }\n        ) }\n      ) }\n    ),\n    _jsx(Row, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(StyledJsonSchema, { children:\n          _jsx(SchemaForm, { schema: getJSONSchema(), uiSchema: getUISchema(), onSubmit: onScheduleSubmit, customValidate: getValidator(), validator: validator, children:\n            _jsx(Button, { buttonStyle: \"primary\", htmlType: \"submit\", css: _ref, children:\n              t('Submit') }\n            ) }\n          ) }\n        ) }\n      ) }\n    ),\n    scheduleQueryWarning && _jsx(Row, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(\"small\", { children: scheduleQueryWarning }) }\n      ) }\n    )] }\n  );\n  return _jsx(\"span\", { className: \"ScheduleQueryButton\", children:\n    _jsx(ModalTrigger, { ref: saveModal, modalTitle: t('Schedule query'), modalBody: renderModalBody(), triggerNode: _jsx(StyledButtonComponent, { onClick: () => setShowSchedule(!showSchedule), buttonSize: \"small\", buttonStyle: \"link\", tooltip: tooltip, disabled: disabled, children:\n        t('Schedule') }\n      ) }) }\n  );\n};\nexport default ScheduleQueryButton;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}