{"ast":null,"code":"import _isObject from \"lodash/isObject\";\nimport { t, SupersetClient } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { useHistory } from 'react-router-dom';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst CLOSE = t('Close');\nconst SAVE_AS_DATASET = t('Save as Dataset');\nconst OPEN_IN_SQL_LAB = t('Open in SQL Lab');\nconst ViewQueryModalFooter = (props) => {\n  const history = useHistory();\n  const viewInSQLLab = (openInNewWindow, id, type, sql) => {\n    const payload = {\n      datasourceKey: `${id}__${type}`,\n      sql\n    };\n    if (openInNewWindow) {\n      SupersetClient.postForm('/sqllab/', payload);\n    } else\n    {\n      history.push({\n        pathname: '/sqllab',\n        state: {\n          requestedQuery: payload\n        }\n      });\n    }\n  };\n  const openSQL = (openInNewWindow) => {\n    const { datasource } = props;\n    if (_isObject(datasource)) {\n      const { id, type, sql } = datasource;\n      viewInSQLLab(openInNewWindow, id, type, sql);\n    }\n  };\n  return _jsxs(\"div\", { children: [\n    _jsx(Button, { onClick: () => {\n        props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n        props == null ? void 0 : props.changeDatasource == null ? void 0 : props.changeDatasource();\n      }, children:\n      SAVE_AS_DATASET }\n    ),\n    _jsx(Button, { onClick: ({ metaKey }) => openSQL(Boolean(metaKey)), children:\n      OPEN_IN_SQL_LAB }\n    ),\n    _jsx(Button, { buttonStyle: \"primary\", onClick: () => {\n        props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n      }, children:\n      CLOSE }\n    )] }\n  );\n};\nexport default ViewQueryModalFooter;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}