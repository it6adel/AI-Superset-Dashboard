{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { SMART_DATE_ID, t } from '@superset-ui/core';\nimport { ControlSubSectionHeader, D3_FORMAT_DOCS, D3_TIME_FORMAT_OPTIONS, getStandardizedControls, temporalColumnMixin } from '@superset-ui/chart-controls';\nimport { headerFontSize, subheaderFontSize } from '../sharedControls';import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nconst config = {\n  controlPanelSections: [\n  {\n    label: t('Query'),\n    expanded: true,\n    controlSetRows: [\n    ['x_axis'],\n    ['time_grain_sqla'],\n    ['metric'],\n    ['adhoc_filters']]\n\n  },\n  {\n    label: t('Options'),\n    tabOverride: 'data',\n    expanded: true,\n    controlSetRows: [\n    [\n    {\n      name: 'compare_lag',\n      config: {\n        type: 'TextControl',\n        label: t('Comparison Period Lag'),\n        isInt: true,\n        description: t('Based on granularity, number of time periods to compare against')\n      }\n    }],\n\n    [\n    {\n      name: 'compare_suffix',\n      config: {\n        type: 'TextControl',\n        label: t('Comparison suffix'),\n        description: t('Suffix to apply after the percentage display')\n      }\n    }],\n\n    [\n    {\n      name: 'show_timestamp',\n      config: {\n        type: 'CheckboxControl',\n        label: t('Show Timestamp'),\n        renderTrigger: true,\n        default: false,\n        description: t('Whether to display the timestamp')\n      }\n    }],\n\n    [\n    {\n      name: 'show_trend_line',\n      config: {\n        type: 'CheckboxControl',\n        label: t('Show Trend Line'),\n        renderTrigger: true,\n        default: true,\n        description: t('Whether to display the trend line')\n      }\n    }],\n\n    [\n    {\n      name: 'start_y_axis_at_zero',\n      config: {\n        type: 'CheckboxControl',\n        label: t('Start y-axis at 0'),\n        renderTrigger: true,\n        default: true,\n        description: t('Start y-axis at zero. Uncheck to start y-axis at minimum value in the data.')\n      }\n    }],\n\n    [\n    {\n      name: 'time_range_fixed',\n      config: {\n        type: 'CheckboxControl',\n        label: t('Fix to selected Time Range'),\n        description: t('Fix the trend line to the full time range specified in case filtered results do not include the start or end dates'),\n        renderTrigger: true,\n        visibility(props) {\n          const { time_range: timeRange } = props.form_data;\n          // only display this option when a time range is selected\n          return !!timeRange && timeRange !== 'No filter';\n        }\n      }\n    }]]\n\n\n  },\n  {\n    label: t('Chart Options'),\n    expanded: true,\n    controlSetRows: [\n    ['color_picker', null],\n    [headerFontSize],\n    [subheaderFontSize],\n    ['y_axis_format'],\n    ['currency_format'],\n    [\n    {\n      name: 'time_format',\n      config: {\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Date format'),\n        renderTrigger: true,\n        choices: D3_TIME_FORMAT_OPTIONS,\n        description: D3_FORMAT_DOCS,\n        default: SMART_DATE_ID\n      }\n    }],\n\n    [\n    {\n      name: 'force_timestamp_formatting',\n      config: {\n        type: 'CheckboxControl',\n        label: t('Force date format'),\n        renderTrigger: true,\n        default: false,\n        description: t('Use date formatting even when metric value is not a timestamp')\n      }\n    }]]\n\n\n  },\n  {\n    label: t('Advanced Analytics'),\n    expanded: false,\n    controlSetRows: [\n    // eslint-disable-next-line react/jsx-key\n    [\n    _jsx(ControlSubSectionHeader, { children:\n      t('Rolling Window') }\n    )],\n\n    [\n    {\n      name: 'rolling_type',\n      config: {\n        type: 'SelectControl',\n        label: t('Rolling Function'),\n        default: 'None',\n        choices: [\n        ['None', t('None')],\n        ['mean', t('mean')],\n        ['sum', t('sum')],\n        ['std', t('std')],\n        ['cumsum', t('cumsum')]],\n\n        description: t('Defines a rolling window function to apply, works along ' +\n        'with the [Periods] text box')\n      }\n    }],\n\n    [\n    {\n      name: 'rolling_periods',\n      config: {\n        type: 'TextControl',\n        label: t('Periods'),\n        isInt: true,\n        description: t('Defines the size of the rolling window function, ' +\n        'relative to the time granularity selected')\n      }\n    }],\n\n    [\n    {\n      name: 'min_periods',\n      config: {\n        type: 'TextControl',\n        label: t('Min Periods'),\n        isInt: true,\n        description: t('The minimum number of rolling periods required to show ' +\n        'a value. For instance if you do a cumulative sum on 7 days ' +\n        'you may want your \"Min Period\" to be 7, so that all data points ' +\n        'shown are the total of 7 periods. This will hide the \"ramp up\" ' +\n        'taking place over the first 7 periods')\n      }\n    }],\n\n    [_jsx(ControlSubSectionHeader, { children: t('Resample') })],\n    [\n    {\n      name: 'resample_rule',\n      config: {\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Rule'),\n        default: null,\n        choices: [\n        ['1T', t('1 minutely frequency')],\n        ['1H', t('1 hourly frequency')],\n        ['1D', t('1 calendar day frequency')],\n        ['7D', t('7 calendar day frequency')],\n        ['1MS', t('1 month start frequency')],\n        ['1M', t('1 month end frequency')],\n        ['1AS', t('1 year start frequency')],\n        ['1A', t('1 year end frequency')]],\n\n        description: t('Pandas resample rule')\n      }\n    }],\n\n    [\n    {\n      name: 'resample_method',\n      config: {\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Fill method'),\n        default: null,\n        choices: [\n        ['asfreq', t('Null imputation')],\n        ['zerofill', t('Zero imputation')],\n        ['linear', t('Linear interpolation')],\n        ['ffill', t('Forward values')],\n        ['bfill', t('Backward values')],\n        ['median', t('Median values')],\n        ['mean', t('Mean values')],\n        ['sum', t('Sum values')]],\n\n        description: t('Pandas resample method')\n      }\n    }]]\n\n\n  }],\n\n  controlOverrides: {\n    y_axis_format: {\n      label: t('Number format')\n    },\n    x_axis: {\n      label: t('Temporal X-Axis'),\n      ...temporalColumnMixin\n    }\n  },\n  formDataOverrides: (formData) => ({\n    ...formData,\n    metric: getStandardizedControls().shiftMetric()\n  })\n};\nexport default config;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}