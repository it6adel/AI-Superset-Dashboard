{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { SketchPicker } from 'react-color';\nimport { getCategoricalSchemeRegistry, styled, css } from '@superset-ui/core';\nimport Popover from 'src/components/Popover';\nimport ControlHeader from '../ControlHeader';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n\nconst propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.object\n};\n\nconst defaultProps = {\n  onChange: () => {}\n};\n\nconst swatchCommon = {\n  position: 'absolute',\n  width: '50px',\n  height: '20px',\n  top: '0px',\n  left: '0px',\n  right: '0px',\n  bottom: '0px'\n};\n\nconst StyledSwatch = styled.div`\n  ${({ theme }) => `\n      width: 50px;\n      height: 20px;\n      position: relative;\n      padding: ${theme.gridUnit}px;\n      borderRadius: ${theme.borderRadius}px;\n      display: inline-block;\n      cursor: pointer;\n    `}\n`;\n\nconst styles = {\n  color: {\n    ...swatchCommon,\n    borderRadius: '2px'\n  },\n  checkerboard: {\n    ...swatchCommon,\n    background:\n    'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center'\n  }\n};\nexport default class ColorPickerControl extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(col) {\n    this.props.onChange(col.rgb);\n  }\n\n  renderPopover() {\n    const presetColors = getCategoricalSchemeRegistry().\n    get().\n    colors.filter((s, i) => i < 7);\n    return (\n      _jsx(\"div\", { id: \"filter-popover\", className: \"color-popover\", children:\n        _jsx(SketchPicker, {\n          css: css`\n            // We need to use important here as these are element level styles\n            padding: 0 !important;\n            box-shadow: none !important;\n          `,\n          color: this.props.value,\n          onChange: this.onChange,\n          presetColors: presetColors }\n        ) }\n      ));\n\n  }\n\n  render() {\n    const c = this.props.value || { r: 0, g: 0, b: 0, a: 0 };\n    const colStyle = {\n      ...styles.color,\n      background: `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})`\n    };\n    return (\n      _jsxs(\"div\", { children: [\n        _jsx(ControlHeader, { ...this.props }),\n        _jsx(Popover, {\n          trigger: \"click\",\n          placement: \"right\",\n          content: this.renderPopover(), children:\n\n          _jsxs(StyledSwatch, { children: [\n            _jsx(\"div\", { style: styles.checkerboard }),\n            _jsx(\"div\", { style: colStyle })] }\n          ) }\n        )] }\n      ));\n\n  }\n}\n\nColorPickerControl.propTypes = propTypes;\nColorPickerControl.defaultProps = defaultProps;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}