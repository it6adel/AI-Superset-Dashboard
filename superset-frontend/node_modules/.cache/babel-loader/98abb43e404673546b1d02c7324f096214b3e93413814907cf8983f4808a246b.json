{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport logger from './logging';\n// We can codegen the enum definition based on a list of supported flags that we\n// check into source control. We're hardcoding the supported flags for now.\nexport var FeatureFlag;\n(function (FeatureFlag) {\n  // PLEASE KEEP THE LIST SORTED ALPHABETICALLY\n  FeatureFlag[\"AlertsAttachReports\"] = \"ALERTS_ATTACH_REPORTS\";\n  FeatureFlag[\"AlertReports\"] = \"ALERT_REPORTS\";\n  FeatureFlag[\"AlertReportTabs\"] = \"ALERT_REPORT_TABS\";\n  FeatureFlag[\"AlertReportSlackV2\"] = \"ALERT_REPORT_SLACK_V2\";\n  FeatureFlag[\"AllowFullCsvExport\"] = \"ALLOW_FULL_CSV_EXPORT\";\n  FeatureFlag[\"AvoidColorsCollision\"] = \"AVOID_COLORS_COLLISION\";\n  FeatureFlag[\"ChartPluginsExperimental\"] = \"CHART_PLUGINS_EXPERIMENTAL\";\n  FeatureFlag[\"ConfirmDashboardDiff\"] = \"CONFIRM_DASHBOARD_DIFF\";\n  FeatureFlag[\"DashboardVirtualization\"] = \"DASHBOARD_VIRTUALIZATION\";\n  FeatureFlag[\"DashboardRbac\"] = \"DASHBOARD_RBAC\";\n  FeatureFlag[\"DatapanelClosedByDefault\"] = \"DATAPANEL_CLOSED_BY_DEFAULT\";\n  /** @deprecated */\n  FeatureFlag[\"DrillToDetail\"] = \"DRILL_TO_DETAIL\";\n  FeatureFlag[\"DrillBy\"] = \"DRILL_BY\";\n  FeatureFlag[\"DynamicPlugins\"] = \"DYNAMIC_PLUGINS\";\n  FeatureFlag[\"EmbeddableCharts\"] = \"EMBEDDABLE_CHARTS\";\n  FeatureFlag[\"EmbeddedSuperset\"] = \"EMBEDDED_SUPERSET\";\n  FeatureFlag[\"EnableAdvancedDataTypes\"] = \"ENABLE_ADVANCED_DATA_TYPES\";\n  /** @deprecated */\n  FeatureFlag[\"EnableJavascriptControls\"] = \"ENABLE_JAVASCRIPT_CONTROLS\";\n  FeatureFlag[\"EnableTemplateProcessing\"] = \"ENABLE_TEMPLATE_PROCESSING\";\n  FeatureFlag[\"EscapeMarkdownHtml\"] = \"ESCAPE_MARKDOWN_HTML\";\n  FeatureFlag[\"EstimateQueryCost\"] = \"ESTIMATE_QUERY_COST\";\n  FeatureFlag[\"GlobalAsyncQueries\"] = \"GLOBAL_ASYNC_QUERIES\";\n  FeatureFlag[\"ListviewsDefaultCardView\"] = \"LISTVIEWS_DEFAULT_CARD_VIEW\";\n  FeatureFlag[\"ScheduledQueries\"] = \"SCHEDULED_QUERIES\";\n  FeatureFlag[\"SqllabBackendPersistence\"] = \"SQLLAB_BACKEND_PERSISTENCE\";\n  FeatureFlag[\"SqlValidatorsByEngine\"] = \"SQL_VALIDATORS_BY_ENGINE\";\n  FeatureFlag[\"SshTunneling\"] = \"SSH_TUNNELING\";\n  FeatureFlag[\"TaggingSystem\"] = \"TAGGING_SYSTEM\";\n  FeatureFlag[\"Thumbnails\"] = \"THUMBNAILS\";\n  FeatureFlag[\"UseAnalogousColors\"] = \"USE_ANALOGOUS_COLORS\";\n  FeatureFlag[\"ForceSqlLabRunAsync\"] = \"SQLLAB_FORCE_RUN_ASYNC\";\n  FeatureFlag[\"SlackEnableAvatars\"] = \"SLACK_ENABLE_AVATARS\";\n  FeatureFlag[\"EnableDashboardScreenshotEndpoints\"] = \"ENABLE_DASHBOARD_SCREENSHOT_ENDPOINTS\";\n  FeatureFlag[\"EnableDashboardDownloadWebDriverScreenshot\"] = \"ENABLE_DASHBOARD_DOWNLOAD_WEBDRIVER_SCREENSHOT\";\n})(FeatureFlag || (FeatureFlag = {}));\nexport function initFeatureFlags(featureFlags) {\n  if (!window.featureFlags) {\n    window.featureFlags = featureFlags || {};\n  }\n}\nexport function isFeatureEnabled(feature) {\n  try {\n    return !!window.featureFlags[feature];\n  }\n  catch (error) {\n    logger.error(`Failed to query feature flag ${feature}`);\n  }\n  return false;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}