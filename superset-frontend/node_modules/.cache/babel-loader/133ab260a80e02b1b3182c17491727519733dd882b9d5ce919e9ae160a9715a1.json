{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useSelector } from 'react-redux';\nimport { findPermission } from 'src/utils/findPermission';\nexport const usePermissions = () => {\n  const canExplore = useSelector((state) => {var _state$user;return findPermission('can_explore', 'Superset', (_state$user = state.user) == null ? void 0 : _state$user.roles);});\n  const canWriteExploreFormData = useSelector((state) => {var _state$user2;return findPermission('can_write', 'ExploreFormDataRestApi', (_state$user2 = state.user) == null ? void 0 : _state$user2.roles);});\n  const canDatasourceSamples = useSelector((state) => {var _state$user3;return findPermission('can_samples', 'Datasource', (_state$user3 = state.user) == null ? void 0 : _state$user3.roles);});\n  const canDownload = useSelector((state) => {var _state$user4;return findPermission('can_csv', 'Superset', (_state$user4 = state.user) == null ? void 0 : _state$user4.roles);});\n  const canDrill = useSelector((state) => {var _state$user5;return findPermission('can_drill', 'Dashboard', (_state$user5 = state.user) == null ? void 0 : _state$user5.roles);});\n  const canDrillBy = (canExplore || canDrill) && canWriteExploreFormData;\n  const canDrillToDetail = (canExplore || canDrill) && canDatasourceSamples;\n  const canViewQuery = useSelector((state) => {var _state$user6;return findPermission('can_view_query', 'Dashboard', (_state$user6 = state.user) == null ? void 0 : _state$user6.roles);});\n  const canViewTable = useSelector((state) => {var _state$user7;return findPermission('can_view_chart_as_table', 'Dashboard', (_state$user7 = state.user) == null ? void 0 : _state$user7.roles);});\n  return {\n    canExplore,\n    canWriteExploreFormData,\n    canDatasourceSamples,\n    canDownload,\n    canDrill,\n    canDrillBy,\n    canDrillToDetail,\n    canViewQuery,\n    canViewTable\n  };\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}