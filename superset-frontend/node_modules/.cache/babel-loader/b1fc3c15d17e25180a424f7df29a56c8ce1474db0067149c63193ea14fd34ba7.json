{"ast":null,"code":"function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";} /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport {\n  css,\n  DatasourceType,\n  ensureIsArray,\n  isFeatureEnabled,\n  FeatureFlag,\n  getChartMetadataRegistry,\n  styled,\n  SupersetClient,\n  t,\n  useTheme } from\n'@superset-ui/core';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/components/Chart/ChartContainer';\nimport {\n  getItem,\n  setItem,\n  LocalStorageKeys } from\n'src/utils/localStorageHelpers';\nimport Alert from 'src/components/Alert';\nimport { SaveDatasetModal } from 'src/SqlLab/components/SaveDatasetModal';\nimport { getDatasourceAsSaveableDataset } from 'src/utils/datasourceUtils';\nimport { buildV1ChartDataPayload } from 'src/explore/exploreUtils';\nimport { getChartRequiredFieldsMissingMessage } from 'src/utils/getChartRequiredFieldsMissingMessage';\nimport { DataTablesPane } from '../DataTablesPane';\nimport { ChartPills } from '../ChartPills';\nimport { ExploreAlert } from '../ExploreAlert';\nimport useResizeDetectorByObserver from './useResizeDetectorByObserver';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  dashboardId: PropTypes.number,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.bool,\n  force: PropTypes.bool,\n  timeout: PropTypes.number,\n  chartIsStale: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool\n};\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst INITIAL_SIZES = [100, 0];\nconst MIN_SIZES = [300, 65];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div {\n    height: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    width: ${({ theme }) => theme.gridUnit * 9}px;\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    display: ${({ showSplite }) => showSplite ? 'block' : 'none'};\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;var _ref = process.env.NODE_ENV === \"production\" ? { name: \"1wbll7q\", styles: \"text-decoration:underline\" } : { name: \"1iriwhq-panelBody\", styles: \"text-decoration:underline;label:panelBody;/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkZWwvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9FeHBsb3JlQ2hhcnRQYW5lbC9pbmRleC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd1VrQiIsImZpbGUiOiIvaG9tZS9hZGVsL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvRXhwbG9yZUNoYXJ0UGFuZWwvaW5kZXguanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFNwbGl0IGZyb20gJ3JlYWN0LXNwbGl0JztcbmltcG9ydCB7XG4gIGNzcyxcbiAgRGF0YXNvdXJjZVR5cGUsXG4gIGVuc3VyZUlzQXJyYXksXG4gIGlzRmVhdHVyZUVuYWJsZWQsXG4gIEZlYXR1cmVGbGFnLFxuICBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnksXG4gIHN0eWxlZCxcbiAgU3VwZXJzZXRDbGllbnQsXG4gIHQsXG4gIHVzZVRoZW1lLFxufSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyBjaGFydFByb3BTaGFwZSB9IGZyb20gJ3NyYy9kYXNoYm9hcmQvdXRpbC9wcm9wU2hhcGVzJztcbmltcG9ydCBDaGFydENvbnRhaW5lciBmcm9tICdzcmMvY29tcG9uZW50cy9DaGFydC9DaGFydENvbnRhaW5lcic7XG5pbXBvcnQge1xuICBnZXRJdGVtLFxuICBzZXRJdGVtLFxuICBMb2NhbFN0b3JhZ2VLZXlzLFxufSBmcm9tICdzcmMvdXRpbHMvbG9jYWxTdG9yYWdlSGVscGVycyc7XG5pbXBvcnQgQWxlcnQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQWxlcnQnO1xuaW1wb3J0IHsgU2F2ZURhdGFzZXRNb2RhbCB9IGZyb20gJ3NyYy9TcWxMYWIvY29tcG9uZW50cy9TYXZlRGF0YXNldE1vZGFsJztcbmltcG9ydCB7IGdldERhdGFzb3VyY2VBc1NhdmVhYmxlRGF0YXNldCB9IGZyb20gJ3NyYy91dGlscy9kYXRhc291cmNlVXRpbHMnO1xuaW1wb3J0IHsgYnVpbGRWMUNoYXJ0RGF0YVBheWxvYWQgfSBmcm9tICdzcmMvZXhwbG9yZS9leHBsb3JlVXRpbHMnO1xuaW1wb3J0IHsgZ2V0Q2hhcnRSZXF1aXJlZEZpZWxkc01pc3NpbmdNZXNzYWdlIH0gZnJvbSAnc3JjL3V0aWxzL2dldENoYXJ0UmVxdWlyZWRGaWVsZHNNaXNzaW5nTWVzc2FnZSc7XG5pbXBvcnQgeyBEYXRhVGFibGVzUGFuZSB9IGZyb20gJy4uL0RhdGFUYWJsZXNQYW5lJztcbmltcG9ydCB7IENoYXJ0UGlsbHMgfSBmcm9tICcuLi9DaGFydFBpbGxzJztcbmltcG9ydCB7IEV4cGxvcmVBbGVydCB9IGZyb20gJy4uL0V4cGxvcmVBbGVydCc7XG5pbXBvcnQgdXNlUmVzaXplRGV0ZWN0b3JCeU9ic2VydmVyIGZyb20gJy4vdXNlUmVzaXplRGV0ZWN0b3JCeU9ic2VydmVyJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICBhY3Rpb25zOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uUXVlcnk6IFByb3BUeXBlcy5mdW5jLFxuICBjYW5fb3ZlcndyaXRlOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBjYW5fZG93bmxvYWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGRhdGFzb3VyY2U6IFByb3BUeXBlcy5vYmplY3QsXG4gIGRhc2hib2FyZElkOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjb2x1bW5fZm9ybWF0czogUHJvcFR5cGVzLm9iamVjdCxcbiAgY29udGFpbmVySWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgaXNTdGFycmVkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBzbGljZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgc2xpY2VOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0YWJsZV9uYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB2aXpUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGZvcm1fZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb3duU3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIHN0YW5kYWxvbmU6IFByb3BUeXBlcy5ib29sLFxuICBmb3JjZTogUHJvcFR5cGVzLmJvb2wsXG4gIHRpbWVvdXQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIGNoYXJ0SXNTdGFsZTogUHJvcFR5cGVzLmJvb2wsXG4gIGNoYXJ0OiBjaGFydFByb3BTaGFwZSxcbiAgZXJyb3JNZXNzYWdlOiBQcm9wVHlwZXMubm9kZSxcbiAgdHJpZ2dlclJlbmRlcjogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5jb25zdCBHVVRURVJfU0laRV9GQUNUT1IgPSAxLjI1O1xuXG5jb25zdCBJTklUSUFMX1NJWkVTID0gWzEwMCwgMF07XG5jb25zdCBNSU5fU0laRVMgPSBbMzAwLCA2NV07XG5jb25zdCBERUZBVUxUX1NPVVRIX1BBTkVfSEVJR0hUX1BFUkNFTlQgPSA0MDtcblxuY29uc3QgU3R5bGVzID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gIGFsaWduLWNvbnRlbnQ6IHN0cmV0Y2g7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBib3gtc2hhZG93OiBub25lO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgJiA+IGRpdiB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmd1dHRlciB7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDJ9O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcbiAgICB3aWR0aDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDl9cHg7XG4gICAgbWFyZ2luOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogR1VUVEVSX1NJWkVfRkFDVE9SfXB4IGF1dG87XG4gIH1cblxuICAuZ3V0dGVyLmd1dHRlci12ZXJ0aWNhbCB7XG4gICAgZGlzcGxheTogJHsoeyBzaG93U3BsaXRlIH0pID0+IChzaG93U3BsaXRlID8gJ2Jsb2NrJyA6ICdub25lJyl9O1xuICAgIGN1cnNvcjogcm93LXJlc2l6ZTtcbiAgfVxuXG4gIC5hbnQtY29sbGFwc2Uge1xuICAgIC5hbnQtdGFicyB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAuYW50LXRhYnMtbmF2IHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNX1weDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuICAgICAgLmFudC10YWJzLWNvbnRlbnQtaG9sZGVyIHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgLmFudC10YWJzLWNvbnRlbnQge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuY29uc3QgRXhwbG9yZUNoYXJ0UGFuZWwgPSAoe1xuICBjaGFydCxcbiAgc2xpY2UsXG4gIHZpelR5cGUsXG4gIG93blN0YXRlLFxuICB0cmlnZ2VyUmVuZGVyLFxuICBmb3JjZSxcbiAgZGF0YXNvdXJjZSxcbiAgZXJyb3JNZXNzYWdlLFxuICBmb3JtX2RhdGE6IGZvcm1EYXRhLFxuICBvblF1ZXJ5LFxuICBhY3Rpb25zLFxuICB0aW1lb3V0LFxuICBzdGFuZGFsb25lLFxuICBjaGFydElzU3RhbGUsXG4gIGNoYXJ0QWxlcnQsXG4gIGNhbl9kb3dubG9hZDogY2FuRG93bmxvYWQsXG59KSA9PiB7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgZ3V0dGVyTWFyZ2luID0gdGhlbWUuZ3JpZFVuaXQgKiBHVVRURVJfU0laRV9GQUNUT1I7XG4gIGNvbnN0IGd1dHRlckhlaWdodCA9IHRoZW1lLmdyaWRVbml0ICogR1VUVEVSX1NJWkVfRkFDVE9SO1xuICBjb25zdCB7XG4gICAgcmVmOiBjaGFydFBhbmVsUmVmLFxuICAgIG9ic2VydmVyUmVmOiByZXNpemVPYnNlcnZlclJlZixcbiAgICB3aWR0aDogY2hhcnRQYW5lbFdpZHRoLFxuICAgIGhlaWdodDogY2hhcnRQYW5lbEhlaWdodCxcbiAgfSA9IHVzZVJlc2l6ZURldGVjdG9yQnlPYnNlcnZlcigpO1xuICBjb25zdCBbc3BsaXRTaXplcywgc2V0U3BsaXRTaXplc10gPSB1c2VTdGF0ZShcbiAgICBpc0ZlYXR1cmVFbmFibGVkKEZlYXR1cmVGbGFnLkRhdGFwYW5lbENsb3NlZEJ5RGVmYXVsdClcbiAgICAgID8gSU5JVElBTF9TSVpFU1xuICAgICAgOiBnZXRJdGVtKExvY2FsU3RvcmFnZUtleXMuQ2hhcnRTcGxpdFNpemVzLCBJTklUSUFMX1NJWkVTKSxcbiAgKTtcbiAgY29uc3QgW3Nob3dTcGxpdGUsIHNldFNob3dTcGxpdF0gPSB1c2VTdGF0ZShcbiAgICBpc0ZlYXR1cmVFbmFibGVkKEZlYXR1cmVGbGFnLkRhdGFwYW5lbENsb3NlZEJ5RGVmYXVsdClcbiAgICAgID8gZmFsc2VcbiAgICAgIDogZ2V0SXRlbShMb2NhbFN0b3JhZ2VLZXlzLklzRGF0YXBhbmVsT3BlbiwgZmFsc2UpLFxuICApO1xuXG4gIGNvbnN0IFtzaG93RGF0YXNldE1vZGFsLCBzZXRTaG93RGF0YXNldE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBtZXRhRGF0YVJlZ2lzdHJ5ID0gZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5KCk7XG4gIGNvbnN0IHsgdXNlTGVnYWN5QXBpIH0gPSBtZXRhRGF0YVJlZ2lzdHJ5LmdldCh2aXpUeXBlKSA/PyB7fTtcbiAgY29uc3Qgdml6VHlwZU5lZWRzRGF0YXNldCA9XG4gICAgdXNlTGVnYWN5QXBpICYmIGRhdGFzb3VyY2UudHlwZSAhPT0gRGF0YXNvdXJjZVR5cGUuVGFibGU7XG4gIC8vIGFkZGVkIGJvb2xlYW4gY29sdW1uIHRvIGJlbG93IHNob3cgYm9vbGVhbiBzbyB0aGF0IHRoZSBlcnJvcnMgYXJlbid0IG92ZXJsYXBwaW5nXG4gIGNvbnN0IHNob3dBbGVydEJhbm5lciA9XG4gICAgIWNoYXJ0QWxlcnQgJiZcbiAgICBjaGFydElzU3RhbGUgJiZcbiAgICAhdml6VHlwZU5lZWRzRGF0YXNldCAmJlxuICAgIGNoYXJ0LmNoYXJ0U3RhdHVzICE9PSAnZmFpbGVkJyAmJlxuICAgIGVuc3VyZUlzQXJyYXkoY2hhcnQucXVlcmllc1Jlc3BvbnNlKS5sZW5ndGggPiAwO1xuXG4gIGNvbnN0IHVwZGF0ZVF1ZXJ5Q29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQ2hhcnREYXRhKCkge1xuICAgICAgaWYgKHNsaWNlICYmIHNsaWNlLnF1ZXJ5X2NvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcXVlcnlDb250ZXh0ID0gYnVpbGRWMUNoYXJ0RGF0YVBheWxvYWQoe1xuICAgICAgICAgIGZvcm1EYXRhOiBzbGljZS5mb3JtX2RhdGEsXG4gICAgICAgICAgZm9yY2UsXG4gICAgICAgICAgcmVzdWx0Rm9ybWF0OiAnanNvbicsXG4gICAgICAgICAgcmVzdWx0VHlwZTogJ2Z1bGwnLFxuICAgICAgICAgIHNldERhdGFNYXNrOiBudWxsLFxuICAgICAgICAgIG93blN0YXRlOiBudWxsLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBTdXBlcnNldENsaWVudC5wdXQoe1xuICAgICAgICAgIGVuZHBvaW50OiBgL2FwaS92MS9jaGFydC8ke3NsaWNlLnNsaWNlX2lkfWAsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcXVlcnlfY29udGV4dDogSlNPTi5zdHJpbmdpZnkocXVlcnlDb250ZXh0KSxcbiAgICAgICAgICAgIHF1ZXJ5X2NvbnRleHRfZ2VuZXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2xpY2VdLFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdXBkYXRlUXVlcnlDb250ZXh0KCk7XG4gIH0sIFt1cGRhdGVRdWVyeUNvbnRleHRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEl0ZW0oTG9jYWxTdG9yYWdlS2V5cy5DaGFydFNwbGl0U2l6ZXMsIHNwbGl0U2l6ZXMpO1xuICB9LCBbc3BsaXRTaXplc10pO1xuXG4gIGNvbnN0IG9uRHJhZ0VuZCA9IHVzZUNhbGxiYWNrKHNpemVzID0+IHtcbiAgICBzZXRTcGxpdFNpemVzKHNpemVzKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHJlZnJlc2hDYWNoZWRRdWVyeSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBhY3Rpb25zLnNldEZvcmNlUXVlcnkodHJ1ZSk7XG4gICAgYWN0aW9ucy5wb3N0Q2hhcnRGb3JtRGF0YShcbiAgICAgIGZvcm1EYXRhLFxuICAgICAgdHJ1ZSxcbiAgICAgIHRpbWVvdXQsXG4gICAgICBjaGFydC5pZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG93blN0YXRlLFxuICAgICk7XG4gICAgYWN0aW9ucy51cGRhdGVRdWVyeUZvcm1EYXRhKGZvcm1EYXRhLCBjaGFydC5pZCk7XG4gIH0sIFthY3Rpb25zLCBjaGFydC5pZCwgZm9ybURhdGEsIG93blN0YXRlLCB0aW1lb3V0XSk7XG5cbiAgY29uc3Qgb25Db2xsYXBzZUNoYW5nZSA9IHVzZUNhbGxiYWNrKGlzT3BlbiA9PiB7XG4gICAgbGV0IHNwbGl0U2l6ZXM7XG4gICAgaWYgKCFpc09wZW4pIHtcbiAgICAgIHNwbGl0U2l6ZXMgPSBJTklUSUFMX1NJWkVTO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpdFNpemVzID0gW1xuICAgICAgICAxMDAgLSBERUZBVUxUX1NPVVRIX1BBTkVfSEVJR0hUX1BFUkNFTlQsXG4gICAgICAgIERFRkFVTFRfU09VVEhfUEFORV9IRUlHSFRfUEVSQ0VOVCxcbiAgICAgIF07XG4gICAgfVxuICAgIHNldFNwbGl0U2l6ZXMoc3BsaXRTaXplcyk7XG4gICAgc2V0U2hvd1NwbGl0KGlzT3Blbik7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZW5kZXJDaGFydCA9IHVzZUNhbGxiYWNrKFxuICAgICgpID0+IChcbiAgICAgIDxkaXZcbiAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICBgfVxuICAgICAgICByZWY9e2NoYXJ0UGFuZWxSZWZ9XG4gICAgICA+XG4gICAgICAgIHtjaGFydFBhbmVsV2lkdGggJiYgY2hhcnRQYW5lbEhlaWdodCAmJiAoXG4gICAgICAgICAgPENoYXJ0Q29udGFpbmVyXG4gICAgICAgICAgICB3aWR0aD17TWF0aC5mbG9vcihjaGFydFBhbmVsV2lkdGgpfVxuICAgICAgICAgICAgaGVpZ2h0PXtjaGFydFBhbmVsSGVpZ2h0fVxuICAgICAgICAgICAgb3duU3RhdGU9e293blN0YXRlfVxuICAgICAgICAgICAgYW5ub3RhdGlvbkRhdGE9e2NoYXJ0LmFubm90YXRpb25EYXRhfVxuICAgICAgICAgICAgY2hhcnRBbGVydD17Y2hhcnQuY2hhcnRBbGVydH1cbiAgICAgICAgICAgIGNoYXJ0U3RhY2tUcmFjZT17Y2hhcnQuY2hhcnRTdGFja1RyYWNlfVxuICAgICAgICAgICAgY2hhcnRJZD17Y2hhcnQuaWR9XG4gICAgICAgICAgICBjaGFydFN0YXR1cz17Y2hhcnQuY2hhcnRTdGF0dXN9XG4gICAgICAgICAgICB0cmlnZ2VyUmVuZGVyPXt0cmlnZ2VyUmVuZGVyfVxuICAgICAgICAgICAgZm9yY2U9e2ZvcmNlfVxuICAgICAgICAgICAgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX1cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgICAgZm9ybURhdGE9e2Zvcm1EYXRhfVxuICAgICAgICAgICAgbGF0ZXN0UXVlcnlGb3JtRGF0YT17Y2hhcnQubGF0ZXN0UXVlcnlGb3JtRGF0YX1cbiAgICAgICAgICAgIG9uUXVlcnk9e29uUXVlcnl9XG4gICAgICAgICAgICBxdWVyaWVzUmVzcG9uc2U9e2NoYXJ0LnF1ZXJpZXNSZXNwb25zZX1cbiAgICAgICAgICAgIGNoYXJ0SXNTdGFsZT17Y2hhcnRJc1N0YWxlfVxuICAgICAgICAgICAgc2V0Q29udHJvbFZhbHVlPXthY3Rpb25zLnNldENvbnRyb2xWYWx1ZX1cbiAgICAgICAgICAgIHRpbWVvdXQ9e3RpbWVvdXR9XG4gICAgICAgICAgICB0cmlnZ2VyUXVlcnk9e2NoYXJ0LnRyaWdnZXJRdWVyeX1cbiAgICAgICAgICAgIHZpelR5cGU9e3ZpelR5cGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICksXG4gICAgW1xuICAgICAgYWN0aW9ucy5zZXRDb250cm9sVmFsdWUsXG4gICAgICBjaGFydC5hbm5vdGF0aW9uRGF0YSxcbiAgICAgIGNoYXJ0LmNoYXJ0QWxlcnQsXG4gICAgICBjaGFydC5jaGFydFN0YWNrVHJhY2UsXG4gICAgICBjaGFydC5jaGFydFN0YXR1cyxcbiAgICAgIGNoYXJ0LmlkLFxuICAgICAgY2hhcnQubGF0ZXN0UXVlcnlGb3JtRGF0YSxcbiAgICAgIGNoYXJ0LnF1ZXJpZXNSZXNwb25zZSxcbiAgICAgIGNoYXJ0LnRyaWdnZXJRdWVyeSxcbiAgICAgIGNoYXJ0SXNTdGFsZSxcbiAgICAgIGNoYXJ0UGFuZWxIZWlnaHQsXG4gICAgICBjaGFydFBhbmVsUmVmLFxuICAgICAgY2hhcnRQYW5lbFdpZHRoLFxuICAgICAgZGF0YXNvdXJjZSxcbiAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgIGZvcmNlLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBvblF1ZXJ5LFxuICAgICAgb3duU3RhdGUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgdHJpZ2dlclJlbmRlcixcbiAgICAgIHZpelR5cGUsXG4gICAgXSxcbiAgKTtcblxuICBjb25zdCBwYW5lbEJvZHkgPSB1c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiXG4gICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYH1cbiAgICAgICAgcmVmPXtyZXNpemVPYnNlcnZlclJlZn1cbiAgICAgID5cbiAgICAgICAge3ZpelR5cGVOZWVkc0RhdGFzZXQgJiYgKFxuICAgICAgICAgIDxBbGVydFxuICAgICAgICAgICAgbWVzc2FnZT17dCgnQ2hhcnQgdHlwZSByZXF1aXJlcyBhIGRhdGFzZXQnKX1cbiAgICAgICAgICAgIHR5cGU9XCJlcnJvclwiXG4gICAgICAgICAgICBjc3M9e3RoZW1lID0+IGNzc2BcbiAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgJHt0aGVtZS5ncmlkVW5pdCAqIDR9cHggMDtcbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgICBkZXNjcmlwdGlvbj17XG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3QoXG4gICAgICAgICAgICAgICAgICAnVGhpcyBjaGFydCB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhbiB1bnNhdmVkIHF1ZXJ5IGFzIGEgY2hhcnQgc291cmNlLiAnLFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RGF0YXNldE1vZGFsKHRydWUpfVxuICAgICAgICAgICAgICAgICAgY3NzPXt7IHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt0KCdDcmVhdGUgYSBkYXRhc2V0Jyl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIHt0KCcgdG8gdmlzdWFsaXplIHlvdXIgZGF0YS4nKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge3Nob3dBbGVydEJhbm5lciAmJiAoXG4gICAgICAgICAgPEV4cGxvcmVBbGVydFxuICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VcbiAgICAgICAgICAgICAgICA/IHQoJ1JlcXVpcmVkIGNvbnRyb2wgdmFsdWVzIGhhdmUgYmVlbiByZW1vdmVkJylcbiAgICAgICAgICAgICAgICA6IHQoJ1lvdXIgY2hhcnQgaXMgbm90IHVwIHRvIGRhdGUnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keVRleHQ9e1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgZ2V0Q2hhcnRSZXF1aXJlZEZpZWxkc01pc3NpbmdNZXNzYWdlKGZhbHNlKVxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAge3QoXG4gICAgICAgICAgICAgICAgICAgICdZb3UgdXBkYXRlZCB0aGUgdmFsdWVzIGluIHRoZSBjb250cm9sIHBhbmVsLCBidXQgdGhlIGNoYXJ0IHdhcyBub3QgdXBkYXRlZCBhdXRvbWF0aWNhbGx5LiBSdW4gdGhlIHF1ZXJ5IGJ5IGNsaWNraW5nIG9uIHRoZSBcIlVwZGF0ZSBjaGFydFwiIGJ1dHRvbiBvcicsXG4gICAgICAgICAgICAgICAgICApfXsnICd9XG4gICAgICAgICAgICAgICAgICA8c3BhbiByb2xlPVwiYnV0dG9uXCIgdGFiSW5kZXg9ezB9IG9uQ2xpY2s9e29uUXVlcnl9PlxuICAgICAgICAgICAgICAgICAgICB7dCgnY2xpY2sgaGVyZScpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgLlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZT1cIndhcm5pbmdcIlxuICAgICAgICAgICAgY3NzPXt0aGVtZSA9PiBjc3NgXG4gICAgICAgICAgICAgIG1hcmdpbjogMCAwICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4IDA7XG4gICAgICAgICAgICBgfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIDxDaGFydFBpbGxzXG4gICAgICAgICAgcXVlcmllc1Jlc3BvbnNlPXtjaGFydC5xdWVyaWVzUmVzcG9uc2V9XG4gICAgICAgICAgY2hhcnRTdGF0dXM9e2NoYXJ0LmNoYXJ0U3RhdHVzfVxuICAgICAgICAgIGNoYXJ0VXBkYXRlU3RhcnRUaW1lPXtjaGFydC5jaGFydFVwZGF0ZVN0YXJ0VGltZX1cbiAgICAgICAgICBjaGFydFVwZGF0ZUVuZFRpbWU9e2NoYXJ0LmNoYXJ0VXBkYXRlRW5kVGltZX1cbiAgICAgICAgICByZWZyZXNoQ2FjaGVkUXVlcnk9e3JlZnJlc2hDYWNoZWRRdWVyeX1cbiAgICAgICAgICByb3dMaW1pdD17Zm9ybURhdGE/LnJvd19saW1pdH1cbiAgICAgICAgLz5cbiAgICAgICAge3JlbmRlckNoYXJ0KCl9XG4gICAgICA8L2Rpdj5cbiAgICApLFxuICAgIFtcbiAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLFxuICAgICAgc2hvd0FsZXJ0QmFubmVyLFxuICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgb25RdWVyeSxcbiAgICAgIGNoYXJ0LnF1ZXJpZXNSZXNwb25zZSxcbiAgICAgIGNoYXJ0LmNoYXJ0U3RhdHVzLFxuICAgICAgY2hhcnQuY2hhcnRVcGRhdGVTdGFydFRpbWUsXG4gICAgICBjaGFydC5jaGFydFVwZGF0ZUVuZFRpbWUsXG4gICAgICByZWZyZXNoQ2FjaGVkUXVlcnksXG4gICAgICBmb3JtRGF0YT8ucm93X2xpbWl0LFxuICAgICAgcmVuZGVyQ2hhcnQsXG4gICAgXSxcbiAgKTtcblxuICBjb25zdCBzdGFuZGFsb25lQ2hhcnRCb2R5ID0gdXNlTWVtbygoKSA9PiByZW5kZXJDaGFydCgpLCBbcmVuZGVyQ2hhcnRdKTtcblxuICBjb25zdCBbcXVlcnlGb3JtRGF0YSwgc2V0UXVlcnlGb3JtRGF0YV0gPSB1c2VTdGF0ZShjaGFydC5sYXRlc3RRdWVyeUZvcm1EYXRhKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIG9ubHkgdXBkYXRlIHdoZW4gYGxhdGVzdFF1ZXJ5Rm9ybURhdGFgIGNoYW5nZXMgQU5EIGB0cmlnZ2VyUmVuZGVyYFxuICAgIC8vIGlzIGZhbHNlLiBObyB1cGRhdGUgc2hvdWxkIGJlIGRvbmUgd2hlbiBvbmx5IGB0cmlnZ2VyUmVuZGVyYCBjaGFuZ2VzLFxuICAgIC8vIGFzIHRoaXMgY2FuIHRyaWdnZXIgYSBxdWVyeSBkb3duc3RyZWFtIGJhc2VkIG9uIGluY29tcGxldGUgZm9ybSBkYXRhLlxuICAgIC8vIChgbGF0ZXN0UXVlcnlGb3JtRGF0YWAgaXMgb25seSB1cGRhdGVkIHdoZW4gYSBhIHZhbGlkIHJlcXVlc3QgaGFzIGJlZW5cbiAgICAvLyB0cmlnZ2VyZWQpLlxuICAgIGlmICghdHJpZ2dlclJlbmRlcikge1xuICAgICAgc2V0UXVlcnlGb3JtRGF0YShjaGFydC5sYXRlc3RRdWVyeUZvcm1EYXRhKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbY2hhcnQubGF0ZXN0UXVlcnlGb3JtRGF0YV0pO1xuXG4gIGNvbnN0IGVsZW1lbnRTdHlsZSA9IHVzZUNhbGxiYWNrKFxuICAgIChkaW1lbnNpb24sIGVsZW1lbnRTaXplLCBndXR0ZXJTaXplKSA9PiAoe1xuICAgICAgW2RpbWVuc2lvbl06IGBjYWxjKCR7ZWxlbWVudFNpemV9JSAtICR7Z3V0dGVyU2l6ZSArIGd1dHRlck1hcmdpbn1weClgLFxuICAgIH0pLFxuICAgIFtndXR0ZXJNYXJnaW5dLFxuICApO1xuXG4gIGlmIChzdGFuZGFsb25lKSB7XG4gICAgLy8gZG9tIG1hbmlwdWxhdGlvbiBoYWNrIHRvIGdldCByaWQgb2YgdGhlIGJvb3RzdHJhcCB0aGVtZSdzIGJvZHkgYmFja2dyb3VuZFxuICAgIGNvbnN0IHN0YW5kYWxvbmVDbGFzcyA9ICdiYWNrZ3JvdW5kLXRyYW5zcGFyZW50JztcbiAgICBjb25zdCBib2R5Q2xhc3NlcyA9IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgaWYgKCFib2R5Q2xhc3Nlcy5pbmNsdWRlcyhzdGFuZGFsb25lQ2xhc3MpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSArPSBgICR7c3RhbmRhbG9uZUNsYXNzfWA7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwiYXBwXCIgZGF0YS10ZXN0PVwic3RhbmRhbG9uZS1hcHBcIiByZWY9e3Jlc2l6ZU9ic2VydmVyUmVmfT5cbiAgICAgICAge3N0YW5kYWxvbmVDaGFydEJvZHl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8U3R5bGVzXG4gICAgICBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IGNoYXJ0LWNvbnRhaW5lclwiXG4gICAgICBzaG93U3BsaXRlPXtzaG93U3BsaXRlfVxuICAgID5cbiAgICAgIDxTcGxpdFxuICAgICAgICBzaXplcz17c3BsaXRTaXplc31cbiAgICAgICAgbWluU2l6ZT17TUlOX1NJWkVTfVxuICAgICAgICBkaXJlY3Rpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICAgIGd1dHRlclNpemU9e2d1dHRlckhlaWdodH1cbiAgICAgICAgb25EcmFnRW5kPXtvbkRyYWdFbmR9XG4gICAgICAgIGVsZW1lbnRTdHlsZT17ZWxlbWVudFN0eWxlfVxuICAgICAgICBleHBhbmRUb01pblxuICAgICAgPlxuICAgICAgICB7cGFuZWxCb2R5fVxuICAgICAgICA8RGF0YVRhYmxlc1BhbmVcbiAgICAgICAgICBvd25TdGF0ZT17b3duU3RhdGV9XG4gICAgICAgICAgcXVlcnlGb3JtRGF0YT17cXVlcnlGb3JtRGF0YX1cbiAgICAgICAgICBkYXRhc291cmNlPXtkYXRhc291cmNlfVxuICAgICAgICAgIHF1ZXJ5Rm9yY2U9e2ZvcmNlfVxuICAgICAgICAgIG9uQ29sbGFwc2VDaGFuZ2U9e29uQ29sbGFwc2VDaGFuZ2V9XG4gICAgICAgICAgY2hhcnRTdGF0dXM9e2NoYXJ0LmNoYXJ0U3RhdHVzfVxuICAgICAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgIGFjdGlvbnM9e2FjdGlvbnN9XG4gICAgICAgICAgY2FuRG93bmxvYWQ9e2NhbkRvd25sb2FkfVxuICAgICAgICAvPlxuICAgICAgPC9TcGxpdD5cbiAgICAgIHtzaG93RGF0YXNldE1vZGFsICYmIChcbiAgICAgICAgPFNhdmVEYXRhc2V0TW9kYWxcbiAgICAgICAgICB2aXNpYmxlPXtzaG93RGF0YXNldE1vZGFsfVxuICAgICAgICAgIG9uSGlkZT17KCkgPT4gc2V0U2hvd0RhdGFzZXRNb2RhbChmYWxzZSl9XG4gICAgICAgICAgYnV0dG9uVGV4dE9uU2F2ZT17dCgnU2F2ZScpfVxuICAgICAgICAgIGJ1dHRvblRleHRPbk92ZXJ3cml0ZT17dCgnT3ZlcndyaXRlJyl9XG4gICAgICAgICAgZGF0YXNvdXJjZT17Z2V0RGF0YXNvdXJjZUFzU2F2ZWFibGVEYXRhc2V0KGRhdGFzb3VyY2UpfVxuICAgICAgICAgIG9wZW5XaW5kb3c9e2ZhbHNlfVxuICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9TdHlsZXM+XG4gICk7XG59O1xuXG5FeHBsb3JlQ2hhcnRQYW5lbC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5cbmV4cG9ydCBkZWZhdWx0IEV4cGxvcmVDaGFydFBhbmVsO1xuIl19 */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\n\nconst ExploreChartPanel = ({\n  chart,\n  slice,\n  vizType,\n  ownState,\n  triggerRender,\n  force,\n  datasource,\n  errorMessage,\n  form_data: formData,\n  onQuery,\n  actions,\n  timeout,\n  standalone,\n  chartIsStale,\n  chartAlert,\n  can_download: canDownload\n}) => {var _metaDataRegistry$get;\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const {\n    ref: chartPanelRef,\n    observerRef: resizeObserverRef,\n    width: chartPanelWidth,\n    height: chartPanelHeight\n  } = useResizeDetectorByObserver();\n  const [splitSizes, setSplitSizes] = useState(\n    isFeatureEnabled(FeatureFlag.DatapanelClosedByDefault) ?\n    INITIAL_SIZES :\n    getItem(LocalStorageKeys.ChartSplitSizes, INITIAL_SIZES)\n  );\n  const [showSplite, setShowSplit] = useState(\n    isFeatureEnabled(FeatureFlag.DatapanelClosedByDefault) ?\n    false :\n    getItem(LocalStorageKeys.IsDatapanelOpen, false)\n  );\n\n  const [showDatasetModal, setShowDatasetModal] = useState(false);\n\n  const metaDataRegistry = getChartMetadataRegistry();\n  const { useLegacyApi } = (_metaDataRegistry$get = metaDataRegistry.get(vizType)) != null ? _metaDataRegistry$get : {};\n  const vizTypeNeedsDataset =\n  useLegacyApi && datasource.type !== DatasourceType.Table;\n  // added boolean column to below show boolean so that the errors aren't overlapping\n  const showAlertBanner =\n  !chartAlert &&\n  chartIsStale &&\n  !vizTypeNeedsDataset &&\n  chart.chartStatus !== 'failed' &&\n  ensureIsArray(chart.queriesResponse).length > 0;\n\n  const updateQueryContext = useCallback(\n    async function fetchChartData() {\n      if (slice && slice.query_context === null) {\n        const queryContext = buildV1ChartDataPayload({\n          formData: slice.form_data,\n          force,\n          resultFormat: 'json',\n          resultType: 'full',\n          setDataMask: null,\n          ownState: null\n        });\n\n        await SupersetClient.put({\n          endpoint: `/api/v1/chart/${slice.slice_id}`,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            query_context: JSON.stringify(queryContext),\n            query_context_generation: true\n          })\n        });\n      }\n    },\n    [slice]\n  );\n\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  useEffect(() => {\n    setItem(LocalStorageKeys.ChartSplitSizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = useCallback((sizes) => {\n    setSplitSizes(sizes);\n  }, []);\n\n  const refreshCachedQuery = useCallback(() => {\n    actions.setForceQuery(true);\n    actions.postChartFormData(\n      formData,\n      true,\n      timeout,\n      chart.id,\n      undefined,\n      ownState\n    );\n    actions.updateQueryFormData(formData, chart.id);\n  }, [actions, chart.id, formData, ownState, timeout]);\n\n  const onCollapseChange = useCallback((isOpen) => {\n    let splitSizes;\n    if (!isOpen) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n      100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      DEFAULT_SOUTH_PANE_HEIGHT_PERCENT];\n\n    }\n    setSplitSizes(splitSizes);\n    setShowSplit(isOpen);\n  }, []);\n\n  const renderChart = useCallback(\n    () =>\n    _jsx(\"div\", {\n      css: css`\n          min-height: 0;\n          flex: 1;\n          overflow: auto;\n        `,\n      ref: chartPanelRef, children:\n\n      chartPanelWidth && chartPanelHeight &&\n      _jsx(ChartContainer, {\n        width: Math.floor(chartPanelWidth),\n        height: chartPanelHeight,\n        ownState: ownState,\n        annotationData: chart.annotationData,\n        chartAlert: chart.chartAlert,\n        chartStackTrace: chart.chartStackTrace,\n        chartId: chart.id,\n        chartStatus: chart.chartStatus,\n        triggerRender: triggerRender,\n        force: force,\n        datasource: datasource,\n        errorMessage: errorMessage,\n        formData: formData,\n        latestQueryFormData: chart.latestQueryFormData,\n        onQuery: onQuery,\n        queriesResponse: chart.queriesResponse,\n        chartIsStale: chartIsStale,\n        setControlValue: actions.setControlValue,\n        timeout: timeout,\n        triggerQuery: chart.triggerQuery,\n        vizType: vizType }\n      ) }\n\n    ),\n\n    [\n    actions.setControlValue,\n    chart.annotationData,\n    chart.chartAlert,\n    chart.chartStackTrace,\n    chart.chartStatus,\n    chart.id,\n    chart.latestQueryFormData,\n    chart.queriesResponse,\n    chart.triggerQuery,\n    chartIsStale,\n    chartPanelHeight,\n    chartPanelRef,\n    chartPanelWidth,\n    datasource,\n    errorMessage,\n    force,\n    formData,\n    onQuery,\n    ownState,\n    timeout,\n    triggerRender,\n    vizType]\n\n  );\n\n  const panelBody = useMemo(\n    () =>\n    _jsxs(\"div\", {\n      className: \"panel-body\",\n      css: css`\n          display: flex;\n          flex-direction: column;\n        `,\n      ref: resizeObserverRef, children: [\n\n      vizTypeNeedsDataset &&\n      _jsx(Alert, {\n        message: t('Chart type requires a dataset'),\n        type: \"error\",\n        css: (theme) => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            `,\n        description:\n        _jsxs(_Fragment, { children: [\n          t(\n            'This chart type is not supported when using an unsaved query as a chart source. '\n          ),\n          _jsx(\"span\", {\n            role: \"button\",\n            tabIndex: 0,\n            onClick: () => setShowDatasetModal(true),\n            css: _ref, children:\n\n            t('Create a dataset') }\n          ),\n          t(' to visualize your data.')] }\n        ) }\n\n      ),\n\n      showAlertBanner &&\n      _jsx(ExploreAlert, {\n        title:\n        errorMessage ?\n        t('Required control values have been removed') :\n        t('Your chart is not up to date'),\n\n        bodyText:\n        errorMessage ?\n        getChartRequiredFieldsMissingMessage(false) :\n\n        _jsxs(\"span\", { children: [\n          t(\n            'You updated the values in the control panel, but the chart was not updated automatically. Run the query by clicking on the \"Update chart\" button or'\n          ), ' ',\n          _jsx(\"span\", { role: \"button\", tabIndex: 0, onClick: onQuery, children:\n            t('click here') }\n          ), \".\"] }\n\n        ),\n\n\n        type: \"warning\",\n        css: (theme) => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            ` }\n      ),\n\n      _jsx(ChartPills, {\n        queriesResponse: chart.queriesResponse,\n        chartStatus: chart.chartStatus,\n        chartUpdateStartTime: chart.chartUpdateStartTime,\n        chartUpdateEndTime: chart.chartUpdateEndTime,\n        refreshCachedQuery: refreshCachedQuery,\n        rowLimit: formData == null ? void 0 : formData.row_limit }\n      ),\n      renderChart()] }\n    ),\n\n    [\n    resizeObserverRef,\n    showAlertBanner,\n    errorMessage,\n    onQuery,\n    chart.queriesResponse,\n    chart.chartStatus,\n    chart.chartUpdateStartTime,\n    chart.chartUpdateEndTime,\n    refreshCachedQuery,\n    formData == null ? void 0 : formData.row_limit,\n    renderChart]\n\n  );\n\n  const standaloneChartBody = useMemo(() => renderChart(), [renderChart]);\n\n  const [queryFormData, setQueryFormData] = useState(chart.latestQueryFormData);\n\n  useEffect(() => {\n    // only update when `latestQueryFormData` changes AND `triggerRender`\n    // is false. No update should be done when only `triggerRender` changes,\n    // as this can trigger a query downstream based on incomplete form data.\n    // (`latestQueryFormData` is only updated when a a valid request has been\n    // triggered).\n    if (!triggerRender) {\n      setQueryFormData(chart.latestQueryFormData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chart.latestQueryFormData]);\n\n  const elementStyle = useCallback(\n    (dimension, elementSize, gutterSize) => ({\n      [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)`\n    }),\n    [gutterMargin]\n  );\n\n  if (standalone) {\n    // dom manipulation hack to get rid of the bootstrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!bodyClasses.includes(standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return (\n      _jsx(\"div\", { id: \"app\", ref: resizeObserverRef, children:\n        standaloneChartBody }\n      ));\n\n  }\n\n  return (\n    _jsxs(Styles, {\n      className: \"panel panel-default chart-container\",\n      showSplite: showSplite, children: [\n\n      _jsxs(Split, {\n        sizes: splitSizes,\n        minSize: MIN_SIZES,\n        direction: \"vertical\",\n        gutterSize: gutterHeight,\n        onDragEnd: onDragEnd,\n        elementStyle: elementStyle,\n        expandToMin: true, children: [\n\n        panelBody,\n        _jsx(DataTablesPane, {\n          ownState: ownState,\n          queryFormData: queryFormData,\n          datasource: datasource,\n          queryForce: force,\n          onCollapseChange: onCollapseChange,\n          chartStatus: chart.chartStatus,\n          errorMessage: errorMessage,\n          actions: actions,\n          canDownload: canDownload }\n        )] }\n      ),\n      showDatasetModal &&\n      _jsx(SaveDatasetModal, {\n        visible: showDatasetModal,\n        onHide: () => setShowDatasetModal(false),\n        buttonTextOnSave: t('Save'),\n        buttonTextOnOverwrite: t('Overwrite'),\n        datasource: getDatasourceAsSaveableDataset(datasource),\n        openWindow: false,\n        formData: formData }\n      )] }\n\n    ));\n\n};\n\nExploreChartPanel.propTypes = propTypes;\n\nexport default ExploreChartPanel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}