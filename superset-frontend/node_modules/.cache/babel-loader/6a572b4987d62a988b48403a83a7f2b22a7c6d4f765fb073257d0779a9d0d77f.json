{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useMemo, useState } from 'react';\nimport { css, ensureIsArray, fetchTimeRange, getTimeOffset, styled, t, useTheme } from '@superset-ui/core';\nimport { DEFAULT_DATE_PATTERN, Tooltip } from '@superset-ui/chart-controls';\n\nimport { ColorSchemeEnum } from './types';\nimport { useOverflowDetection } from './useOverflowDetection';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst NumbersContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  overflow: auto;\n`;\nconst ComparisonValue = styled.div`\n  ${({ theme, subheaderFontSize }) => `\n    font-weight: ${theme.typography.weights.light};\n    display: flex;\n    justify-content: center;\n    font-size: ${subheaderFontSize || 20}px;\n    flex: 1 1 0px;\n  `}\n`;\nconst SymbolWrapper = styled.span`\n  ${({ theme, backgroundColor, textColor }) => `\n    background-color: ${backgroundColor};\n    color: ${textColor};\n    padding: ${theme.gridUnit}px ${theme.gridUnit * 2}px;\n    border-radius: ${theme.gridUnit * 2}px;\n    margin-right: ${theme.gridUnit}px;\n  `}\n`;\nexport default function PopKPI(props) {\n  const { height, width, bigNumber, prevNumber, valueDifference, percentDifferenceFormattedString, headerFontSize, subheaderFontSize, comparisonColorEnabled, comparisonColorScheme, percentDifferenceNumber, currentTimeRangeFilter, startDateOffset, shift, dashboardTimeRange } = props;\n  const [comparisonRange, setComparisonRange] = useState('');\n  useEffect(() => {\n    if (!currentTimeRangeFilter || !shift && !startDateOffset) {\n      setComparisonRange('');\n    } else\n    if (!_isEmpty(shift) || startDateOffset) {\n      const promise = fetchTimeRange(dashboardTimeRange != null ? dashboardTimeRange : currentTimeRangeFilter.comparator, currentTimeRangeFilter.subject);\n      Promise.resolve(promise).then((res) => {var _res$value;\n        const dates = res == null ? void 0 : (_res$value = res.value) == null ? void 0 : _res$value.match(DEFAULT_DATE_PATTERN);\n        const [parsedStartDate, parsedEndDate] = dates != null ? dates : [];\n        const newShift = getTimeOffset({\n          timeRangeFilter: {\n            ...currentTimeRangeFilter,\n            comparator: `${parsedStartDate} : ${parsedEndDate}`\n          },\n          shifts: ensureIsArray(shift),\n          startDate: startDateOffset || ''\n        });\n        fetchTimeRange(dashboardTimeRange != null ? dashboardTimeRange : currentTimeRangeFilter.comparator, currentTimeRangeFilter.subject, ensureIsArray(newShift)).then((res) => {\n          const response = ensureIsArray(res.value);\n          const firstRange = response.flat()[0];\n          const rangeText = firstRange.split('vs\\n');\n          setComparisonRange(rangeText.length > 1 ? rangeText[1].trim() : rangeText[0]);\n        });\n      });\n    }\n  }, [currentTimeRangeFilter, shift, startDateOffset, dashboardTimeRange]);\n  const theme = useTheme();\n  const flexGap = theme.gridUnit * 5;\n  const wrapperDivStyles = css`\n    font-family: ${theme.typography.families.sansSerif};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: ${height}px;\n    width: ${width}px;\n    overflow: auto;\n  `;\n  const bigValueContainerStyles = css`\n    font-size: ${headerFontSize || 60}px;\n    font-weight: ${theme.typography.weights.normal};\n    text-align: center;\n    margin-bottom: ${theme.gridUnit * 4}px;\n  `;\n  const getArrowIndicatorColor = () => {\n    if (!comparisonColorEnabled || percentDifferenceNumber === 0) {\n      return theme.colors.grayscale.base;\n    }\n    if (percentDifferenceNumber > 0) {\n      // Positive difference\n      return comparisonColorScheme === ColorSchemeEnum.Green ?\n      theme.colors.success.base :\n      theme.colors.error.base;\n    }\n    // Negative difference\n    return comparisonColorScheme === ColorSchemeEnum.Red ?\n    theme.colors.success.base :\n    theme.colors.error.base;\n  };\n  const arrowIndicatorStyle = css`\n    color: ${getArrowIndicatorColor()};\n    margin-left: ${theme.gridUnit}px;\n  `;\n  const defaultBackgroundColor = theme.colors.grayscale.light4;\n  const defaultTextColor = theme.colors.grayscale.base;\n  const { backgroundColor, textColor } = useMemo(() => {\n    let bgColor = defaultBackgroundColor;\n    let txtColor = defaultTextColor;\n    if (comparisonColorEnabled && percentDifferenceNumber !== 0) {\n      const useSuccess = percentDifferenceNumber > 0 &&\n      comparisonColorScheme === ColorSchemeEnum.Green ||\n      percentDifferenceNumber < 0 &&\n      comparisonColorScheme === ColorSchemeEnum.Red;\n      // Set background and text colors based on the conditions\n      bgColor = useSuccess ?\n      theme.colors.success.light2 :\n      theme.colors.error.light2;\n      txtColor = useSuccess ?\n      theme.colors.success.base :\n      theme.colors.error.base;\n    }\n    return {\n      backgroundColor: bgColor,\n      textColor: txtColor\n    };\n  }, [\n  theme,\n  comparisonColorScheme,\n  comparisonColorEnabled,\n  percentDifferenceNumber]\n  );\n  const SYMBOLS_WITH_VALUES = useMemo(() => [\n  {\n    symbol: '#',\n    value: prevNumber,\n    tooltipText: t('Data for %s', comparisonRange || 'previous range')\n  },\n  {\n    symbol: '△',\n    value: valueDifference,\n    tooltipText: t('Value difference between the time periods')\n  },\n  {\n    symbol: '%',\n    value: percentDifferenceFormattedString,\n    tooltipText: t('Percentage difference between the time periods')\n  }],\n  [\n  comparisonRange,\n  prevNumber,\n  valueDifference,\n  percentDifferenceFormattedString]\n  );\n  const { isOverflowing, symbolContainerRef, wrapperRef } = useOverflowDetection(flexGap);\n  return _jsx(\"div\", { css: wrapperDivStyles, ref: wrapperRef, children:\n    _jsxs(NumbersContainer, { css: isOverflowing &&\n      css`\n            width: fit-content;\n            margin: auto;\n            align-items: flex-start;\n          `, children: [\n      _jsxs(\"div\", { css: bigValueContainerStyles, children: [\n        bigNumber,\n        percentDifferenceNumber !== 0 && _jsx(\"span\", { css: arrowIndicatorStyle, children:\n          percentDifferenceNumber > 0 ? '↑' : '↓' }\n        )] }\n      ),\n\n      _jsx(\"div\", { css: [\n        css`\n              display: flex;\n              justify-content: space-around;\n              gap: ${flexGap}px;\n              min-width: 0;\n              flex-shrink: 1;\n            `,\n        isOverflowing ?\n        css`\n                  flex-direction: column;\n                  align-items: flex-start;\n                  width: fit-content;\n                ` :\n        css`\n                  align-items: center;\n                  width: 100%;\n                `, process.env.NODE_ENV === \"production\" ? \"\" : \";label:PopKPI;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkZWwvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvcGx1Z2lucy9wbHVnaW4tY2hhcnQtZWNoYXJ0cy9zcmMvQmlnTnVtYmVyL0JpZ051bWJlclBlcmlvZE92ZXJQZXJpb2QvUG9wS1BJLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvTGEiLCJmaWxlIjoiL2hvbWUvYWRlbC9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9wbHVnaW5zL3BsdWdpbi1jaGFydC1lY2hhcnRzL3NyYy9CaWdOdW1iZXIvQmlnTnVtYmVyUGVyaW9kT3ZlclBlcmlvZC9Qb3BLUEkudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNzcywgZW5zdXJlSXNBcnJheSwgZmV0Y2hUaW1lUmFuZ2UsIGdldFRpbWVPZmZzZXQsIHN0eWxlZCwgdCwgdXNlVGhlbWUsIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgREVGQVVMVF9EQVRFX1BBVFRFUk4sIFRvb2x0aXAgfSBmcm9tICdAc3VwZXJzZXQtdWkvY2hhcnQtY29udHJvbHMnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBDb2xvclNjaGVtZUVudW0sIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyB1c2VPdmVyZmxvd0RldGVjdGlvbiB9IGZyb20gJy4vdXNlT3ZlcmZsb3dEZXRlY3Rpb24nO1xuY29uc3QgTnVtYmVyc0NvbnRhaW5lciA9IHN0eWxlZC5kaXYgYFxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG4gIG92ZXJmbG93OiBhdXRvO1xuYDtcbmNvbnN0IENvbXBhcmlzb25WYWx1ZSA9IHN0eWxlZC5kaXYgYFxuICAkeyh7IHRoZW1lLCBzdWJoZWFkZXJGb250U2l6ZSB9KSA9PiBgXG4gICAgZm9udC13ZWlnaHQ6ICR7dGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmxpZ2h0fTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogJHtzdWJoZWFkZXJGb250U2l6ZSB8fCAyMH1weDtcbiAgICBmbGV4OiAxIDEgMHB4O1xuICBgfVxuYDtcbmNvbnN0IFN5bWJvbFdyYXBwZXIgPSBzdHlsZWQuc3BhbiBgXG4gICR7KHsgdGhlbWUsIGJhY2tncm91bmRDb2xvciwgdGV4dENvbG9yIH0pID0+IGBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2JhY2tncm91bmRDb2xvcn07XG4gICAgY29sb3I6ICR7dGV4dENvbG9yfTtcbiAgICBwYWRkaW5nOiAke3RoZW1lLmdyaWRVbml0fXB4ICR7dGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xuICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xuICAgIG1hcmdpbi1yaWdodDogJHt0aGVtZS5ncmlkVW5pdH1weDtcbiAgYH1cbmA7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3BLUEkocHJvcHMpIHtcbiAgICBjb25zdCB7IGhlaWdodCwgd2lkdGgsIGJpZ051bWJlciwgcHJldk51bWJlciwgdmFsdWVEaWZmZXJlbmNlLCBwZXJjZW50RGlmZmVyZW5jZUZvcm1hdHRlZFN0cmluZywgaGVhZGVyRm9udFNpemUsIHN1YmhlYWRlckZvbnRTaXplLCBjb21wYXJpc29uQ29sb3JFbmFibGVkLCBjb21wYXJpc29uQ29sb3JTY2hlbWUsIHBlcmNlbnREaWZmZXJlbmNlTnVtYmVyLCBjdXJyZW50VGltZVJhbmdlRmlsdGVyLCBzdGFydERhdGVPZmZzZXQsIHNoaWZ0LCBkYXNoYm9hcmRUaW1lUmFuZ2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbY29tcGFyaXNvblJhbmdlLCBzZXRDb21wYXJpc29uUmFuZ2VdID0gdXNlU3RhdGUoJycpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY3VycmVudFRpbWVSYW5nZUZpbHRlciB8fCAoIXNoaWZ0ICYmICFzdGFydERhdGVPZmZzZXQpKSB7XG4gICAgICAgICAgICBzZXRDb21wYXJpc29uUmFuZ2UoJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0VtcHR5KHNoaWZ0KSB8fCBzdGFydERhdGVPZmZzZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaFRpbWVSYW5nZShkYXNoYm9hcmRUaW1lUmFuZ2UgPz8gY3VycmVudFRpbWVSYW5nZUZpbHRlci5jb21wYXJhdG9yLCBjdXJyZW50VGltZVJhbmdlRmlsdGVyLnN1YmplY3QpO1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHByb21pc2UpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVzID0gcmVzPy52YWx1ZT8ubWF0Y2goREVGQVVMVF9EQVRFX1BBVFRFUk4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtwYXJzZWRTdGFydERhdGUsIHBhcnNlZEVuZERhdGVdID0gZGF0ZXMgPz8gW107XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2hpZnQgPSBnZXRUaW1lT2Zmc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgdGltZVJhbmdlRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50VGltZVJhbmdlRmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyYXRvcjogYCR7cGFyc2VkU3RhcnREYXRlfSA6ICR7cGFyc2VkRW5kRGF0ZX1gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzaGlmdHM6IGVuc3VyZUlzQXJyYXkoc2hpZnQpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZU9mZnNldCB8fCAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmZXRjaFRpbWVSYW5nZShkYXNoYm9hcmRUaW1lUmFuZ2UgPz8gY3VycmVudFRpbWVSYW5nZUZpbHRlci5jb21wYXJhdG9yLCBjdXJyZW50VGltZVJhbmdlRmlsdGVyLnN1YmplY3QsIGVuc3VyZUlzQXJyYXkobmV3U2hpZnQpKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZW5zdXJlSXNBcnJheShyZXMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFJhbmdlID0gcmVzcG9uc2UuZmxhdCgpWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZVRleHQgPSBmaXJzdFJhbmdlLnNwbGl0KCd2c1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDb21wYXJpc29uUmFuZ2UocmFuZ2VUZXh0Lmxlbmd0aCA+IDEgPyByYW5nZVRleHRbMV0udHJpbSgpIDogcmFuZ2VUZXh0WzBdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRUaW1lUmFuZ2VGaWx0ZXIsIHNoaWZ0LCBzdGFydERhdGVPZmZzZXQsIGRhc2hib2FyZFRpbWVSYW5nZV0pO1xuICAgIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgICBjb25zdCBmbGV4R2FwID0gdGhlbWUuZ3JpZFVuaXQgKiA1O1xuICAgIGNvbnN0IHdyYXBwZXJEaXZTdHlsZXMgPSBjc3MgYFxuICAgIGZvbnQtZmFtaWx5OiAke3RoZW1lLnR5cG9ncmFwaHkuZmFtaWxpZXMuc2Fuc1NlcmlmfTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAke2hlaWdodH1weDtcbiAgICB3aWR0aDogJHt3aWR0aH1weDtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgYDtcbiAgICBjb25zdCBiaWdWYWx1ZUNvbnRhaW5lclN0eWxlcyA9IGNzcyBgXG4gICAgZm9udC1zaXplOiAke2hlYWRlckZvbnRTaXplIHx8IDYwfXB4O1xuICAgIGZvbnQtd2VpZ2h0OiAke3RoZW1lLnR5cG9ncmFwaHkud2VpZ2h0cy5ub3JtYWx9O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgYDtcbiAgICBjb25zdCBnZXRBcnJvd0luZGljYXRvckNvbG9yID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWNvbXBhcmlzb25Db2xvckVuYWJsZWQgfHwgcGVyY2VudERpZmZlcmVuY2VOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmJhc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlcmNlbnREaWZmZXJlbmNlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgLy8gUG9zaXRpdmUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25Db2xvclNjaGVtZSA9PT0gQ29sb3JTY2hlbWVFbnVtLkdyZWVuXG4gICAgICAgICAgICAgICAgPyB0aGVtZS5jb2xvcnMuc3VjY2Vzcy5iYXNlXG4gICAgICAgICAgICAgICAgOiB0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOZWdhdGl2ZSBkaWZmZXJlbmNlXG4gICAgICAgIHJldHVybiBjb21wYXJpc29uQ29sb3JTY2hlbWUgPT09IENvbG9yU2NoZW1lRW51bS5SZWRcbiAgICAgICAgICAgID8gdGhlbWUuY29sb3JzLnN1Y2Nlc3MuYmFzZVxuICAgICAgICAgICAgOiB0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZTtcbiAgICB9O1xuICAgIGNvbnN0IGFycm93SW5kaWNhdG9yU3R5bGUgPSBjc3MgYFxuICAgIGNvbG9yOiAke2dldEFycm93SW5kaWNhdG9yQ29sb3IoKX07XG4gICAgbWFyZ2luLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XG4gIGA7XG4gICAgY29uc3QgZGVmYXVsdEJhY2tncm91bmRDb2xvciA9IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQ0O1xuICAgIGNvbnN0IGRlZmF1bHRUZXh0Q29sb3IgPSB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmJhc2U7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kQ29sb3IsIHRleHRDb2xvciB9ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGxldCBiZ0NvbG9yID0gZGVmYXVsdEJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgbGV0IHR4dENvbG9yID0gZGVmYXVsdFRleHRDb2xvcjtcbiAgICAgICAgaWYgKGNvbXBhcmlzb25Db2xvckVuYWJsZWQgJiYgcGVyY2VudERpZmZlcmVuY2VOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZVN1Y2Nlc3MgPSAocGVyY2VudERpZmZlcmVuY2VOdW1iZXIgPiAwICYmXG4gICAgICAgICAgICAgICAgY29tcGFyaXNvbkNvbG9yU2NoZW1lID09PSBDb2xvclNjaGVtZUVudW0uR3JlZW4pIHx8XG4gICAgICAgICAgICAgICAgKHBlcmNlbnREaWZmZXJlbmNlTnVtYmVyIDwgMCAmJlxuICAgICAgICAgICAgICAgICAgICBjb21wYXJpc29uQ29sb3JTY2hlbWUgPT09IENvbG9yU2NoZW1lRW51bS5SZWQpO1xuICAgICAgICAgICAgLy8gU2V0IGJhY2tncm91bmQgYW5kIHRleHQgY29sb3JzIGJhc2VkIG9uIHRoZSBjb25kaXRpb25zXG4gICAgICAgICAgICBiZ0NvbG9yID0gdXNlU3VjY2Vzc1xuICAgICAgICAgICAgICAgID8gdGhlbWUuY29sb3JzLnN1Y2Nlc3MubGlnaHQyXG4gICAgICAgICAgICAgICAgOiB0aGVtZS5jb2xvcnMuZXJyb3IubGlnaHQyO1xuICAgICAgICAgICAgdHh0Q29sb3IgPSB1c2VTdWNjZXNzXG4gICAgICAgICAgICAgICAgPyB0aGVtZS5jb2xvcnMuc3VjY2Vzcy5iYXNlXG4gICAgICAgICAgICAgICAgOiB0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiZ0NvbG9yLFxuICAgICAgICAgICAgdGV4dENvbG9yOiB0eHRDb2xvcixcbiAgICAgICAgfTtcbiAgICB9LCBbXG4gICAgICAgIHRoZW1lLFxuICAgICAgICBjb21wYXJpc29uQ29sb3JTY2hlbWUsXG4gICAgICAgIGNvbXBhcmlzb25Db2xvckVuYWJsZWQsXG4gICAgICAgIHBlcmNlbnREaWZmZXJlbmNlTnVtYmVyLFxuICAgIF0pO1xuICAgIGNvbnN0IFNZTUJPTFNfV0lUSF9WQUxVRVMgPSB1c2VNZW1vKCgpID0+IFtcbiAgICAgICAge1xuICAgICAgICAgICAgc3ltYm9sOiAnIycsXG4gICAgICAgICAgICB2YWx1ZTogcHJldk51bWJlcixcbiAgICAgICAgICAgIHRvb2x0aXBUZXh0OiB0KCdEYXRhIGZvciAlcycsIGNvbXBhcmlzb25SYW5nZSB8fCAncHJldmlvdXMgcmFuZ2UnKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc3ltYm9sOiAn4pazJyxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZURpZmZlcmVuY2UsXG4gICAgICAgICAgICB0b29sdGlwVGV4dDogdCgnVmFsdWUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0aW1lIHBlcmlvZHMnKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgc3ltYm9sOiAnJScsXG4gICAgICAgICAgICB2YWx1ZTogcGVyY2VudERpZmZlcmVuY2VGb3JtYXR0ZWRTdHJpbmcsXG4gICAgICAgICAgICB0b29sdGlwVGV4dDogdCgnUGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHRpbWUgcGVyaW9kcycpLFxuICAgICAgICB9LFxuICAgIF0sIFtcbiAgICAgICAgY29tcGFyaXNvblJhbmdlLFxuICAgICAgICBwcmV2TnVtYmVyLFxuICAgICAgICB2YWx1ZURpZmZlcmVuY2UsXG4gICAgICAgIHBlcmNlbnREaWZmZXJlbmNlRm9ybWF0dGVkU3RyaW5nLFxuICAgIF0pO1xuICAgIGNvbnN0IHsgaXNPdmVyZmxvd2luZywgc3ltYm9sQ29udGFpbmVyUmVmLCB3cmFwcGVyUmVmIH0gPSB1c2VPdmVyZmxvd0RldGVjdGlvbihmbGV4R2FwKTtcbiAgICByZXR1cm4gKDxkaXYgY3NzPXt3cmFwcGVyRGl2U3R5bGVzfSByZWY9e3dyYXBwZXJSZWZ9PlxuICAgICAgPE51bWJlcnNDb250YWluZXIgY3NzPXtpc092ZXJmbG93aW5nICYmXG4gICAgICAgICAgICBjc3MgYFxuICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgICAgYH0+XG4gICAgICAgIDxkaXYgY3NzPXtiaWdWYWx1ZUNvbnRhaW5lclN0eWxlc30+XG4gICAgICAgICAge2JpZ051bWJlcn1cbiAgICAgICAgICB7cGVyY2VudERpZmZlcmVuY2VOdW1iZXIgIT09IDAgJiYgKDxzcGFuIGNzcz17YXJyb3dJbmRpY2F0b3JTdHlsZX0+XG4gICAgICAgICAgICAgIHtwZXJjZW50RGlmZmVyZW5jZU51bWJlciA+IDAgPyAn4oaRJyA6ICfihpMnfVxuICAgICAgICAgICAgPC9zcGFuPil9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY3NzPXtbXG4gICAgICAgICAgICBjc3MgYFxuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgICAgZ2FwOiAke2ZsZXhHYXB9cHg7XG4gICAgICAgICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgICAgICAgZmxleC1zaHJpbms6IDE7XG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgaXNPdmVyZmxvd2luZ1xuICAgICAgICAgICAgICAgID8gY3NzIGBcbiAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBjc3MgYFxuICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGAsXG4gICAgICAgIF19IHJlZj17c3ltYm9sQ29udGFpbmVyUmVmfT5cbiAgICAgICAgICB7U1lNQk9MU19XSVRIX1ZBTFVFUy5tYXAoKHN5bWJvbF93aXRoX3ZhbHVlLCBpbmRleCkgPT4gKDxDb21wYXJpc29uVmFsdWUga2V5PXtgY29tcGFyaXNvbi1zeW1ib2wtJHtzeW1ib2xfd2l0aF92YWx1ZS5zeW1ib2x9YH0gc3ViaGVhZGVyRm9udFNpemU9e3N1YmhlYWRlckZvbnRTaXplfT5cbiAgICAgICAgICAgICAgPFRvb2x0aXAgaWQ9XCJ0b29sdGlwXCIgcGxhY2VtZW50PVwidG9wXCIgdGl0bGU9e3N5bWJvbF93aXRoX3ZhbHVlLnRvb2x0aXBUZXh0fT5cbiAgICAgICAgICAgICAgICA8U3ltYm9sV3JhcHBlciBiYWNrZ3JvdW5kQ29sb3I9e2luZGV4ID4gMCA/IGJhY2tncm91bmRDb2xvciA6IGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3J9IHRleHRDb2xvcj17aW5kZXggPiAwID8gdGV4dENvbG9yIDogZGVmYXVsdFRleHRDb2xvcn0+XG4gICAgICAgICAgICAgICAgICB7c3ltYm9sX3dpdGhfdmFsdWUuc3ltYm9sfVxuICAgICAgICAgICAgICAgIDwvU3ltYm9sV3JhcHBlcj5cbiAgICAgICAgICAgICAgICB7c3ltYm9sX3dpdGhfdmFsdWUudmFsdWV9XG4gICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgIDwvQ29tcGFyaXNvblZhbHVlPikpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTnVtYmVyc0NvbnRhaW5lcj5cbiAgICA8L2Rpdj4pO1xufVxuIl19 */\"],\n        ref: symbolContainerRef, children:\n        SYMBOLS_WITH_VALUES.map((symbol_with_value, index) => _jsx(ComparisonValue, { subheaderFontSize: subheaderFontSize, children:\n          _jsxs(Tooltip, { id: \"tooltip\", placement: \"top\", title: symbol_with_value.tooltipText, children: [\n            _jsx(SymbolWrapper, { backgroundColor: index > 0 ? backgroundColor : defaultBackgroundColor, textColor: index > 0 ? textColor : defaultTextColor, children:\n              symbol_with_value.symbol }\n            ),\n            symbol_with_value.value] }\n          ) }, `comparison-symbol-${symbol_with_value.symbol}`\n        )) }\n      )] }\n    ) }\n  );\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}