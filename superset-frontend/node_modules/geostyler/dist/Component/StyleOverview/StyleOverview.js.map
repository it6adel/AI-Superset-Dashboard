{"version":3,"file":"StyleOverview.js","sourceRoot":"","sources":["../../../src/Component/StyleOverview/StyleOverview.tsx"],"names":[],"mappings":";AAAA,8BAA8B;AAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;GA0BG;;;;;;AAEH,gDAA0B;AAO1B,gCAA8B;AAE9B,mGAA6E;AAC7E,yDAAmC;AACnC,gEAA0D;AAE1D,+DAA0C;AAC1C,6BAA+B;AAC/B,yEAAmD;AAEnD,6DAAuC;AAoBhC,IAAM,aAAa,GAAiC,UAAC,EAM3D;QALC,KAAK,WAAA,EACL,IAAI,UAAA,EACJ,qBAAwB,EAAxB,aAAa,mBAAG,cAAO,CAAC,KAAA,EACxB,oBAAuB,EAAvB,YAAY,mBAAG,cAAO,CAAC,KAAA,EACvB,cAA4B,EAA5B,MAAM,mBAAG,eAAK,CAAC,aAAa,KAAA;IAG5B,IAAM,YAAY,GAAG,UAAC,IAAY;QAChC,IAAI,QAAQ,GAAG,IAAA,mBAAU,EAAC,KAAK,CAAC,CAAC;QACjC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;QACrB,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC1B,CAAC,CAAC;IAEF,IAAM,aAAa,GAAG,UAAC,KAAe;QACpC,IAAI,QAAQ,GAAG,IAAA,mBAAU,EAAC,KAAK,CAAC,CAAC;QACjC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC1B,CAAC,CAAC;IAEF,IAAM,UAAU,GAAG,UAAC,MAAc;QAChC,YAAY,CAAC,sBAAY,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAChD,CAAC,CAAC;IAEF,IAAM,qBAAqB,GAAG;QAC5B,YAAY,CAAC,sBAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC;IAEF,IAAM,oBAAoB,GAAG,UAAC,OAAiB;QAC7C,YAAY,CAAC,sBAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;IACpD,CAAC,CAAC;IAEF,OAAO,CACL,uCAAK,SAAS,EAAC,mBAAmB;QAChC,0CAAK,MAAM,CAAC,UAAU,CAAM;QAC5B,8BAAC,cAAO,OAAG;QACX,8BAAC,6BAAmB,IAClB,IAAI,EAAE,KAAK,CAAC,IAAI,EAChB,YAAY,EAAE,YAAY,GAC1B;QACF,8BAAC,eAAK,IACJ,KAAK,EAAE,KAAK,CAAC,KAAK,EAClB,IAAI,EAAE,IAAI,EACV,aAAa,EAAE,aAAa,EAC5B,eAAe,EAAE,UAAU,EAC3B,qBAAqB,EAAE,qBAAqB,EAC5C,oBAAoB,EAAE,oBAAoB,GAC1C,CACE,CACP,CAAC;AACJ,CAAC,CAAC;AAlDW,QAAA,aAAa,iBAkDxB;AAEF,kBAAe,IAAA,wBAAQ,EAAC,qBAAa,EAAE,eAAe,CAAC,CAAC","sourcesContent":["/* eslint-disable camelcase */\n/* Released under the BSD 2-Clause License\n *\n * Copyright Â© 2021-present, terrestris GmbH & Co. KG and GeoStyler contributors\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * * Redistributions of source code must retain the above copyright notice,\n *   this list of conditions and the following disclaimer.\n *\n * * Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport React from 'react';\n\nimport {\n  Rule as GsRule,\n  Style as GsStyle\n} from 'geostyler-style';\n\nimport './StyleOverview.less';\nimport { Data } from 'geostyler-data';\nimport StyleFieldContainer from '../StyleFieldContainer/StyleFieldContainer';\nimport Rules from '../Rules/Rules';\nimport { localize } from '../LocaleWrapper/LocaleWrapper';\n\nimport _cloneDeep from 'lodash/cloneDeep';\nimport { Divider } from 'antd';\nimport CardViewUtil from '../../Util/CardViewUtil';\nimport { GeoStylerLocale } from '../../locale/locale';\nimport en_US from '../../locale/en_US';\n\n// default props\ninterface StyleOverviewDefaultProps {\n  /** Locale object containing translated text snippets */\n  locale: GeoStylerLocale['StyleOverview'];\n  /** The callback when the style changed. */\n  onStyleChange?: (style: GsStyle) => void;\n  /** The callback when a view change (request) was triggered. */\n  onChangeView?: (view: string, indices: number[]) => void;\n}\n\n// non default props\nexport interface StyleOverviewProps extends Partial<StyleOverviewDefaultProps> {\n  /** Reference to internal data object (holding schema and example features). */\n  data?: Data;\n  /** A GeoStyler-Style object. */\n  style: GsStyle;\n}\n\nexport const StyleOverview: React.FC<StyleOverviewProps> = ({\n  style,\n  data,\n  onStyleChange = () => {},\n  onChangeView = () => {},\n  locale = en_US.StyleOverview,\n}) => {\n\n  const onNameChange = (name: string) => {\n    let newStyle = _cloneDeep(style);\n    newStyle.name = name;\n    onStyleChange(newStyle);\n  };\n\n  const onRulesChange = (rules: GsRule[]) => {\n    let newStyle = _cloneDeep(style);\n    newStyle.rules = rules;\n    onStyleChange(newStyle);\n  };\n\n  const onEditRule = (ruleId: number) => {\n    onChangeView(CardViewUtil.RULEVIEW, [ruleId]);\n  };\n\n  const onClassificationClick = () => {\n    onChangeView(CardViewUtil.CLASSIFICATIONVIEW, []);\n  };\n\n  const onEditSelectionClick = (ruleIds: number[]) => {\n    onChangeView(CardViewUtil.MULTIEDITVIEW, ruleIds);\n  };\n\n  return (\n    <div className='gs-style-overview'>\n      <h2>{locale.styleTitle}</h2>\n      <Divider />\n      <StyleFieldContainer\n        name={style.name}\n        onNameChange={onNameChange}\n      />\n      <Rules\n        rules={style.rules}\n        data={data}\n        onRulesChange={onRulesChange}\n        onEditRuleClick={onEditRule}\n        onClassificationClick={onClassificationClick}\n        onEditSelectionClick={onEditSelectionClick}\n      />\n    </div>\n  );\n};\n\nexport default localize(StyleOverview, 'StyleOverview');\n"]}