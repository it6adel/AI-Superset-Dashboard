{"version":3,"file":"FilterEditorWindow.js","sourceRoot":"","sources":["../../../../src/Component/Filter/FilterEditorWindow/FilterEditorWindow.tsx"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;GA0BG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEH,2CAA+B;AAC/B,kDAAsC;AAEtC,uCAAgC;AAGhC,qCAAmC;AACnC,6BAA8B;AAE9B,2CAAkD;AAElD,mEAA6D;AAE7D,wEAAkD;AAGlD,gEAA0C;AA0B1C;;GAEG;AACI,IAAM,kBAAkB,GAAsC,UAAC,EASrE;QARC,CAAC,OAAA,EACD,CAAC,OAAA,EACD,eAAe,qBAAA,EACf,OAAO,aAAA,EACP,MAAM,YAAA,EACN,cAAc,oBAAA,EACd,aAAa,mBAAA,EACb,cAAiC,EAAjC,MAAM,mBAAG,eAAK,CAAC,kBAAkB,KAAA;IAGjC,OAAO,CACL,QAAQ,CAAC,YAAY,CACnB,oBAAC,eAAG,IACF,SAAS,EAAC,sBAAsB,EAChC,OAAO,EAAE;YACP,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC,UAAU,GAAG,CAAC;YAC7B,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC,WAAW,GAAG,CAAC;YAC9B,KAAK,EAAE,SAAS;YAChB,MAAM,EAAE,SAAS;SAClB,EACD,cAAc,EAAE;YACd,MAAM,EAAE,KAAK;YACb,UAAU,EAAE,KAAK;YACjB,WAAW,EAAE,KAAK;YAClB,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,KAAK;YACZ,GAAG,EAAE,KAAK;YACV,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,KAAK;SAChB,EACD,mBAAmB,EAAC,OAAO;QAE3B,6BAAK,SAAS,EAAC,oCAAoC;YACjD,8BAAM,SAAS,EAAC,OAAO,IACpB,MAAM,CAAC,YAAY,CACf;YACP,oBAAC,aAAM,IACL,IAAI,EAAE,oBAAC,qBAAa,OAAG,EACvB,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,OAAO,GAChB,CACE;QACN,6BAAK,SAAS,EAAC,2BAA2B;YACxC,oBAAC,oBAAU,IACT,eAAe,EAAE,eAAe,EAChC,MAAM,EAAE,MAAM,EACd,cAAc,EAAE,cAAc,EAC9B,aAAa,EAAE,aAAa,GAC5B,CACE,CACF,EACN,QAAQ,CAAC,IAAI,CACd,CACF,CAAC;AACJ,CAAC,CAAC;AAvDW,QAAA,kBAAkB,sBAuD7B;AAEF,kBAAe,IAAA,wBAAQ,EAAC,0BAAkB,EAAE,oBAAoB,CAAC,CAAC","sourcesContent":["/* Released under the BSD 2-Clause License\n *\n * Copyright Â© 2018-present, terrestris GmbH & Co. KG and GeoStyler contributors\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * * Redistributions of source code must retain the above copyright notice,\n *   this list of conditions and the following disclaimer.\n *\n * * Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { Rnd } from 'react-rnd';\nimport { VectorData } from 'geostyler-data';\n\nimport './FilterEditorWindow.less';\nimport { Button } from 'antd';\n\nimport { CloseOutlined } from '@ant-design/icons';\n\nimport { localize } from '../../LocaleWrapper/LocaleWrapper';\nimport { Filter } from 'geostyler-style';\nimport FilterTree from '../FilterTree/FilterTree';\nimport { ComparisonFilterProps } from '../ComparisonFilter/ComparisonFilter';\nimport { GeoStylerLocale } from '../../../locale/locale';\nimport en_US from '../../../locale/en_US';\n\n// default props\nexport interface FilterEditorWindowDefaultProps {\n  /** Locale object containing translated text snippets */\n  locale: GeoStylerLocale['FilterEditorWindow'];\n}\n\n// non default props\nexport interface FilterEditorWindowProps extends Partial<FilterEditorWindowDefaultProps> {\n  /** The filter to edit */\n  filter?: Filter;\n  /** Layer metadata in the GeoStyler VectorData format */\n  internalDataDef?: VectorData;\n  /** Pixel ordinate of the x-axis */\n  x?: number;\n  /** Pixel ordinate of the y-axis */\n  y?: number;\n  /** The callback method that is triggered when the filter window closes */\n  onClose?: () => void;\n  /** The callback method that is triggered when the state changes */\n  onFilterChange?: (filter: Filter) => void;\n  /** Properties that will be passed to the comparison filters */\n  filterUiProps?: Partial<ComparisonFilterProps>;\n}\n\n/**\n * Filter Editor Window UI.\n */\nexport const FilterEditorWindow: React.FC<FilterEditorWindowProps> = ({\n  x,\n  y,\n  internalDataDef,\n  onClose,\n  filter,\n  onFilterChange,\n  filterUiProps,\n  locale = en_US.FilterEditorWindow\n}) => {\n\n  return (\n    ReactDOM.createPortal(\n      <Rnd\n        className=\"filter-editor-window\"\n        default={{\n          x: x || window.innerWidth / 2,\n          y: y || window.innerHeight / 2,\n          width: undefined,\n          height: undefined\n        }}\n        enableResizing={{\n          bottom: false,\n          bottomLeft: false,\n          bottomRight: false,\n          left: false,\n          right: false,\n          top: false,\n          topLeft: false,\n          topRight: false\n        }}\n        dragHandleClassName=\"title\"\n      >\n        <div className=\"header filter-editor-window-header\">\n          <span className=\"title\">\n            {locale.filterEditor}\n          </span>\n          <Button\n            icon={<CloseOutlined />}\n            size=\"small\"\n            onClick={onClose}\n          />\n        </div>\n        <div className=\"filter-editor-window-body\">\n          <FilterTree\n            internalDataDef={internalDataDef}\n            filter={filter}\n            onFilterChange={onFilterChange}\n            filterUiProps={filterUiProps}\n          />\n        </div>\n      </Rnd>,\n      document.body\n    )\n  );\n};\n\nexport default localize(FilterEditorWindow, 'FilterEditorWindow');\n"]}