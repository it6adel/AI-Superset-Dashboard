var GeoStylerSLDParser=function(dn){"use strict";var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});var Ts={},Gu=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,Uu=Gu,Wu=Uu,Vu=typeof self=="object"&&self&&self.Object===Object&&self,Ku=Wu||Vu||Function("return this")(),Hu=Ku,zu=Hu,Du=zu.Symbol,Ps=Du,Es=Ps,Ls=Object.prototype,Xu=Ls.hasOwnProperty,qu=Ls.toString,pn=Es?Es.toStringTag:void 0;function Ju(s){var n=Xu.call(s,pn),r=s[pn];try{s[pn]=void 0;var o=!0}catch{}var a=qu.call(s);return o&&(n?s[pn]=r:delete s[pn]),a}var Yu=Ju,Zu=Object.prototype,ju=Zu.toString;function Qu(s){return ju.call(s)}var el=Qu,As=Ps,tl=Yu,nl=el,rl="[object Null]",il="[object Undefined]",Rs=As?As.toStringTag:void 0;function sl(s){return s==null?s===void 0?il:rl:Rs&&Rs in Object(s)?tl(s):nl(s)}var Dr=sl,ol=Array.isArray,al=ol;function ul(s){return s!=null&&typeof s=="object"}var Xr=ul,ll=Dr,fl=al,cl=Xr,hl="[object String]";function gl(s){return typeof s=="string"||!fl(s)&&cl(s)&&ll(s)==hl}var dl=gl,pl=Dr,ml=Xr,vl="[object Number]";function yl(s){return typeof s=="number"||ml(s)&&pl(s)==vl}var _l=yl,Sl=Dr,bl=Xr,xl="[object Boolean]";function wl(s){return s===!0||s===!1||bl(s)&&Sl(s)==xl}var Nl=wl;(function(s){var n=Fe&&Fe.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(s,"__esModule",{value:!0}),s.isSprite=s.isGeoStylerFunction=s.isGeoStylerUnknownFunction=s.isGeoStylerBooleanFunction=s.isGeoStylerStringFunction=s.isGeoStylerNumberFunction=s.isGrayChannel=s.isRgbChannel=s.isRule=s.isRasterSymbolizer=s.isFillSymbolizer=s.isLineSymbolizer=s.isMarkSymbolizer=s.isTextSymbolizer=s.isIconSymbolizer=s.isPointSymbolizer=s.isSymbolizer=s.isNegationFilter=s.isCombinationFilter=s.isComparisonFilter=s.isFilter=s.isNegationOperator=s.isCombinationOperator=s.isComparisonOperator=s.isOperator=s.isScaleDenominator=s.isPropertyType=s.isFunctionCall=s.isExpression=void 0;var r=n(dl),o=n(_l),a=n(Nl),l=function(b){return(0,s.isGeoStylerFunction)(b)||(0,s.isPropertyType)(b)};s.isExpression=l;var g=function(b){return b.type==="functioncall"&&b.hasOwnProperty("name")&&(0,r.default)(b.name)&&b.hasOwnProperty("args")&&Array.isArray(b.args)&&b.args.every(function(ae){return(0,s.isExpression)(ae)})};s.isFunctionCall=g;var h=function(b){return(0,r.default)(b)||(0,o.default)(b)||(0,a.default)(b)||b===null};s.isPropertyType=h;var c=function(b){return!!((b!=null&&b.min||b!=null&&b.max)&&(!b.min||(0,s.isGeoStylerNumberFunction)(b.min)||(0,o.default)(b.min))&&(!b.max||(0,s.isGeoStylerNumberFunction)(b.max)||(0,o.default)(b.min)))};s.isScaleDenominator=c;var m=function(b){return(0,s.isComparisonOperator)(b)||(0,s.isCombinationOperator)(b)||(0,s.isNegationOperator)(b)};s.isOperator=m;var y=function(b){return["==","*=","!=","<","<=",">",">=","<=x<="].includes(b)};s.isComparisonOperator=y;var w=function(b){return["&&","||"].includes(b)};s.isCombinationOperator=w;var _=function(b){return b==="!"};s.isNegationOperator=_;var P=function(b){return(0,s.isComparisonFilter)(b)||(0,s.isCombinationFilter)(b)||(0,s.isGeoStylerBooleanFunction)(b)||(0,s.isNegationFilter)(b)||(0,s.isGeoStylerBooleanFunction)(b)||(0,a.default)(b)};s.isFilter=P;var L=function(b){var ae=b&&b[0]==="<=x<="?4:3;return Array.isArray(b)&&b.length===ae&&(0,s.isComparisonOperator)(b[0])&&(0,s.isExpression)(b[1])&&(0,s.isExpression)(b[2])&&(b[0]!=="<=x<="||(0,o.default)(b[3]))};s.isComparisonFilter=L;var $=function(b){return Array.isArray(b)&&b.length>=3&&(0,s.isCombinationOperator)(b[0])&&b.every(function(ae,Ae){return Ae===0||(0,s.isFilter)(ae)})};s.isCombinationFilter=$;var R=function(b){return Array.isArray(b)&&b.length===2&&(0,s.isNegationOperator)(b[0])&&(0,s.isFilter)(b[1])};s.isNegationFilter=R;var M=function(b){return(0,s.isPointSymbolizer)(b)||(0,s.isLineSymbolizer)(b)||(0,s.isFillSymbolizer)(b)||(0,s.isRasterSymbolizer)(b)};s.isSymbolizer=M;var B=function(b){return(0,s.isIconSymbolizer)(b)||(0,s.isMarkSymbolizer)(b)||(0,s.isTextSymbolizer)(b)};s.isPointSymbolizer=B;var ie=function(b){return(b==null?void 0:b.kind)==="Icon"};s.isIconSymbolizer=ie;var Y=function(b){return(b==null?void 0:b.kind)==="Text"};s.isTextSymbolizer=Y;var se=function(b){return(b==null?void 0:b.kind)==="Mark"&&(0,r.default)(b==null?void 0:b.wellKnownName)};s.isMarkSymbolizer=se;var ge=function(b){return(b==null?void 0:b.kind)==="Line"};s.isLineSymbolizer=ge;var te=function(b){return(b==null?void 0:b.kind)==="Fill"};s.isFillSymbolizer=te;var ze=function(b){return(b==null?void 0:b.kind)==="Raster"};s.isRasterSymbolizer=ze;var $t=function(b){var ae;return!!((0,r.default)(b==null?void 0:b.name)&&(!(b!=null&&b.filter)||(0,s.isFilter)(b.filter))&&(!(b!=null&&b.scaleDenominator)||(0,s.isScaleDenominator)(b.scaleDenominator))&&(!((ae=b==null?void 0:b.symbolizers)===null||ae===void 0)&&ae.every(function(Ae){return(0,s.isSymbolizer)(Ae)})))};s.isRule=$t;var Yt=function(b){return(b==null?void 0:b.redChannel)!==void 0||(b==null?void 0:b.greenChannel)!==void 0||(b==null?void 0:b.blueChannel)!==void 0};s.isRgbChannel=Yt;var ht=function(b){return(b==null?void 0:b.grayChannel)!==void 0};s.isGrayChannel=ht;var Qn=function(b){var ae=["abs","acos","add","asin","atan","atan2","ceil","cos","div","exp","floor","log","max","min","modulo","mul","pi","pow","random","rint","round","sin","sqrt","strIndexOf","strLastIndexOf","strLength","sub","tan","toDegrees","toRadians"];return ae.includes(b==null?void 0:b.name)};s.isGeoStylerNumberFunction=Qn;var bn=function(b){var ae=["numberFormat","strAbbreviate","strCapitalize","strConcat","strDefaultIfBlank","strReplace","strStripAccents","strSubstring","strSubstringStart","strToLowerCase","strToUpperCase","strTrim"];return ae.includes(b==null?void 0:b.name)};s.isGeoStylerStringFunction=bn;var ut=function(b){var ae=["all","any","between","double2bool","equalTo","greaterThan","greaterThanOrEqualTo","in","lessThan","lessThanOrEqualTo","not","notEqualTo","parseBoolean","strEndsWith","strEqualsIgnoreCase","strMatches","strStartsWith"];return ae.includes(b==null?void 0:b.name)};s.isGeoStylerBooleanFunction=ut;var gt=function(b){var ae=["case","property"];return ae.includes(b==null?void 0:b.name)};s.isGeoStylerUnknownFunction=gt;var Ct=function(b){return(0,s.isGeoStylerBooleanFunction)(b)||(0,s.isGeoStylerNumberFunction)(b)||(0,s.isGeoStylerStringFunction)(b)||(0,s.isGeoStylerUnknownFunction)(b)};s.isGeoStylerFunction=Ct;var De=function(b){return typeof(b==null?void 0:b.source)=="string"||(0,s.isGeoStylerFunction)(b==null?void 0:b.source)&&Array.isArray(b.position)&&Array.isArray(b.size)};s.isSprite=De})(Ts),function(s){var n=Fe&&Fe.__createBinding||(Object.create?function(o,a,l,g){g===void 0&&(g=l);var h=Object.getOwnPropertyDescriptor(a,l);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,g,h)}:function(o,a,l,g){g===void 0&&(g=l),o[g]=a[l]}),r=Fe&&Fe.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&n(a,o,l)};Object.defineProperty(s,"__esModule",{value:!0}),r(Cs,s),r(Fs,s),r(Ts,s)}(he);var qr={},Hn={};(function(s){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",o="["+n+"]["+r+"]*",a=new RegExp("^"+o+"$"),l=function(h,c){const m=[];let y=c.exec(h);for(;y;){const w=[];w.startIndex=c.lastIndex-y[0].length;const _=y.length;for(let P=0;P<_;P++)w.push(y[P]);m.push(w),y=c.exec(h)}return m},g=function(h){const c=a.exec(h);return!(c===null||typeof c>"u")};s.isExist=function(h){return typeof h<"u"},s.isEmptyObject=function(h){return Object.keys(h).length===0},s.merge=function(h,c,m){if(c){const y=Object.keys(c),w=y.length;for(let _=0;_<w;_++)m==="strict"?h[y[_]]=[c[y[_]]]:h[y[_]]=c[y[_]]}},s.getValue=function(h){return s.isExist(h)?h:""},s.isName=g,s.getAllMatches=l,s.nameRegexp=o})(Hn);const Jr=Hn,Ol={allowBooleanAttributes:!1,unpairedTags:[]};qr.validate=function(s,n){n=Object.assign({},Ol,n);const r=[];let o=!1,a=!1;s[0]==="\uFEFF"&&(s=s.substr(1));for(let l=0;l<s.length;l++)if(s[l]==="<"&&s[l+1]==="?"){if(l+=2,l=Ms(s,l),l.err)return l}else if(s[l]==="<"){let g=l;if(l++,s[l]==="!"){l=ks(s,l);continue}else{let h=!1;s[l]==="/"&&(h=!0,l++);let c="";for(;l<s.length&&s[l]!==">"&&s[l]!==" "&&s[l]!=="	"&&s[l]!==`
`&&s[l]!=="\r";l++)c+=s[l];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),l--),!Rl(c)){let w;return c.trim().length===0?w="Invalid space after '<'.":w="Tag '"+c+"' is an invalid name.",ye("InvalidTag",w,Le(s,l))}const m=Tl(s,l);if(m===!1)return ye("InvalidAttr","Attributes for '"+c+"' have open quote.",Le(s,l));let y=m.value;if(l=m.index,y[y.length-1]==="/"){const w=l-y.length;y=y.substring(0,y.length-1);const _=$s(y,n);if(_===!0)o=!0;else return ye(_.err.code,_.err.msg,Le(s,w+_.err.line))}else if(h)if(m.tagClosed){if(y.trim().length>0)return ye("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Le(s,g));{const w=r.pop();if(c!==w.tagName){let _=Le(s,w.tagStartPos);return ye("InvalidTag","Expected closing tag '"+w.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+c+"'.",Le(s,g))}r.length==0&&(a=!0)}}else return ye("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Le(s,l));else{const w=$s(y,n);if(w!==!0)return ye(w.err.code,w.err.msg,Le(s,l-y.length+w.err.line));if(a===!0)return ye("InvalidXml","Multiple possible root nodes found.",Le(s,l));n.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:g}),o=!0}for(l++;l<s.length;l++)if(s[l]==="<")if(s[l+1]==="!"){l++,l=ks(s,l);continue}else if(s[l+1]==="?"){if(l=Ms(s,++l),l.err)return l}else break;else if(s[l]==="&"){const w=Ll(s,l);if(w==-1)return ye("InvalidChar","char '&' is not expected.",Le(s,l));l=w}else if(a===!0&&!Is(s[l]))return ye("InvalidXml","Extra text at the end",Le(s,l));s[l]==="<"&&l--}}else{if(Is(s[l]))continue;return ye("InvalidChar","char '"+s[l]+"' is not expected.",Le(s,l))}if(o){if(r.length==1)return ye("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Le(s,r[0].tagStartPos));if(r.length>0)return ye("InvalidXml","Invalid '"+JSON.stringify(r.map(l=>l.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ye("InvalidXml","Start tag expected.",1);return!0};function Is(s){return s===" "||s==="	"||s===`
`||s==="\r"}function Ms(s,n){const r=n;for(;n<s.length;n++)if(s[n]=="?"||s[n]==" "){const o=s.substr(r,n-r);if(n>5&&o==="xml")return ye("InvalidXml","XML declaration allowed only at the start of the document.",Le(s,n));if(s[n]=="?"&&s[n+1]==">"){n++;break}else continue}return n}function ks(s,n){if(s.length>n+5&&s[n+1]==="-"&&s[n+2]==="-"){for(n+=3;n<s.length;n++)if(s[n]==="-"&&s[n+1]==="-"&&s[n+2]===">"){n+=2;break}}else if(s.length>n+8&&s[n+1]==="D"&&s[n+2]==="O"&&s[n+3]==="C"&&s[n+4]==="T"&&s[n+5]==="Y"&&s[n+6]==="P"&&s[n+7]==="E"){let r=1;for(n+=8;n<s.length;n++)if(s[n]==="<")r++;else if(s[n]===">"&&(r--,r===0))break}else if(s.length>n+9&&s[n+1]==="["&&s[n+2]==="C"&&s[n+3]==="D"&&s[n+4]==="A"&&s[n+5]==="T"&&s[n+6]==="A"&&s[n+7]==="["){for(n+=8;n<s.length;n++)if(s[n]==="]"&&s[n+1]==="]"&&s[n+2]===">"){n+=2;break}}return n}const Cl='"',Fl="'";function Tl(s,n){let r="",o="",a=!1;for(;n<s.length;n++){if(s[n]===Cl||s[n]===Fl)o===""?o=s[n]:o!==s[n]||(o="");else if(s[n]===">"&&o===""){a=!0;break}r+=s[n]}return o!==""?!1:{value:r,index:n,tagClosed:a}}const Pl=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function $s(s,n){const r=Jr.getAllMatches(s,Pl),o={};for(let a=0;a<r.length;a++){if(r[a][1].length===0)return ye("InvalidAttr","Attribute '"+r[a][2]+"' has no space in starting.",mn(r[a]));if(r[a][3]!==void 0&&r[a][4]===void 0)return ye("InvalidAttr","Attribute '"+r[a][2]+"' is without value.",mn(r[a]));if(r[a][3]===void 0&&!n.allowBooleanAttributes)return ye("InvalidAttr","boolean attribute '"+r[a][2]+"' is not allowed.",mn(r[a]));const l=r[a][2];if(!Al(l))return ye("InvalidAttr","Attribute '"+l+"' is an invalid name.",mn(r[a]));if(!o.hasOwnProperty(l))o[l]=1;else return ye("InvalidAttr","Attribute '"+l+"' is repeated.",mn(r[a]))}return!0}function El(s,n){let r=/\d/;for(s[n]==="x"&&(n++,r=/[\da-fA-F]/);n<s.length;n++){if(s[n]===";")return n;if(!s[n].match(r))break}return-1}function Ll(s,n){if(n++,s[n]===";")return-1;if(s[n]==="#")return n++,El(s,n);let r=0;for(;n<s.length;n++,r++)if(!(s[n].match(/\w/)&&r<20)){if(s[n]===";")break;return-1}return n}function ye(s,n,r){return{err:{code:s,msg:n,line:r.line||r,col:r.col}}}function Al(s){return Jr.isName(s)}function Rl(s){return Jr.isName(s)}function Le(s,n){const r=s.substring(0,n).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function mn(s){return s.startIndex+s[1].length}var Yr={};const Bs={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(s,n){return n},attributeValueProcessor:function(s,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(s,n,r){return s}},Il=function(s){return Object.assign({},Bs,s)};Yr.buildOptions=Il,Yr.defaultOptions=Bs;class Ml{constructor(n){this.tagname=n,this.child=[],this[":@"]={}}add(n,r){n==="__proto__"&&(n="#__proto__"),this.child.push({[n]:r})}addChild(n){n.tagname==="__proto__"&&(n.tagname="#__proto__"),n[":@"]&&Object.keys(n[":@"]).length>0?this.child.push({[n.tagname]:n.child,":@":n[":@"]}):this.child.push({[n.tagname]:n.child})}}var kl=Ml;const $l=Hn;function Bl(s,n){const r={};if(s[n+3]==="O"&&s[n+4]==="C"&&s[n+5]==="T"&&s[n+6]==="Y"&&s[n+7]==="P"&&s[n+8]==="E"){n=n+9;let o=1,a=!1,l=!1,g="";for(;n<s.length;n++)if(s[n]==="<"&&!l){if(a&&Wl(s,n))n+=7,[entityName,val,n]=Gl(s,n+1),val.indexOf("&")===-1&&(r[zl(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(a&&Vl(s,n))n+=8;else if(a&&Kl(s,n))n+=8;else if(a&&Hl(s,n))n+=9;else if(Ul)l=!0;else throw new Error("Invalid DOCTYPE");o++,g=""}else if(s[n]===">"){if(l?s[n-1]==="-"&&s[n-2]==="-"&&(l=!1,o--):o--,o===0)break}else s[n]==="["?a=!0:g+=s[n];if(o!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:n}}function Gl(s,n){let r="";for(;n<s.length&&s[n]!=="'"&&s[n]!=='"';n++)r+=s[n];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const o=s[n++];let a="";for(;n<s.length&&s[n]!==o;n++)a+=s[n];return[r,a,n]}function Ul(s,n){return s[n+1]==="!"&&s[n+2]==="-"&&s[n+3]==="-"}function Wl(s,n){return s[n+1]==="!"&&s[n+2]==="E"&&s[n+3]==="N"&&s[n+4]==="T"&&s[n+5]==="I"&&s[n+6]==="T"&&s[n+7]==="Y"}function Vl(s,n){return s[n+1]==="!"&&s[n+2]==="E"&&s[n+3]==="L"&&s[n+4]==="E"&&s[n+5]==="M"&&s[n+6]==="E"&&s[n+7]==="N"&&s[n+8]==="T"}function Kl(s,n){return s[n+1]==="!"&&s[n+2]==="A"&&s[n+3]==="T"&&s[n+4]==="T"&&s[n+5]==="L"&&s[n+6]==="I"&&s[n+7]==="S"&&s[n+8]==="T"}function Hl(s,n){return s[n+1]==="!"&&s[n+2]==="N"&&s[n+3]==="O"&&s[n+4]==="T"&&s[n+5]==="A"&&s[n+6]==="T"&&s[n+7]==="I"&&s[n+8]==="O"&&s[n+9]==="N"}function zl(s){if($l.isName(s))return s;throw new Error(`Invalid entity name ${s}`)}var Dl=Bl;const Xl=/^[-+]?0x[a-fA-F0-9]+$/,ql=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Jl={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Yl(s,n={}){if(n=Object.assign({},Jl,n),!s||typeof s!="string")return s;let r=s.trim();if(n.skipLike!==void 0&&n.skipLike.test(r))return s;if(n.hex&&Xl.test(r))return Number.parseInt(r,16);{const o=ql.exec(r);if(o){const a=o[1],l=o[2];let g=Zl(o[3]);const h=o[4]||o[6];if(!n.leadingZeros&&l.length>0&&a&&r[2]!==".")return s;if(!n.leadingZeros&&l.length>0&&!a&&r[1]!==".")return s;{const c=Number(r),m=""+c;return m.search(/[eE]/)!==-1||h?n.eNotation?c:s:r.indexOf(".")!==-1?m==="0"&&g===""||m===g||a&&m==="-"+g?c:s:l?g===m||a+g===m?c:s:r===m||r===a+m?c:s}}else return s}}function Zl(s){return s&&s.indexOf(".")!==-1&&(s=s.replace(/0+$/,""),s==="."?s="0":s[0]==="."?s="0"+s:s[s.length-1]==="."&&(s=s.substr(0,s.length-1))),s}var jl=Yl;const Zr=Hn,vn=kl,Ql=Dl,ef=jl;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Zr.nameRegexp);let tf=class{constructor(n){this.options=n,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=nf,this.parseXml=uf,this.parseTextData=rf,this.resolveNameSpace=sf,this.buildAttributesMap=af,this.isItStopNode=hf,this.replaceEntitiesValue=ff,this.readStopNodeData=df,this.saveTextToParentTag=cf,this.addChild=lf}};function nf(s){const n=Object.keys(s);for(let r=0;r<n.length;r++){const o=n[r];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:s[o]}}}function rf(s,n,r,o,a,l,g){if(s!==void 0&&(this.options.trimValues&&!o&&(s=s.trim()),s.length>0)){g||(s=this.replaceEntitiesValue(s));const h=this.options.tagValueProcessor(n,s,r,a,l);return h==null?s:typeof h!=typeof s||h!==s?h:this.options.trimValues?Qr(s,this.options.parseTagValue,this.options.numberParseOptions):s.trim()===s?Qr(s,this.options.parseTagValue,this.options.numberParseOptions):s}}function sf(s){if(this.options.removeNSPrefix){const n=s.split(":"),r=s.charAt(0)==="/"?"/":"";if(n[0]==="xmlns")return"";n.length===2&&(s=r+n[1])}return s}const of=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function af(s,n,r){if(!this.options.ignoreAttributes&&typeof s=="string"){const o=Zr.getAllMatches(s,of),a=o.length,l={};for(let g=0;g<a;g++){const h=this.resolveNameSpace(o[g][1]);let c=o[g][4],m=this.options.attributeNamePrefix+h;if(h.length)if(this.options.transformAttributeName&&(m=this.options.transformAttributeName(m)),m==="__proto__"&&(m="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const y=this.options.attributeValueProcessor(h,c,n);y==null?l[m]=c:typeof y!=typeof c||y!==c?l[m]=y:l[m]=Qr(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(l[m]=!0)}if(!Object.keys(l).length)return;if(this.options.attributesGroupName){const g={};return g[this.options.attributesGroupName]=l,g}return l}}const uf=function(s){s=s.replace(/\r\n?/g,`
`);const n=new vn("!xml");let r=n,o="",a="";for(let l=0;l<s.length;l++)if(s[l]==="<")if(s[l+1]==="/"){const h=kt(s,">",l,"Closing Tag is not closed.");let c=s.substring(l+2,h).trim();if(this.options.removeNSPrefix){const w=c.indexOf(":");w!==-1&&(c=c.substr(w+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(o=this.saveTextToParentTag(o,r,a));const m=a.substring(a.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let y=0;m&&this.options.unpairedTags.indexOf(m)!==-1?(y=a.lastIndexOf(".",a.lastIndexOf(".")-1),this.tagsNodeStack.pop()):y=a.lastIndexOf("."),a=a.substring(0,y),r=this.tagsNodeStack.pop(),o="",l=h}else if(s[l+1]==="?"){let h=jr(s,l,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,r,a),!(this.options.ignoreDeclaration&&h.tagName==="?xml"||this.options.ignorePiTags)){const c=new vn(h.tagName);c.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(c[":@"]=this.buildAttributesMap(h.tagExp,a,h.tagName)),this.addChild(r,c,a)}l=h.closeIndex+1}else if(s.substr(l+1,3)==="!--"){const h=kt(s,"-->",l+4,"Comment is not closed.");if(this.options.commentPropName){const c=s.substring(l+4,h-2);o=this.saveTextToParentTag(o,r,a),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}l=h}else if(s.substr(l+1,2)==="!D"){const h=Ql(s,l);this.docTypeEntities=h.entities,l=h.i}else if(s.substr(l+1,2)==="!["){const h=kt(s,"]]>",l,"CDATA is not closed.")-2,c=s.substring(l+9,h);if(o=this.saveTextToParentTag(o,r,a),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let m=this.parseTextData(c,r.tagname,a,!0,!1,!0);m==null&&(m=""),r.add(this.options.textNodeName,m)}l=h+2}else{let h=jr(s,l,this.options.removeNSPrefix),c=h.tagName,m=h.tagExp,y=h.attrExpPresent,w=h.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&o&&r.tagname!=="!xml"&&(o=this.saveTextToParentTag(o,r,a,!1));const _=r;if(_&&this.options.unpairedTags.indexOf(_.tagname)!==-1&&(r=this.tagsNodeStack.pop(),a=a.substring(0,a.lastIndexOf("."))),c!==n.tagname&&(a+=a?"."+c:c),this.isItStopNode(this.options.stopNodes,a,c)){let P="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)l=h.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)l=h.closeIndex;else{const $=this.readStopNodeData(s,c,w+1);if(!$)throw new Error(`Unexpected end of ${c}`);l=$.i,P=$.tagContent}const L=new vn(c);c!==m&&y&&(L[":@"]=this.buildAttributesMap(m,a,c)),P&&(P=this.parseTextData(P,c,a,!0,y,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),L.add(this.options.textNodeName,P),this.addChild(r,L,a)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),a=a.substr(0,a.length-1),m=c):m=m.substr(0,m.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const P=new vn(c);c!==m&&y&&(P[":@"]=this.buildAttributesMap(m,a,c)),this.addChild(r,P,a),a=a.substr(0,a.lastIndexOf("."))}else{const P=new vn(c);this.tagsNodeStack.push(r),c!==m&&y&&(P[":@"]=this.buildAttributesMap(m,a,c)),this.addChild(r,P,a),r=P}o="",l=w}}else o+=s[l];return n.child};function lf(s,n,r){const o=this.options.updateTag(n.tagname,r,n[":@"]);o===!1||(typeof o=="string"&&(n.tagname=o),s.addChild(n))}const ff=function(s){if(this.options.processEntities){for(let n in this.docTypeEntities){const r=this.docTypeEntities[n];s=s.replace(r.regx,r.val)}for(let n in this.lastEntities){const r=this.lastEntities[n];s=s.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let n in this.htmlEntities){const r=this.htmlEntities[n];s=s.replace(r.regex,r.val)}s=s.replace(this.ampEntity.regex,this.ampEntity.val)}return s};function cf(s,n,r,o){return s&&(o===void 0&&(o=Object.keys(n.child).length===0),s=this.parseTextData(s,n.tagname,r,!1,n[":@"]?Object.keys(n[":@"]).length!==0:!1,o),s!==void 0&&s!==""&&n.add(this.options.textNodeName,s),s=""),s}function hf(s,n,r){const o="*."+r;for(const a in s){const l=s[a];if(o===l||n===l)return!0}return!1}function gf(s,n,r=">"){let o,a="";for(let l=n;l<s.length;l++){let g=s[l];if(o)g===o&&(o="");else if(g==='"'||g==="'")o=g;else if(g===r[0])if(r[1]){if(s[l+1]===r[1])return{data:a,index:l}}else return{data:a,index:l};else g==="	"&&(g=" ");a+=g}}function kt(s,n,r,o){const a=s.indexOf(n,r);if(a===-1)throw new Error(o);return a+n.length-1}function jr(s,n,r,o=">"){const a=gf(s,n+1,o);if(!a)return;let l=a.data;const g=a.index,h=l.search(/\s/);let c=l,m=!0;if(h!==-1&&(c=l.substr(0,h).replace(/\s\s*$/,""),l=l.substr(h+1)),r){const y=c.indexOf(":");y!==-1&&(c=c.substr(y+1),m=c!==a.data.substr(y+1))}return{tagName:c,tagExp:l,closeIndex:g,attrExpPresent:m}}function df(s,n,r){const o=r;let a=1;for(;r<s.length;r++)if(s[r]==="<")if(s[r+1]==="/"){const l=kt(s,">",r,`${n} is not closed`);if(s.substring(r+2,l).trim()===n&&(a--,a===0))return{tagContent:s.substring(o,r),i:l};r=l}else if(s[r+1]==="?")r=kt(s,"?>",r+1,"StopNode is not closed.");else if(s.substr(r+1,3)==="!--")r=kt(s,"-->",r+3,"StopNode is not closed.");else if(s.substr(r+1,2)==="![")r=kt(s,"]]>",r,"StopNode is not closed.")-2;else{const l=jr(s,r,">");l&&((l&&l.tagName)===n&&l.tagExp[l.tagExp.length-1]!=="/"&&a++,r=l.closeIndex)}}function Qr(s,n,r){if(n&&typeof s=="string"){const o=s.trim();return o==="true"?!0:o==="false"?!1:ef(s,r)}else return Zr.isExist(s)?s:""}var pf=tf,Gs={};function mf(s,n){return Us(s,n)}function Us(s,n,r){let o;const a={};for(let l=0;l<s.length;l++){const g=s[l],h=vf(g);let c="";if(r===void 0?c=h:c=r+"."+h,h===n.textNodeName)o===void 0?o=g[h]:o+=""+g[h];else{if(h===void 0)continue;if(g[h]){let m=Us(g[h],n,c);const y=_f(m,n);g[":@"]?yf(m,g[":@"],c,n):Object.keys(m).length===1&&m[n.textNodeName]!==void 0&&!n.alwaysCreateTextNode?m=m[n.textNodeName]:Object.keys(m).length===0&&(n.alwaysCreateTextNode?m[n.textNodeName]="":m=""),a[h]!==void 0&&a.hasOwnProperty(h)?(Array.isArray(a[h])||(a[h]=[a[h]]),a[h].push(m)):n.isArray(h,c,y)?a[h]=[m]:a[h]=m}}}return typeof o=="string"?o.length>0&&(a[n.textNodeName]=o):o!==void 0&&(a[n.textNodeName]=o),a}function vf(s){const n=Object.keys(s);for(let r=0;r<n.length;r++){const o=n[r];if(o!==":@")return o}}function yf(s,n,r,o){if(n){const a=Object.keys(n),l=a.length;for(let g=0;g<l;g++){const h=a[g];o.isArray(h,r+"."+h,!0,!0)?s[h]=[n[h]]:s[h]=n[h]}}}function _f(s,n){const{textNodeName:r}=n,o=Object.keys(s).length;return!!(o===0||o===1&&(s[r]||typeof s[r]=="boolean"||s[r]===0))}Gs.prettify=mf;const{buildOptions:Sf}=Yr,bf=pf,{prettify:xf}=Gs,wf=qr;var Nf=class{constructor(n){this.externalEntities={},this.options=Sf(n)}parse(n,r){if(typeof n!="string")if(n.toString)n=n.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const l=wf.validate(n,r);if(l!==!0)throw Error(`${l.err.msg}:${l.err.line}:${l.err.col}`)}const o=new bf(this.options);o.addExternalEntities(this.externalEntities);const a=o.parseXml(n);return this.options.preserveOrder||a===void 0?a:xf(a,this.options)}addEntity(n,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(n.indexOf("&")!==-1||n.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[n]=r}};const Of=`
`;function Cf(s,n){let r="";return n.format&&n.indentBy.length>0&&(r=Of),Ws(s,n,"",r)}function Ws(s,n,r,o){let a="",l=!1;for(let g=0;g<s.length;g++){const h=s[g],c=Ff(h);let m="";if(r.length===0?m=c:m=`${r}.${c}`,c===n.textNodeName){let L=h[c];Tf(m,n)||(L=n.tagValueProcessor(c,L),L=Ks(L,n)),l&&(a+=o),a+=L,l=!1;continue}else if(c===n.cdataPropName){l&&(a+=o),a+=`<![CDATA[${h[c][0][n.textNodeName]}]]>`,l=!1;continue}else if(c===n.commentPropName){a+=o+`<!--${h[c][0][n.textNodeName]}-->`,l=!0;continue}else if(c[0]==="?"){const L=Vs(h[":@"],n),$=c==="?xml"?"":o;let R=h[c][0][n.textNodeName];R=R.length!==0?" "+R:"",a+=$+`<${c}${R}${L}?>`,l=!0;continue}let y=o;y!==""&&(y+=n.indentBy);const w=Vs(h[":@"],n),_=o+`<${c}${w}`,P=Ws(h[c],n,m,y);n.unpairedTags.indexOf(c)!==-1?n.suppressUnpairedNode?a+=_+">":a+=_+"/>":(!P||P.length===0)&&n.suppressEmptyNode?a+=_+"/>":P&&P.endsWith(">")?a+=_+`>${P}${o}</${c}>`:(a+=_+">",P&&o!==""&&(P.includes("/>")||P.includes("</"))?a+=o+n.indentBy+P+o:a+=P,a+=`</${c}>`),l=!0}return a}function Ff(s){const n=Object.keys(s);for(let r=0;r<n.length;r++){const o=n[r];if(o!==":@")return o}}function Vs(s,n){let r="";if(s&&!n.ignoreAttributes)for(let o in s){let a=n.attributeValueProcessor(o,s[o]);a=Ks(a,n),a===!0&&n.suppressBooleanAttributes?r+=` ${o.substr(n.attributeNamePrefix.length)}`:r+=` ${o.substr(n.attributeNamePrefix.length)}="${a}"`}return r}function Tf(s,n){s=s.substr(0,s.length-n.textNodeName.length-1);let r=s.substr(s.lastIndexOf(".")+1);for(let o in n.stopNodes)if(n.stopNodes[o]===s||n.stopNodes[o]==="*."+r)return!0;return!1}function Ks(s,n){if(s&&s.length>0&&n.processEntities)for(let r=0;r<n.entities.length;r++){const o=n.entities[r];s=s.replace(o.regex,o.val)}return s}var Pf=Cf;const Ef=Pf,Lf={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(s,n){return n},attributeValueProcessor:function(s,n){return n},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Nt(s){this.options=Object.assign({},Lf,s),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=If),this.processTextOrObjNode=Af,this.options.format?(this.indentate=Rf,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Nt.prototype.build=function(s){return this.options.preserveOrder?Ef(s,this.options):(Array.isArray(s)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(s={[this.options.arrayNodeName]:s}),this.j2x(s,0).val)},Nt.prototype.j2x=function(s,n){let r="",o="";for(let a in s)if(typeof s[a]>"u")this.isAttribute(a)&&(o+="");else if(s[a]===null)this.isAttribute(a)?o+="":a[0]==="?"?o+=this.indentate(n)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(n)+"<"+a+"/"+this.tagEndChar;else if(s[a]instanceof Date)o+=this.buildTextValNode(s[a],a,"",n);else if(typeof s[a]!="object"){const l=this.isAttribute(a);if(l)r+=this.buildAttrPairStr(l,""+s[a]);else if(a===this.options.textNodeName){let g=this.options.tagValueProcessor(a,""+s[a]);o+=this.replaceEntitiesValue(g)}else o+=this.buildTextValNode(s[a],a,"",n)}else if(Array.isArray(s[a])){const l=s[a].length;let g="";for(let h=0;h<l;h++){const c=s[a][h];typeof c>"u"||(c===null?a[0]==="?"?o+=this.indentate(n)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(n)+"<"+a+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?g+=this.j2x(c,n+1).val:g+=this.processTextOrObjNode(c,a,n):g+=this.buildTextValNode(c,a,"",n))}this.options.oneListGroup&&(g=this.buildObjectNode(g,a,"",n)),o+=g}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const l=Object.keys(s[a]),g=l.length;for(let h=0;h<g;h++)r+=this.buildAttrPairStr(l[h],""+s[a][l[h]])}else o+=this.processTextOrObjNode(s[a],a,n);return{attrStr:r,val:o}},Nt.prototype.buildAttrPairStr=function(s,n){return n=this.options.attributeValueProcessor(s,""+n),n=this.replaceEntitiesValue(n),this.options.suppressBooleanAttributes&&n==="true"?" "+s:" "+s+'="'+n+'"'};function Af(s,n,r){const o=this.j2x(s,r+1);return s[this.options.textNodeName]!==void 0&&Object.keys(s).length===1?this.buildTextValNode(s[this.options.textNodeName],n,o.attrStr,r):this.buildObjectNode(o.val,n,o.attrStr,r)}Nt.prototype.buildObjectNode=function(s,n,r,o){if(s==="")return n[0]==="?"?this.indentate(o)+"<"+n+r+"?"+this.tagEndChar:this.indentate(o)+"<"+n+r+this.closeTag(n)+this.tagEndChar;{let a="</"+n+this.tagEndChar,l="";return n[0]==="?"&&(l="?",a=""),(r||r==="")&&s.indexOf("<")===-1?this.indentate(o)+"<"+n+r+l+">"+s+a:this.options.commentPropName!==!1&&n===this.options.commentPropName&&l.length===0?this.indentate(o)+`<!--${s}-->`+this.newLine:this.indentate(o)+"<"+n+r+l+this.tagEndChar+s+this.indentate(o)+a}},Nt.prototype.closeTag=function(s){let n="";return this.options.unpairedTags.indexOf(s)!==-1?this.options.suppressUnpairedNode||(n="/"):this.options.suppressEmptyNode?n="/":n=`></${s}`,n},Nt.prototype.buildTextValNode=function(s,n,r,o){if(this.options.cdataPropName!==!1&&n===this.options.cdataPropName)return this.indentate(o)+`<![CDATA[${s}]]>`+this.newLine;if(this.options.commentPropName!==!1&&n===this.options.commentPropName)return this.indentate(o)+`<!--${s}-->`+this.newLine;if(n[0]==="?")return this.indentate(o)+"<"+n+r+"?"+this.tagEndChar;{let a=this.options.tagValueProcessor(n,s);return a=this.replaceEntitiesValue(a),a===""?this.indentate(o)+"<"+n+r+this.closeTag(n)+this.tagEndChar:this.indentate(o)+"<"+n+r+">"+a+"</"+n+this.tagEndChar}},Nt.prototype.replaceEntitiesValue=function(s){if(s&&s.length>0&&this.options.processEntities)for(let n=0;n<this.options.entities.length;n++){const r=this.options.entities[n];s=s.replace(r.regex,r.val)}return s};function Rf(s){return this.options.indentBy.repeat(s)}function If(s){return s.startsWith(this.options.attributeNamePrefix)&&s!==this.options.textNodeName?s.substr(this.attrPrefixLen):!1}var Mf=Nt,Hs={XMLParser:Nf,XMLValidator:qr,XMLBuilder:Mf},zn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */zn.exports,function(s,n){(function(){var r,o="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",h="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",w=1,_=2,P=4,L=1,$=2,R=1,M=2,B=4,ie=8,Y=16,se=32,ge=64,te=128,ze=256,$t=512,Yt=30,ht="...",Qn=800,bn=16,ut=1,gt=2,Ct=3,De=1/0,b=9007199254740991,ae=17976931348623157e292,Ae=0/0,Be=4294967295,oc=Be-1,ac=Be>>>1,uc=[["ary",te],["bind",R],["bindKey",M],["curry",ie],["curryRight",Y],["flip",$t],["partial",se],["partialRight",ge],["rearg",ze]],Zt="[object Arguments]",er="[object Array]",lc="[object AsyncFunction]",xn="[object Boolean]",wn="[object Date]",fc="[object DOMException]",tr="[object Error]",nr="[object Function]",ao="[object GeneratorFunction]",tt="[object Map]",Nn="[object Number]",cc="[object Null]",dt="[object Object]",uo="[object Promise]",hc="[object Proxy]",On="[object RegExp]",nt="[object Set]",Cn="[object String]",rr="[object Symbol]",gc="[object Undefined]",Fn="[object WeakMap]",dc="[object WeakSet]",Tn="[object ArrayBuffer]",jt="[object DataView]",si="[object Float32Array]",oi="[object Float64Array]",ai="[object Int8Array]",ui="[object Int16Array]",li="[object Int32Array]",fi="[object Uint8Array]",ci="[object Uint8ClampedArray]",hi="[object Uint16Array]",gi="[object Uint32Array]",pc=/\b__p \+= '';/g,mc=/\b(__p \+=) '' \+/g,vc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lo=/&(?:amp|lt|gt|quot|#39);/g,fo=/[&<>"']/g,yc=RegExp(lo.source),_c=RegExp(fo.source),Sc=/<%-([\s\S]+?)%>/g,bc=/<%([\s\S]+?)%>/g,co=/<%=([\s\S]+?)%>/g,xc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wc=/^\w*$/,Nc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/[\\^$.*+?()[\]{}|]/g,Oc=RegExp(di.source),pi=/^\s+/,Cc=/\s/,Fc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tc=/\{\n\/\* \[wrapped with (.+)\] \*/,Pc=/,? & /,Ec=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lc=/[()=,{}\[\]\/\s]/,Ac=/\\(\\)?/g,Rc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ho=/\w*$/,Ic=/^[-+]0x[0-9a-f]+$/i,Mc=/^0b[01]+$/i,kc=/^\[object .+?Constructor\]$/,$c=/^0o[0-7]+$/i,Bc=/^(?:0|[1-9]\d*)$/,Gc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,Uc=/['\n\r\u2028\u2029\\]/g,sr="\\ud800-\\udfff",Wc="\\u0300-\\u036f",Vc="\\ufe20-\\ufe2f",Kc="\\u20d0-\\u20ff",go=Wc+Vc+Kc,po="\\u2700-\\u27bf",mo="a-z\\xdf-\\xf6\\xf8-\\xff",Hc="\\xac\\xb1\\xd7\\xf7",zc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dc="\\u2000-\\u206f",Xc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vo="A-Z\\xc0-\\xd6\\xd8-\\xde",yo="\\ufe0e\\ufe0f",_o=Hc+zc+Dc+Xc,mi="['’]",qc="["+sr+"]",So="["+_o+"]",or="["+go+"]",bo="\\d+",Jc="["+po+"]",xo="["+mo+"]",wo="[^"+sr+_o+bo+po+mo+vo+"]",vi="\\ud83c[\\udffb-\\udfff]",Yc="(?:"+or+"|"+vi+")",No="[^"+sr+"]",yi="(?:\\ud83c[\\udde6-\\uddff]){2}",_i="[\\ud800-\\udbff][\\udc00-\\udfff]",Qt="["+vo+"]",Oo="\\u200d",Co="(?:"+xo+"|"+wo+")",Zc="(?:"+Qt+"|"+wo+")",Fo="(?:"+mi+"(?:d|ll|m|re|s|t|ve))?",To="(?:"+mi+"(?:D|LL|M|RE|S|T|VE))?",Po=Yc+"?",Eo="["+yo+"]?",jc="(?:"+Oo+"(?:"+[No,yi,_i].join("|")+")"+Eo+Po+")*",Qc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",eh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lo=Eo+Po+jc,th="(?:"+[Jc,yi,_i].join("|")+")"+Lo,nh="(?:"+[No+or+"?",or,yi,_i,qc].join("|")+")",rh=RegExp(mi,"g"),ih=RegExp(or,"g"),Si=RegExp(vi+"(?="+vi+")|"+nh+Lo,"g"),sh=RegExp([Qt+"?"+xo+"+"+Fo+"(?="+[So,Qt,"$"].join("|")+")",Zc+"+"+To+"(?="+[So,Qt+Co,"$"].join("|")+")",Qt+"?"+Co+"+"+Fo,Qt+"+"+To,eh,Qc,bo,th].join("|"),"g"),oh=RegExp("["+Oo+sr+go+yo+"]"),ah=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lh=-1,fe={};fe[si]=fe[oi]=fe[ai]=fe[ui]=fe[li]=fe[fi]=fe[ci]=fe[hi]=fe[gi]=!0,fe[Zt]=fe[er]=fe[Tn]=fe[xn]=fe[jt]=fe[wn]=fe[tr]=fe[nr]=fe[tt]=fe[Nn]=fe[dt]=fe[On]=fe[nt]=fe[Cn]=fe[Fn]=!1;var le={};le[Zt]=le[er]=le[Tn]=le[jt]=le[xn]=le[wn]=le[si]=le[oi]=le[ai]=le[ui]=le[li]=le[tt]=le[Nn]=le[dt]=le[On]=le[nt]=le[Cn]=le[rr]=le[fi]=le[ci]=le[hi]=le[gi]=!0,le[tr]=le[nr]=le[Fn]=!1;var fh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ch={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dh=parseFloat,ph=parseInt,Ao=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,mh=typeof self=="object"&&self&&self.Object===Object&&self,we=Ao||mh||Function("return this")(),bi=n&&!n.nodeType&&n,Bt=bi&&!0&&s&&!s.nodeType&&s,Ro=Bt&&Bt.exports===bi,xi=Ro&&Ao.process,Xe=function(){try{var x=Bt&&Bt.require&&Bt.require("util").types;return x||xi&&xi.binding&&xi.binding("util")}catch{}}(),Io=Xe&&Xe.isArrayBuffer,Mo=Xe&&Xe.isDate,ko=Xe&&Xe.isMap,$o=Xe&&Xe.isRegExp,Bo=Xe&&Xe.isSet,Go=Xe&&Xe.isTypedArray;function Ge(x,C,O){switch(O.length){case 0:return x.call(C);case 1:return x.call(C,O[0]);case 2:return x.call(C,O[0],O[1]);case 3:return x.call(C,O[0],O[1],O[2])}return x.apply(C,O)}function vh(x,C,O,k){for(var H=-1,ee=x==null?0:x.length;++H<ee;){var _e=x[H];C(k,_e,O(_e),x)}return k}function qe(x,C){for(var O=-1,k=x==null?0:x.length;++O<k&&C(x[O],O,x)!==!1;);return x}function yh(x,C){for(var O=x==null?0:x.length;O--&&C(x[O],O,x)!==!1;);return x}function Uo(x,C){for(var O=-1,k=x==null?0:x.length;++O<k;)if(!C(x[O],O,x))return!1;return!0}function Ft(x,C){for(var O=-1,k=x==null?0:x.length,H=0,ee=[];++O<k;){var _e=x[O];C(_e,O,x)&&(ee[H++]=_e)}return ee}function ar(x,C){var O=x==null?0:x.length;return!!O&&en(x,C,0)>-1}function wi(x,C,O){for(var k=-1,H=x==null?0:x.length;++k<H;)if(O(C,x[k]))return!0;return!1}function ce(x,C){for(var O=-1,k=x==null?0:x.length,H=Array(k);++O<k;)H[O]=C(x[O],O,x);return H}function Tt(x,C){for(var O=-1,k=C.length,H=x.length;++O<k;)x[H+O]=C[O];return x}function Ni(x,C,O,k){var H=-1,ee=x==null?0:x.length;for(k&&ee&&(O=x[++H]);++H<ee;)O=C(O,x[H],H,x);return O}function _h(x,C,O,k){var H=x==null?0:x.length;for(k&&H&&(O=x[--H]);H--;)O=C(O,x[H],H,x);return O}function Oi(x,C){for(var O=-1,k=x==null?0:x.length;++O<k;)if(C(x[O],O,x))return!0;return!1}var Sh=Ci("length");function bh(x){return x.split("")}function xh(x){return x.match(Ec)||[]}function Wo(x,C,O){var k;return O(x,function(H,ee,_e){if(C(H,ee,_e))return k=ee,!1}),k}function ur(x,C,O,k){for(var H=x.length,ee=O+(k?1:-1);k?ee--:++ee<H;)if(C(x[ee],ee,x))return ee;return-1}function en(x,C,O){return C===C?Ih(x,C,O):ur(x,Vo,O)}function wh(x,C,O,k){for(var H=O-1,ee=x.length;++H<ee;)if(k(x[H],C))return H;return-1}function Vo(x){return x!==x}function Ko(x,C){var O=x==null?0:x.length;return O?Ti(x,C)/O:Ae}function Ci(x){return function(C){return C==null?r:C[x]}}function Fi(x){return function(C){return x==null?r:x[C]}}function Ho(x,C,O,k,H){return H(x,function(ee,_e,ue){O=k?(k=!1,ee):C(O,ee,_e,ue)}),O}function Nh(x,C){var O=x.length;for(x.sort(C);O--;)x[O]=x[O].value;return x}function Ti(x,C){for(var O,k=-1,H=x.length;++k<H;){var ee=C(x[k]);ee!==r&&(O=O===r?ee:O+ee)}return O}function Pi(x,C){for(var O=-1,k=Array(x);++O<x;)k[O]=C(O);return k}function Oh(x,C){return ce(C,function(O){return[O,x[O]]})}function zo(x){return x&&x.slice(0,Jo(x)+1).replace(pi,"")}function Ue(x){return function(C){return x(C)}}function Ei(x,C){return ce(C,function(O){return x[O]})}function Pn(x,C){return x.has(C)}function Do(x,C){for(var O=-1,k=x.length;++O<k&&en(C,x[O],0)>-1;);return O}function Xo(x,C){for(var O=x.length;O--&&en(C,x[O],0)>-1;);return O}function Ch(x,C){for(var O=x.length,k=0;O--;)x[O]===C&&++k;return k}var Fh=Fi(fh),Th=Fi(ch);function Ph(x){return"\\"+gh[x]}function Eh(x,C){return x==null?r:x[C]}function tn(x){return oh.test(x)}function Lh(x){return ah.test(x)}function Ah(x){for(var C,O=[];!(C=x.next()).done;)O.push(C.value);return O}function Li(x){var C=-1,O=Array(x.size);return x.forEach(function(k,H){O[++C]=[H,k]}),O}function qo(x,C){return function(O){return x(C(O))}}function Pt(x,C){for(var O=-1,k=x.length,H=0,ee=[];++O<k;){var _e=x[O];(_e===C||_e===y)&&(x[O]=y,ee[H++]=O)}return ee}function lr(x){var C=-1,O=Array(x.size);return x.forEach(function(k){O[++C]=k}),O}function Rh(x){var C=-1,O=Array(x.size);return x.forEach(function(k){O[++C]=[k,k]}),O}function Ih(x,C,O){for(var k=O-1,H=x.length;++k<H;)if(x[k]===C)return k;return-1}function Mh(x,C,O){for(var k=O+1;k--;)if(x[k]===C)return k;return k}function nn(x){return tn(x)?$h(x):Sh(x)}function rt(x){return tn(x)?Bh(x):bh(x)}function Jo(x){for(var C=x.length;C--&&Cc.test(x.charAt(C)););return C}var kh=Fi(hh);function $h(x){for(var C=Si.lastIndex=0;Si.test(x);)++C;return C}function Bh(x){return x.match(Si)||[]}function Gh(x){return x.match(sh)||[]}var Uh=function x(C){C=C==null?we:rn.defaults(we.Object(),C,rn.pick(we,uh));var O=C.Array,k=C.Date,H=C.Error,ee=C.Function,_e=C.Math,ue=C.Object,Ai=C.RegExp,Wh=C.String,Je=C.TypeError,fr=O.prototype,Vh=ee.prototype,sn=ue.prototype,cr=C["__core-js_shared__"],hr=Vh.toString,oe=sn.hasOwnProperty,Kh=0,Yo=function(){var e=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gr=sn.toString,Hh=hr.call(ue),zh=we._,Dh=Ai("^"+hr.call(oe).replace(di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dr=Ro?C.Buffer:r,Et=C.Symbol,pr=C.Uint8Array,Zo=dr?dr.allocUnsafe:r,mr=qo(ue.getPrototypeOf,ue),jo=ue.create,Qo=sn.propertyIsEnumerable,vr=fr.splice,ea=Et?Et.isConcatSpreadable:r,En=Et?Et.iterator:r,Gt=Et?Et.toStringTag:r,yr=function(){try{var e=Ht(ue,"defineProperty");return e({},"",{}),e}catch{}}(),Xh=C.clearTimeout!==we.clearTimeout&&C.clearTimeout,qh=k&&k.now!==we.Date.now&&k.now,Jh=C.setTimeout!==we.setTimeout&&C.setTimeout,_r=_e.ceil,Sr=_e.floor,Ri=ue.getOwnPropertySymbols,Yh=dr?dr.isBuffer:r,ta=C.isFinite,Zh=fr.join,jh=qo(ue.keys,ue),Se=_e.max,Oe=_e.min,Qh=k.now,eg=C.parseInt,na=_e.random,tg=fr.reverse,Ii=Ht(C,"DataView"),Ln=Ht(C,"Map"),Mi=Ht(C,"Promise"),on=Ht(C,"Set"),An=Ht(C,"WeakMap"),Rn=Ht(ue,"create"),br=An&&new An,an={},ng=zt(Ii),rg=zt(Ln),ig=zt(Mi),sg=zt(on),og=zt(An),xr=Et?Et.prototype:r,In=xr?xr.valueOf:r,ra=xr?xr.toString:r;function d(e){if(pe(e)&&!z(e)&&!(e instanceof Z)){if(e instanceof Ye)return e;if(oe.call(e,"__wrapped__"))return iu(e)}return new Ye(e)}var un=function(){function e(){}return function(t){if(!de(t))return{};if(jo)return jo(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function wr(){}function Ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}d.templateSettings={escape:Sc,evaluate:bc,interpolate:co,variable:"",imports:{_:d}},d.prototype=wr.prototype,d.prototype.constructor=d,Ye.prototype=un(wr.prototype),Ye.prototype.constructor=Ye;function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function ag(){var e=new Z(this.__wrapped__);return e.__actions__=Re(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Re(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Re(this.__views__),e}function ug(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lg(){var e=this.__wrapped__.value(),t=this.__dir__,i=z(e),u=t<0,f=i?e.length:0,p=bd(0,f,this.__views__),v=p.start,S=p.end,N=S-v,F=u?S:v-1,T=this.__iteratees__,E=T.length,A=0,G=Oe(N,this.__takeCount__);if(!i||!u&&f==N&&G==N)return Fa(e,this.__actions__);var W=[];e:for(;N--&&A<G;){F+=t;for(var X=-1,V=e[F];++X<E;){var J=T[X],j=J.iteratee,Ke=J.type,Ee=j(V);if(Ke==gt)V=Ee;else if(!Ee){if(Ke==ut)continue e;break e}}W[A++]=V}return W}Z.prototype=un(wr.prototype),Z.prototype.constructor=Z;function Ut(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function fg(){this.__data__=Rn?Rn(null):{},this.size=0}function cg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hg(e){var t=this.__data__;if(Rn){var i=t[e];return i===c?r:i}return oe.call(t,e)?t[e]:r}function gg(e){var t=this.__data__;return Rn?t[e]!==r:oe.call(t,e)}function dg(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Rn&&t===r?c:t,this}Ut.prototype.clear=fg,Ut.prototype.delete=cg,Ut.prototype.get=hg,Ut.prototype.has=gg,Ut.prototype.set=dg;function pt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function pg(){this.__data__=[],this.size=0}function mg(e){var t=this.__data__,i=Nr(t,e);if(i<0)return!1;var u=t.length-1;return i==u?t.pop():vr.call(t,i,1),--this.size,!0}function vg(e){var t=this.__data__,i=Nr(t,e);return i<0?r:t[i][1]}function yg(e){return Nr(this.__data__,e)>-1}function _g(e,t){var i=this.__data__,u=Nr(i,e);return u<0?(++this.size,i.push([e,t])):i[u][1]=t,this}pt.prototype.clear=pg,pt.prototype.delete=mg,pt.prototype.get=vg,pt.prototype.has=yg,pt.prototype.set=_g;function mt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function Sg(){this.size=0,this.__data__={hash:new Ut,map:new(Ln||pt),string:new Ut}}function bg(e){var t=kr(this,e).delete(e);return this.size-=t?1:0,t}function xg(e){return kr(this,e).get(e)}function wg(e){return kr(this,e).has(e)}function Ng(e,t){var i=kr(this,e),u=i.size;return i.set(e,t),this.size+=i.size==u?0:1,this}mt.prototype.clear=Sg,mt.prototype.delete=bg,mt.prototype.get=xg,mt.prototype.has=wg,mt.prototype.set=Ng;function Wt(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new mt;++t<i;)this.add(e[t])}function Og(e){return this.__data__.set(e,c),this}function Cg(e){return this.__data__.has(e)}Wt.prototype.add=Wt.prototype.push=Og,Wt.prototype.has=Cg;function it(e){var t=this.__data__=new pt(e);this.size=t.size}function Fg(){this.__data__=new pt,this.size=0}function Tg(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Pg(e){return this.__data__.get(e)}function Eg(e){return this.__data__.has(e)}function Lg(e,t){var i=this.__data__;if(i instanceof pt){var u=i.__data__;if(!Ln||u.length<a-1)return u.push([e,t]),this.size=++i.size,this;i=this.__data__=new mt(u)}return i.set(e,t),this.size=i.size,this}it.prototype.clear=Fg,it.prototype.delete=Tg,it.prototype.get=Pg,it.prototype.has=Eg,it.prototype.set=Lg;function ia(e,t){var i=z(e),u=!i&&Dt(e),f=!i&&!u&&Mt(e),p=!i&&!u&&!f&&hn(e),v=i||u||f||p,S=v?Pi(e.length,Wh):[],N=S.length;for(var F in e)(t||oe.call(e,F))&&!(v&&(F=="length"||f&&(F=="offset"||F=="parent")||p&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||St(F,N)))&&S.push(F);return S}function sa(e){var t=e.length;return t?e[Di(0,t-1)]:r}function Ag(e,t){return $r(Re(e),Vt(t,0,e.length))}function Rg(e){return $r(Re(e))}function ki(e,t,i){(i!==r&&!st(e[t],i)||i===r&&!(t in e))&&vt(e,t,i)}function Mn(e,t,i){var u=e[t];(!(oe.call(e,t)&&st(u,i))||i===r&&!(t in e))&&vt(e,t,i)}function Nr(e,t){for(var i=e.length;i--;)if(st(e[i][0],t))return i;return-1}function Ig(e,t,i,u){return Lt(e,function(f,p,v){t(u,f,i(f),v)}),u}function oa(e,t){return e&&ft(t,be(t),e)}function Mg(e,t){return e&&ft(t,Me(t),e)}function vt(e,t,i){t=="__proto__"&&yr?yr(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function $i(e,t){for(var i=-1,u=t.length,f=O(u),p=e==null;++i<u;)f[i]=p?r:vs(e,t[i]);return f}function Vt(e,t,i){return e===e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function Ze(e,t,i,u,f,p){var v,S=t&w,N=t&_,F=t&P;if(i&&(v=f?i(e,u,f,p):i(e)),v!==r)return v;if(!de(e))return e;var T=z(e);if(T){if(v=wd(e),!S)return Re(e,v)}else{var E=Ce(e),A=E==nr||E==ao;if(Mt(e))return Ea(e,S);if(E==dt||E==Zt||A&&!f){if(v=N||A?{}:Ja(e),!S)return N?hd(e,Mg(v,e)):cd(e,oa(v,e))}else{if(!le[E])return f?e:{};v=Nd(e,E,S)}}p||(p=new it);var G=p.get(e);if(G)return G;p.set(e,v),Nu(e)?e.forEach(function(V){v.add(Ze(V,t,i,V,e,p))}):xu(e)&&e.forEach(function(V,J){v.set(J,Ze(V,t,i,J,e,p))});var W=F?N?rs:ns:N?Me:be,X=T?r:W(e);return qe(X||e,function(V,J){X&&(J=V,V=e[J]),Mn(v,J,Ze(V,t,i,J,e,p))}),v}function kg(e){var t=be(e);return function(i){return aa(i,e,t)}}function aa(e,t,i){var u=i.length;if(e==null)return!u;for(e=ue(e);u--;){var f=i[u],p=t[f],v=e[f];if(v===r&&!(f in e)||!p(v))return!1}return!0}function ua(e,t,i){if(typeof e!="function")throw new Je(g);return Vn(function(){e.apply(r,i)},t)}function kn(e,t,i,u){var f=-1,p=ar,v=!0,S=e.length,N=[],F=t.length;if(!S)return N;i&&(t=ce(t,Ue(i))),u?(p=wi,v=!1):t.length>=a&&(p=Pn,v=!1,t=new Wt(t));e:for(;++f<S;){var T=e[f],E=i==null?T:i(T);if(T=u||T!==0?T:0,v&&E===E){for(var A=F;A--;)if(t[A]===E)continue e;N.push(T)}else p(t,E,u)||N.push(T)}return N}var Lt=Ma(lt),la=Ma(Gi,!0);function $g(e,t){var i=!0;return Lt(e,function(u,f,p){return i=!!t(u,f,p),i}),i}function Or(e,t,i){for(var u=-1,f=e.length;++u<f;){var p=e[u],v=t(p);if(v!=null&&(S===r?v===v&&!Ve(v):i(v,S)))var S=v,N=p}return N}function Bg(e,t,i,u){var f=e.length;for(i=D(i),i<0&&(i=-i>f?0:f+i),u=u===r||u>f?f:D(u),u<0&&(u+=f),u=i>u?0:Cu(u);i<u;)e[i++]=t;return e}function fa(e,t){var i=[];return Lt(e,function(u,f,p){t(u,f,p)&&i.push(u)}),i}function Ne(e,t,i,u,f){var p=-1,v=e.length;for(i||(i=Cd),f||(f=[]);++p<v;){var S=e[p];t>0&&i(S)?t>1?Ne(S,t-1,i,u,f):Tt(f,S):u||(f[f.length]=S)}return f}var Bi=ka(),ca=ka(!0);function lt(e,t){return e&&Bi(e,t,be)}function Gi(e,t){return e&&ca(e,t,be)}function Cr(e,t){return Ft(t,function(i){return bt(e[i])})}function Kt(e,t){t=Rt(t,e);for(var i=0,u=t.length;e!=null&&i<u;)e=e[ct(t[i++])];return i&&i==u?e:r}function ha(e,t,i){var u=t(e);return z(e)?u:Tt(u,i(e))}function Te(e){return e==null?e===r?gc:cc:Gt&&Gt in ue(e)?Sd(e):Rd(e)}function Ui(e,t){return e>t}function Gg(e,t){return e!=null&&oe.call(e,t)}function Ug(e,t){return e!=null&&t in ue(e)}function Wg(e,t,i){return e>=Oe(t,i)&&e<Se(t,i)}function Wi(e,t,i){for(var u=i?wi:ar,f=e[0].length,p=e.length,v=p,S=O(p),N=1/0,F=[];v--;){var T=e[v];v&&t&&(T=ce(T,Ue(t))),N=Oe(T.length,N),S[v]=!i&&(t||f>=120&&T.length>=120)?new Wt(v&&T):r}T=e[0];var E=-1,A=S[0];e:for(;++E<f&&F.length<N;){var G=T[E],W=t?t(G):G;if(G=i||G!==0?G:0,!(A?Pn(A,W):u(F,W,i))){for(v=p;--v;){var X=S[v];if(!(X?Pn(X,W):u(e[v],W,i)))continue e}A&&A.push(W),F.push(G)}}return F}function Vg(e,t,i,u){return lt(e,function(f,p,v){t(u,i(f),p,v)}),u}function $n(e,t,i){t=Rt(t,e),e=Qa(e,t);var u=e==null?e:e[ct(Qe(t))];return u==null?r:Ge(u,e,i)}function ga(e){return pe(e)&&Te(e)==Zt}function Kg(e){return pe(e)&&Te(e)==Tn}function Hg(e){return pe(e)&&Te(e)==wn}function Bn(e,t,i,u,f){return e===t?!0:e==null||t==null||!pe(e)&&!pe(t)?e!==e&&t!==t:zg(e,t,i,u,Bn,f)}function zg(e,t,i,u,f,p){var v=z(e),S=z(t),N=v?er:Ce(e),F=S?er:Ce(t);N=N==Zt?dt:N,F=F==Zt?dt:F;var T=N==dt,E=F==dt,A=N==F;if(A&&Mt(e)){if(!Mt(t))return!1;v=!0,T=!1}if(A&&!T)return p||(p=new it),v||hn(e)?Da(e,t,i,u,f,p):yd(e,t,N,i,u,f,p);if(!(i&L)){var G=T&&oe.call(e,"__wrapped__"),W=E&&oe.call(t,"__wrapped__");if(G||W){var X=G?e.value():e,V=W?t.value():t;return p||(p=new it),f(X,V,i,u,p)}}return A?(p||(p=new it),_d(e,t,i,u,f,p)):!1}function Dg(e){return pe(e)&&Ce(e)==tt}function Vi(e,t,i,u){var f=i.length,p=f,v=!u;if(e==null)return!p;for(e=ue(e);f--;){var S=i[f];if(v&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++f<p;){S=i[f];var N=S[0],F=e[N],T=S[1];if(v&&S[2]){if(F===r&&!(N in e))return!1}else{var E=new it;if(u)var A=u(F,T,N,e,t,E);if(!(A===r?Bn(T,F,L|$,u,E):A))return!1}}return!0}function da(e){if(!de(e)||Td(e))return!1;var t=bt(e)?Dh:kc;return t.test(zt(e))}function Xg(e){return pe(e)&&Te(e)==On}function qg(e){return pe(e)&&Ce(e)==nt}function Jg(e){return pe(e)&&Kr(e.length)&&!!fe[Te(e)]}function pa(e){return typeof e=="function"?e:e==null?ke:typeof e=="object"?z(e)?ya(e[0],e[1]):va(e):$u(e)}function Ki(e){if(!Wn(e))return jh(e);var t=[];for(var i in ue(e))oe.call(e,i)&&i!="constructor"&&t.push(i);return t}function Yg(e){if(!de(e))return Ad(e);var t=Wn(e),i=[];for(var u in e)u=="constructor"&&(t||!oe.call(e,u))||i.push(u);return i}function Hi(e,t){return e<t}function ma(e,t){var i=-1,u=Ie(e)?O(e.length):[];return Lt(e,function(f,p,v){u[++i]=t(f,p,v)}),u}function va(e){var t=ss(e);return t.length==1&&t[0][2]?Za(t[0][0],t[0][1]):function(i){return i===e||Vi(i,e,t)}}function ya(e,t){return as(e)&&Ya(t)?Za(ct(e),t):function(i){var u=vs(i,e);return u===r&&u===t?ys(i,e):Bn(t,u,L|$)}}function Fr(e,t,i,u,f){e!==t&&Bi(t,function(p,v){if(f||(f=new it),de(p))Zg(e,t,v,i,Fr,u,f);else{var S=u?u(ls(e,v),p,v+"",e,t,f):r;S===r&&(S=p),ki(e,v,S)}},Me)}function Zg(e,t,i,u,f,p,v){var S=ls(e,i),N=ls(t,i),F=v.get(N);if(F){ki(e,i,F);return}var T=p?p(S,N,i+"",e,t,v):r,E=T===r;if(E){var A=z(N),G=!A&&Mt(N),W=!A&&!G&&hn(N);T=N,A||G||W?z(S)?T=S:me(S)?T=Re(S):G?(E=!1,T=Ea(N,!0)):W?(E=!1,T=La(N,!0)):T=[]:Kn(N)||Dt(N)?(T=S,Dt(S)?T=Fu(S):(!de(S)||bt(S))&&(T=Ja(N))):E=!1}E&&(v.set(N,T),f(T,N,u,p,v),v.delete(N)),ki(e,i,T)}function _a(e,t){var i=e.length;if(i)return t+=t<0?i:0,St(t,i)?e[t]:r}function Sa(e,t,i){t.length?t=ce(t,function(p){return z(p)?function(v){return Kt(v,p.length===1?p[0]:p)}:p}):t=[ke];var u=-1;t=ce(t,Ue(U()));var f=ma(e,function(p,v,S){var N=ce(t,function(F){return F(p)});return{criteria:N,index:++u,value:p}});return Nh(f,function(p,v){return fd(p,v,i)})}function jg(e,t){return ba(e,t,function(i,u){return ys(e,u)})}function ba(e,t,i){for(var u=-1,f=t.length,p={};++u<f;){var v=t[u],S=Kt(e,v);i(S,v)&&Gn(p,Rt(v,e),S)}return p}function Qg(e){return function(t){return Kt(t,e)}}function zi(e,t,i,u){var f=u?wh:en,p=-1,v=t.length,S=e;for(e===t&&(t=Re(t)),i&&(S=ce(e,Ue(i)));++p<v;)for(var N=0,F=t[p],T=i?i(F):F;(N=f(S,T,N,u))>-1;)S!==e&&vr.call(S,N,1),vr.call(e,N,1);return e}function xa(e,t){for(var i=e?t.length:0,u=i-1;i--;){var f=t[i];if(i==u||f!==p){var p=f;St(f)?vr.call(e,f,1):Ji(e,f)}}return e}function Di(e,t){return e+Sr(na()*(t-e+1))}function ed(e,t,i,u){for(var f=-1,p=Se(_r((t-e)/(i||1)),0),v=O(p);p--;)v[u?p:++f]=e,e+=i;return v}function Xi(e,t){var i="";if(!e||t<1||t>b)return i;do t%2&&(i+=e),t=Sr(t/2),t&&(e+=e);while(t);return i}function q(e,t){return fs(ja(e,t,ke),e+"")}function td(e){return sa(gn(e))}function nd(e,t){var i=gn(e);return $r(i,Vt(t,0,i.length))}function Gn(e,t,i,u){if(!de(e))return e;t=Rt(t,e);for(var f=-1,p=t.length,v=p-1,S=e;S!=null&&++f<p;){var N=ct(t[f]),F=i;if(N==="__proto__"||N==="constructor"||N==="prototype")return e;if(f!=v){var T=S[N];F=u?u(T,N,S):r,F===r&&(F=de(T)?T:St(t[f+1])?[]:{})}Mn(S,N,F),S=S[N]}return e}var wa=br?function(e,t){return br.set(e,t),e}:ke,rd=yr?function(e,t){return yr(e,"toString",{configurable:!0,enumerable:!1,value:Ss(t),writable:!0})}:ke;function id(e){return $r(gn(e))}function je(e,t,i){var u=-1,f=e.length;t<0&&(t=-t>f?0:f+t),i=i>f?f:i,i<0&&(i+=f),f=t>i?0:i-t>>>0,t>>>=0;for(var p=O(f);++u<f;)p[u]=e[u+t];return p}function sd(e,t){var i;return Lt(e,function(u,f,p){return i=t(u,f,p),!i}),!!i}function Tr(e,t,i){var u=0,f=e==null?u:e.length;if(typeof t=="number"&&t===t&&f<=ac){for(;u<f;){var p=u+f>>>1,v=e[p];v!==null&&!Ve(v)&&(i?v<=t:v<t)?u=p+1:f=p}return f}return qi(e,t,ke,i)}function qi(e,t,i,u){var f=0,p=e==null?0:e.length;if(p===0)return 0;t=i(t);for(var v=t!==t,S=t===null,N=Ve(t),F=t===r;f<p;){var T=Sr((f+p)/2),E=i(e[T]),A=E!==r,G=E===null,W=E===E,X=Ve(E);if(v)var V=u||W;else F?V=W&&(u||A):S?V=W&&A&&(u||!G):N?V=W&&A&&!G&&(u||!X):G||X?V=!1:V=u?E<=t:E<t;V?f=T+1:p=T}return Oe(p,oc)}function Na(e,t){for(var i=-1,u=e.length,f=0,p=[];++i<u;){var v=e[i],S=t?t(v):v;if(!i||!st(S,N)){var N=S;p[f++]=v===0?0:v}}return p}function Oa(e){return typeof e=="number"?e:Ve(e)?Ae:+e}function We(e){if(typeof e=="string")return e;if(z(e))return ce(e,We)+"";if(Ve(e))return ra?ra.call(e):"";var t=e+"";return t=="0"&&1/e==-De?"-0":t}function At(e,t,i){var u=-1,f=ar,p=e.length,v=!0,S=[],N=S;if(i)v=!1,f=wi;else if(p>=a){var F=t?null:md(e);if(F)return lr(F);v=!1,f=Pn,N=new Wt}else N=t?[]:S;e:for(;++u<p;){var T=e[u],E=t?t(T):T;if(T=i||T!==0?T:0,v&&E===E){for(var A=N.length;A--;)if(N[A]===E)continue e;t&&N.push(E),S.push(T)}else f(N,E,i)||(N!==S&&N.push(E),S.push(T))}return S}function Ji(e,t){return t=Rt(t,e),e=Qa(e,t),e==null||delete e[ct(Qe(t))]}function Ca(e,t,i,u){return Gn(e,t,i(Kt(e,t)),u)}function Pr(e,t,i,u){for(var f=e.length,p=u?f:-1;(u?p--:++p<f)&&t(e[p],p,e););return i?je(e,u?0:p,u?p+1:f):je(e,u?p+1:0,u?f:p)}function Fa(e,t){var i=e;return i instanceof Z&&(i=i.value()),Ni(t,function(u,f){return f.func.apply(f.thisArg,Tt([u],f.args))},i)}function Yi(e,t,i){var u=e.length;if(u<2)return u?At(e[0]):[];for(var f=-1,p=O(u);++f<u;)for(var v=e[f],S=-1;++S<u;)S!=f&&(p[f]=kn(p[f]||v,e[S],t,i));return At(Ne(p,1),t,i)}function Ta(e,t,i){for(var u=-1,f=e.length,p=t.length,v={};++u<f;){var S=u<p?t[u]:r;i(v,e[u],S)}return v}function Zi(e){return me(e)?e:[]}function ji(e){return typeof e=="function"?e:ke}function Rt(e,t){return z(e)?e:as(e,t)?[e]:ru(ne(e))}var od=q;function It(e,t,i){var u=e.length;return i=i===r?u:i,!t&&i>=u?e:je(e,t,i)}var Pa=Xh||function(e){return we.clearTimeout(e)};function Ea(e,t){if(t)return e.slice();var i=e.length,u=Zo?Zo(i):new e.constructor(i);return e.copy(u),u}function Qi(e){var t=new e.constructor(e.byteLength);return new pr(t).set(new pr(e)),t}function ad(e,t){var i=t?Qi(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function ud(e){var t=new e.constructor(e.source,ho.exec(e));return t.lastIndex=e.lastIndex,t}function ld(e){return In?ue(In.call(e)):{}}function La(e,t){var i=t?Qi(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Aa(e,t){if(e!==t){var i=e!==r,u=e===null,f=e===e,p=Ve(e),v=t!==r,S=t===null,N=t===t,F=Ve(t);if(!S&&!F&&!p&&e>t||p&&v&&N&&!S&&!F||u&&v&&N||!i&&N||!f)return 1;if(!u&&!p&&!F&&e<t||F&&i&&f&&!u&&!p||S&&i&&f||!v&&f||!N)return-1}return 0}function fd(e,t,i){for(var u=-1,f=e.criteria,p=t.criteria,v=f.length,S=i.length;++u<v;){var N=Aa(f[u],p[u]);if(N){if(u>=S)return N;var F=i[u];return N*(F=="desc"?-1:1)}}return e.index-t.index}function Ra(e,t,i,u){for(var f=-1,p=e.length,v=i.length,S=-1,N=t.length,F=Se(p-v,0),T=O(N+F),E=!u;++S<N;)T[S]=t[S];for(;++f<v;)(E||f<p)&&(T[i[f]]=e[f]);for(;F--;)T[S++]=e[f++];return T}function Ia(e,t,i,u){for(var f=-1,p=e.length,v=-1,S=i.length,N=-1,F=t.length,T=Se(p-S,0),E=O(T+F),A=!u;++f<T;)E[f]=e[f];for(var G=f;++N<F;)E[G+N]=t[N];for(;++v<S;)(A||f<p)&&(E[G+i[v]]=e[f++]);return E}function Re(e,t){var i=-1,u=e.length;for(t||(t=O(u));++i<u;)t[i]=e[i];return t}function ft(e,t,i,u){var f=!i;i||(i={});for(var p=-1,v=t.length;++p<v;){var S=t[p],N=u?u(i[S],e[S],S,i,e):r;N===r&&(N=e[S]),f?vt(i,S,N):Mn(i,S,N)}return i}function cd(e,t){return ft(e,os(e),t)}function hd(e,t){return ft(e,Xa(e),t)}function Er(e,t){return function(i,u){var f=z(i)?vh:Ig,p=t?t():{};return f(i,e,U(u,2),p)}}function ln(e){return q(function(t,i){var u=-1,f=i.length,p=f>1?i[f-1]:r,v=f>2?i[2]:r;for(p=e.length>3&&typeof p=="function"?(f--,p):r,v&&Pe(i[0],i[1],v)&&(p=f<3?r:p,f=1),t=ue(t);++u<f;){var S=i[u];S&&e(t,S,u,p)}return t})}function Ma(e,t){return function(i,u){if(i==null)return i;if(!Ie(i))return e(i,u);for(var f=i.length,p=t?f:-1,v=ue(i);(t?p--:++p<f)&&u(v[p],p,v)!==!1;);return i}}function ka(e){return function(t,i,u){for(var f=-1,p=ue(t),v=u(t),S=v.length;S--;){var N=v[e?S:++f];if(i(p[N],N,p)===!1)break}return t}}function gd(e,t,i){var u=t&R,f=Un(e);function p(){var v=this&&this!==we&&this instanceof p?f:e;return v.apply(u?i:this,arguments)}return p}function $a(e){return function(t){t=ne(t);var i=tn(t)?rt(t):r,u=i?i[0]:t.charAt(0),f=i?It(i,1).join(""):t.slice(1);return u[e]()+f}}function fn(e){return function(t){return Ni(Mu(Iu(t).replace(rh,"")),e,"")}}function Un(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=un(e.prototype),u=e.apply(i,t);return de(u)?u:i}}function dd(e,t,i){var u=Un(e);function f(){for(var p=arguments.length,v=O(p),S=p,N=cn(f);S--;)v[S]=arguments[S];var F=p<3&&v[0]!==N&&v[p-1]!==N?[]:Pt(v,N);if(p-=F.length,p<i)return Va(e,t,Lr,f.placeholder,r,v,F,r,r,i-p);var T=this&&this!==we&&this instanceof f?u:e;return Ge(T,this,v)}return f}function Ba(e){return function(t,i,u){var f=ue(t);if(!Ie(t)){var p=U(i,3);t=be(t),i=function(S){return p(f[S],S,f)}}var v=e(t,i,u);return v>-1?f[p?t[v]:v]:r}}function Ga(e){return _t(function(t){var i=t.length,u=i,f=Ye.prototype.thru;for(e&&t.reverse();u--;){var p=t[u];if(typeof p!="function")throw new Je(g);if(f&&!v&&Mr(p)=="wrapper")var v=new Ye([],!0)}for(u=v?u:i;++u<i;){p=t[u];var S=Mr(p),N=S=="wrapper"?is(p):r;N&&us(N[0])&&N[1]==(te|ie|se|ze)&&!N[4].length&&N[9]==1?v=v[Mr(N[0])].apply(v,N[3]):v=p.length==1&&us(p)?v[S]():v.thru(p)}return function(){var F=arguments,T=F[0];if(v&&F.length==1&&z(T))return v.plant(T).value();for(var E=0,A=i?t[E].apply(this,F):T;++E<i;)A=t[E].call(this,A);return A}})}function Lr(e,t,i,u,f,p,v,S,N,F){var T=t&te,E=t&R,A=t&M,G=t&(ie|Y),W=t&$t,X=A?r:Un(e);function V(){for(var J=arguments.length,j=O(J),Ke=J;Ke--;)j[Ke]=arguments[Ke];if(G)var Ee=cn(V),He=Ch(j,Ee);if(u&&(j=Ra(j,u,f,G)),p&&(j=Ia(j,p,v,G)),J-=He,G&&J<F){var ve=Pt(j,Ee);return Va(e,t,Lr,V.placeholder,i,j,ve,S,N,F-J)}var ot=E?i:this,wt=A?ot[e]:e;return J=j.length,S?j=Id(j,S):W&&J>1&&j.reverse(),T&&N<J&&(j.length=N),this&&this!==we&&this instanceof V&&(wt=X||Un(wt)),wt.apply(ot,j)}return V}function Ua(e,t){return function(i,u){return Vg(i,e,t(u),{})}}function Ar(e,t){return function(i,u){var f;if(i===r&&u===r)return t;if(i!==r&&(f=i),u!==r){if(f===r)return u;typeof i=="string"||typeof u=="string"?(i=We(i),u=We(u)):(i=Oa(i),u=Oa(u)),f=e(i,u)}return f}}function es(e){return _t(function(t){return t=ce(t,Ue(U())),q(function(i){var u=this;return e(t,function(f){return Ge(f,u,i)})})})}function Rr(e,t){t=t===r?" ":We(t);var i=t.length;if(i<2)return i?Xi(t,e):t;var u=Xi(t,_r(e/nn(t)));return tn(t)?It(rt(u),0,e).join(""):u.slice(0,e)}function pd(e,t,i,u){var f=t&R,p=Un(e);function v(){for(var S=-1,N=arguments.length,F=-1,T=u.length,E=O(T+N),A=this&&this!==we&&this instanceof v?p:e;++F<T;)E[F]=u[F];for(;N--;)E[F++]=arguments[++S];return Ge(A,f?i:this,E)}return v}function Wa(e){return function(t,i,u){return u&&typeof u!="number"&&Pe(t,i,u)&&(i=u=r),t=xt(t),i===r?(i=t,t=0):i=xt(i),u=u===r?t<i?1:-1:xt(u),ed(t,i,u,e)}}function Ir(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=et(t),i=et(i)),e(t,i)}}function Va(e,t,i,u,f,p,v,S,N,F){var T=t&ie,E=T?v:r,A=T?r:v,G=T?p:r,W=T?r:p;t|=T?se:ge,t&=~(T?ge:se),t&B||(t&=~(R|M));var X=[e,t,f,G,E,W,A,S,N,F],V=i.apply(r,X);return us(e)&&eu(V,X),V.placeholder=u,tu(V,e,t)}function ts(e){var t=_e[e];return function(i,u){if(i=et(i),u=u==null?0:Oe(D(u),292),u&&ta(i)){var f=(ne(i)+"e").split("e"),p=t(f[0]+"e"+(+f[1]+u));return f=(ne(p)+"e").split("e"),+(f[0]+"e"+(+f[1]-u))}return t(i)}}var md=on&&1/lr(new on([,-0]))[1]==De?function(e){return new on(e)}:ws;function Ka(e){return function(t){var i=Ce(t);return i==tt?Li(t):i==nt?Rh(t):Oh(t,e(t))}}function yt(e,t,i,u,f,p,v,S){var N=t&M;if(!N&&typeof e!="function")throw new Je(g);var F=u?u.length:0;if(F||(t&=~(se|ge),u=f=r),v=v===r?v:Se(D(v),0),S=S===r?S:D(S),F-=f?f.length:0,t&ge){var T=u,E=f;u=f=r}var A=N?r:is(e),G=[e,t,i,u,f,T,E,p,v,S];if(A&&Ld(G,A),e=G[0],t=G[1],i=G[2],u=G[3],f=G[4],S=G[9]=G[9]===r?N?0:e.length:Se(G[9]-F,0),!S&&t&(ie|Y)&&(t&=~(ie|Y)),!t||t==R)var W=gd(e,t,i);else t==ie||t==Y?W=dd(e,t,S):(t==se||t==(R|se))&&!f.length?W=pd(e,t,i,u):W=Lr.apply(r,G);var X=A?wa:eu;return tu(X(W,G),e,t)}function Ha(e,t,i,u){return e===r||st(e,sn[i])&&!oe.call(u,i)?t:e}function za(e,t,i,u,f,p){return de(e)&&de(t)&&(p.set(t,e),Fr(e,t,r,za,p),p.delete(t)),e}function vd(e){return Kn(e)?r:e}function Da(e,t,i,u,f,p){var v=i&L,S=e.length,N=t.length;if(S!=N&&!(v&&N>S))return!1;var F=p.get(e),T=p.get(t);if(F&&T)return F==t&&T==e;var E=-1,A=!0,G=i&$?new Wt:r;for(p.set(e,t),p.set(t,e);++E<S;){var W=e[E],X=t[E];if(u)var V=v?u(X,W,E,t,e,p):u(W,X,E,e,t,p);if(V!==r){if(V)continue;A=!1;break}if(G){if(!Oi(t,function(J,j){if(!Pn(G,j)&&(W===J||f(W,J,i,u,p)))return G.push(j)})){A=!1;break}}else if(!(W===X||f(W,X,i,u,p))){A=!1;break}}return p.delete(e),p.delete(t),A}function yd(e,t,i,u,f,p,v){switch(i){case jt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tn:return!(e.byteLength!=t.byteLength||!p(new pr(e),new pr(t)));case xn:case wn:case Nn:return st(+e,+t);case tr:return e.name==t.name&&e.message==t.message;case On:case Cn:return e==t+"";case tt:var S=Li;case nt:var N=u&L;if(S||(S=lr),e.size!=t.size&&!N)return!1;var F=v.get(e);if(F)return F==t;u|=$,v.set(e,t);var T=Da(S(e),S(t),u,f,p,v);return v.delete(e),T;case rr:if(In)return In.call(e)==In.call(t)}return!1}function _d(e,t,i,u,f,p){var v=i&L,S=ns(e),N=S.length,F=ns(t),T=F.length;if(N!=T&&!v)return!1;for(var E=N;E--;){var A=S[E];if(!(v?A in t:oe.call(t,A)))return!1}var G=p.get(e),W=p.get(t);if(G&&W)return G==t&&W==e;var X=!0;p.set(e,t),p.set(t,e);for(var V=v;++E<N;){A=S[E];var J=e[A],j=t[A];if(u)var Ke=v?u(j,J,A,t,e,p):u(J,j,A,e,t,p);if(!(Ke===r?J===j||f(J,j,i,u,p):Ke)){X=!1;break}V||(V=A=="constructor")}if(X&&!V){var Ee=e.constructor,He=t.constructor;Ee!=He&&"constructor"in e&&"constructor"in t&&!(typeof Ee=="function"&&Ee instanceof Ee&&typeof He=="function"&&He instanceof He)&&(X=!1)}return p.delete(e),p.delete(t),X}function _t(e){return fs(ja(e,r,au),e+"")}function ns(e){return ha(e,be,os)}function rs(e){return ha(e,Me,Xa)}var is=br?function(e){return br.get(e)}:ws;function Mr(e){for(var t=e.name+"",i=an[t],u=oe.call(an,t)?i.length:0;u--;){var f=i[u],p=f.func;if(p==null||p==e)return f.name}return t}function cn(e){var t=oe.call(d,"placeholder")?d:e;return t.placeholder}function U(){var e=d.iteratee||bs;return e=e===bs?pa:e,arguments.length?e(arguments[0],arguments[1]):e}function kr(e,t){var i=e.__data__;return Fd(t)?i[typeof t=="string"?"string":"hash"]:i.map}function ss(e){for(var t=be(e),i=t.length;i--;){var u=t[i],f=e[u];t[i]=[u,f,Ya(f)]}return t}function Ht(e,t){var i=Eh(e,t);return da(i)?i:r}function Sd(e){var t=oe.call(e,Gt),i=e[Gt];try{e[Gt]=r;var u=!0}catch{}var f=gr.call(e);return u&&(t?e[Gt]=i:delete e[Gt]),f}var os=Ri?function(e){return e==null?[]:(e=ue(e),Ft(Ri(e),function(t){return Qo.call(e,t)}))}:Ns,Xa=Ri?function(e){for(var t=[];e;)Tt(t,os(e)),e=mr(e);return t}:Ns,Ce=Te;(Ii&&Ce(new Ii(new ArrayBuffer(1)))!=jt||Ln&&Ce(new Ln)!=tt||Mi&&Ce(Mi.resolve())!=uo||on&&Ce(new on)!=nt||An&&Ce(new An)!=Fn)&&(Ce=function(e){var t=Te(e),i=t==dt?e.constructor:r,u=i?zt(i):"";if(u)switch(u){case ng:return jt;case rg:return tt;case ig:return uo;case sg:return nt;case og:return Fn}return t});function bd(e,t,i){for(var u=-1,f=i.length;++u<f;){var p=i[u],v=p.size;switch(p.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=Oe(t,e+v);break;case"takeRight":e=Se(e,t-v);break}}return{start:e,end:t}}function xd(e){var t=e.match(Tc);return t?t[1].split(Pc):[]}function qa(e,t,i){t=Rt(t,e);for(var u=-1,f=t.length,p=!1;++u<f;){var v=ct(t[u]);if(!(p=e!=null&&i(e,v)))break;e=e[v]}return p||++u!=f?p:(f=e==null?0:e.length,!!f&&Kr(f)&&St(v,f)&&(z(e)||Dt(e)))}function wd(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&oe.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Ja(e){return typeof e.constructor=="function"&&!Wn(e)?un(mr(e)):{}}function Nd(e,t,i){var u=e.constructor;switch(t){case Tn:return Qi(e);case xn:case wn:return new u(+e);case jt:return ad(e,i);case si:case oi:case ai:case ui:case li:case fi:case ci:case hi:case gi:return La(e,i);case tt:return new u;case Nn:case Cn:return new u(e);case On:return ud(e);case nt:return new u;case rr:return ld(e)}}function Od(e,t){var i=t.length;if(!i)return e;var u=i-1;return t[u]=(i>1?"& ":"")+t[u],t=t.join(i>2?", ":" "),e.replace(Fc,`{
/* [wrapped with `+t+`] */
`)}function Cd(e){return z(e)||Dt(e)||!!(ea&&e&&e[ea])}function St(e,t){var i=typeof e;return t=t??b,!!t&&(i=="number"||i!="symbol"&&Bc.test(e))&&e>-1&&e%1==0&&e<t}function Pe(e,t,i){if(!de(i))return!1;var u=typeof t;return(u=="number"?Ie(i)&&St(t,i.length):u=="string"&&t in i)?st(i[t],e):!1}function as(e,t){if(z(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Ve(e)?!0:wc.test(e)||!xc.test(e)||t!=null&&e in ue(t)}function Fd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function us(e){var t=Mr(e),i=d[t];if(typeof i!="function"||!(t in Z.prototype))return!1;if(e===i)return!0;var u=is(i);return!!u&&e===u[0]}function Td(e){return!!Yo&&Yo in e}var Pd=cr?bt:Os;function Wn(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||sn;return e===i}function Ya(e){return e===e&&!de(e)}function Za(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==r||e in ue(i))}}function Ed(e){var t=Wr(e,function(u){return i.size===m&&i.clear(),u}),i=t.cache;return t}function Ld(e,t){var i=e[1],u=t[1],f=i|u,p=f<(R|M|te),v=u==te&&i==ie||u==te&&i==ze&&e[7].length<=t[8]||u==(te|ze)&&t[7].length<=t[8]&&i==ie;if(!(p||v))return e;u&R&&(e[2]=t[2],f|=i&R?0:B);var S=t[3];if(S){var N=e[3];e[3]=N?Ra(N,S,t[4]):S,e[4]=N?Pt(e[3],y):t[4]}return S=t[5],S&&(N=e[5],e[5]=N?Ia(N,S,t[6]):S,e[6]=N?Pt(e[5],y):t[6]),S=t[7],S&&(e[7]=S),u&te&&(e[8]=e[8]==null?t[8]:Oe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function Ad(e){var t=[];if(e!=null)for(var i in ue(e))t.push(i);return t}function Rd(e){return gr.call(e)}function ja(e,t,i){return t=Se(t===r?e.length-1:t,0),function(){for(var u=arguments,f=-1,p=Se(u.length-t,0),v=O(p);++f<p;)v[f]=u[t+f];f=-1;for(var S=O(t+1);++f<t;)S[f]=u[f];return S[t]=i(v),Ge(e,this,S)}}function Qa(e,t){return t.length<2?e:Kt(e,je(t,0,-1))}function Id(e,t){for(var i=e.length,u=Oe(t.length,i),f=Re(e);u--;){var p=t[u];e[u]=St(p,i)?f[p]:r}return e}function ls(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var eu=nu(wa),Vn=Jh||function(e,t){return we.setTimeout(e,t)},fs=nu(rd);function tu(e,t,i){var u=t+"";return fs(e,Od(u,Md(xd(u),i)))}function nu(e){var t=0,i=0;return function(){var u=Qh(),f=bn-(u-i);if(i=u,f>0){if(++t>=Qn)return arguments[0]}else t=0;return e.apply(r,arguments)}}function $r(e,t){var i=-1,u=e.length,f=u-1;for(t=t===r?u:t;++i<t;){var p=Di(i,f),v=e[p];e[p]=e[i],e[i]=v}return e.length=t,e}var ru=Ed(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nc,function(i,u,f,p){t.push(f?p.replace(Ac,"$1"):u||i)}),t});function ct(e){if(typeof e=="string"||Ve(e))return e;var t=e+"";return t=="0"&&1/e==-De?"-0":t}function zt(e){if(e!=null){try{return hr.call(e)}catch{}try{return e+""}catch{}}return""}function Md(e,t){return qe(uc,function(i){var u="_."+i[0];t&i[1]&&!ar(e,u)&&e.push(u)}),e.sort()}function iu(e){if(e instanceof Z)return e.clone();var t=new Ye(e.__wrapped__,e.__chain__);return t.__actions__=Re(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function kd(e,t,i){(i?Pe(e,t,i):t===r)?t=1:t=Se(D(t),0);var u=e==null?0:e.length;if(!u||t<1)return[];for(var f=0,p=0,v=O(_r(u/t));f<u;)v[p++]=je(e,f,f+=t);return v}function $d(e){for(var t=-1,i=e==null?0:e.length,u=0,f=[];++t<i;){var p=e[t];p&&(f[u++]=p)}return f}function Bd(){var e=arguments.length;if(!e)return[];for(var t=O(e-1),i=arguments[0],u=e;u--;)t[u-1]=arguments[u];return Tt(z(i)?Re(i):[i],Ne(t,1))}var Gd=q(function(e,t){return me(e)?kn(e,Ne(t,1,me,!0)):[]}),Ud=q(function(e,t){var i=Qe(t);return me(i)&&(i=r),me(e)?kn(e,Ne(t,1,me,!0),U(i,2)):[]}),Wd=q(function(e,t){var i=Qe(t);return me(i)&&(i=r),me(e)?kn(e,Ne(t,1,me,!0),r,i):[]});function Vd(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===r?1:D(t),je(e,t<0?0:t,u)):[]}function Kd(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===r?1:D(t),t=u-t,je(e,0,t<0?0:t)):[]}function Hd(e,t){return e&&e.length?Pr(e,U(t,3),!0,!0):[]}function zd(e,t){return e&&e.length?Pr(e,U(t,3),!0):[]}function Dd(e,t,i,u){var f=e==null?0:e.length;return f?(i&&typeof i!="number"&&Pe(e,t,i)&&(i=0,u=f),Bg(e,t,i,u)):[]}function su(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var f=i==null?0:D(i);return f<0&&(f=Se(u+f,0)),ur(e,U(t,3),f)}function ou(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var f=u-1;return i!==r&&(f=D(i),f=i<0?Se(u+f,0):Oe(f,u-1)),ur(e,U(t,3),f,!0)}function au(e){var t=e==null?0:e.length;return t?Ne(e,1):[]}function Xd(e){var t=e==null?0:e.length;return t?Ne(e,De):[]}function qd(e,t){var i=e==null?0:e.length;return i?(t=t===r?1:D(t),Ne(e,t)):[]}function Jd(e){for(var t=-1,i=e==null?0:e.length,u={};++t<i;){var f=e[t];u[f[0]]=f[1]}return u}function uu(e){return e&&e.length?e[0]:r}function Yd(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var f=i==null?0:D(i);return f<0&&(f=Se(u+f,0)),en(e,t,f)}function Zd(e){var t=e==null?0:e.length;return t?je(e,0,-1):[]}var jd=q(function(e){var t=ce(e,Zi);return t.length&&t[0]===e[0]?Wi(t):[]}),Qd=q(function(e){var t=Qe(e),i=ce(e,Zi);return t===Qe(i)?t=r:i.pop(),i.length&&i[0]===e[0]?Wi(i,U(t,2)):[]}),ep=q(function(e){var t=Qe(e),i=ce(e,Zi);return t=typeof t=="function"?t:r,t&&i.pop(),i.length&&i[0]===e[0]?Wi(i,r,t):[]});function tp(e,t){return e==null?"":Zh.call(e,t)}function Qe(e){var t=e==null?0:e.length;return t?e[t-1]:r}function np(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var f=u;return i!==r&&(f=D(i),f=f<0?Se(u+f,0):Oe(f,u-1)),t===t?Mh(e,t,f):ur(e,Vo,f,!0)}function rp(e,t){return e&&e.length?_a(e,D(t)):r}var ip=q(lu);function lu(e,t){return e&&e.length&&t&&t.length?zi(e,t):e}function sp(e,t,i){return e&&e.length&&t&&t.length?zi(e,t,U(i,2)):e}function op(e,t,i){return e&&e.length&&t&&t.length?zi(e,t,r,i):e}var ap=_t(function(e,t){var i=e==null?0:e.length,u=$i(e,t);return xa(e,ce(t,function(f){return St(f,i)?+f:f}).sort(Aa)),u});function up(e,t){var i=[];if(!(e&&e.length))return i;var u=-1,f=[],p=e.length;for(t=U(t,3);++u<p;){var v=e[u];t(v,u,e)&&(i.push(v),f.push(u))}return xa(e,f),i}function cs(e){return e==null?e:tg.call(e)}function lp(e,t,i){var u=e==null?0:e.length;return u?(i&&typeof i!="number"&&Pe(e,t,i)?(t=0,i=u):(t=t==null?0:D(t),i=i===r?u:D(i)),je(e,t,i)):[]}function fp(e,t){return Tr(e,t)}function cp(e,t,i){return qi(e,t,U(i,2))}function hp(e,t){var i=e==null?0:e.length;if(i){var u=Tr(e,t);if(u<i&&st(e[u],t))return u}return-1}function gp(e,t){return Tr(e,t,!0)}function dp(e,t,i){return qi(e,t,U(i,2),!0)}function pp(e,t){var i=e==null?0:e.length;if(i){var u=Tr(e,t,!0)-1;if(st(e[u],t))return u}return-1}function mp(e){return e&&e.length?Na(e):[]}function vp(e,t){return e&&e.length?Na(e,U(t,2)):[]}function yp(e){var t=e==null?0:e.length;return t?je(e,1,t):[]}function _p(e,t,i){return e&&e.length?(t=i||t===r?1:D(t),je(e,0,t<0?0:t)):[]}function Sp(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===r?1:D(t),t=u-t,je(e,t<0?0:t,u)):[]}function bp(e,t){return e&&e.length?Pr(e,U(t,3),!1,!0):[]}function xp(e,t){return e&&e.length?Pr(e,U(t,3)):[]}var wp=q(function(e){return At(Ne(e,1,me,!0))}),Np=q(function(e){var t=Qe(e);return me(t)&&(t=r),At(Ne(e,1,me,!0),U(t,2))}),Op=q(function(e){var t=Qe(e);return t=typeof t=="function"?t:r,At(Ne(e,1,me,!0),r,t)});function Cp(e){return e&&e.length?At(e):[]}function Fp(e,t){return e&&e.length?At(e,U(t,2)):[]}function Tp(e,t){return t=typeof t=="function"?t:r,e&&e.length?At(e,r,t):[]}function hs(e){if(!(e&&e.length))return[];var t=0;return e=Ft(e,function(i){if(me(i))return t=Se(i.length,t),!0}),Pi(t,function(i){return ce(e,Ci(i))})}function fu(e,t){if(!(e&&e.length))return[];var i=hs(e);return t==null?i:ce(i,function(u){return Ge(t,r,u)})}var Pp=q(function(e,t){return me(e)?kn(e,t):[]}),Ep=q(function(e){return Yi(Ft(e,me))}),Lp=q(function(e){var t=Qe(e);return me(t)&&(t=r),Yi(Ft(e,me),U(t,2))}),Ap=q(function(e){var t=Qe(e);return t=typeof t=="function"?t:r,Yi(Ft(e,me),r,t)}),Rp=q(hs);function Ip(e,t){return Ta(e||[],t||[],Mn)}function Mp(e,t){return Ta(e||[],t||[],Gn)}var kp=q(function(e){var t=e.length,i=t>1?e[t-1]:r;return i=typeof i=="function"?(e.pop(),i):r,fu(e,i)});function cu(e){var t=d(e);return t.__chain__=!0,t}function $p(e,t){return t(e),e}function Br(e,t){return t(e)}var Bp=_t(function(e){var t=e.length,i=t?e[0]:0,u=this.__wrapped__,f=function(p){return $i(p,e)};return t>1||this.__actions__.length||!(u instanceof Z)||!St(i)?this.thru(f):(u=u.slice(i,+i+(t?1:0)),u.__actions__.push({func:Br,args:[f],thisArg:r}),new Ye(u,this.__chain__).thru(function(p){return t&&!p.length&&p.push(r),p}))});function Gp(){return cu(this)}function Up(){return new Ye(this.value(),this.__chain__)}function Wp(){this.__values__===r&&(this.__values__=Ou(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Vp(){return this}function Kp(e){for(var t,i=this;i instanceof wr;){var u=iu(i);u.__index__=0,u.__values__=r,t?f.__wrapped__=u:t=u;var f=u;i=i.__wrapped__}return f.__wrapped__=e,t}function Hp(){var e=this.__wrapped__;if(e instanceof Z){var t=e;return this.__actions__.length&&(t=new Z(this)),t=t.reverse(),t.__actions__.push({func:Br,args:[cs],thisArg:r}),new Ye(t,this.__chain__)}return this.thru(cs)}function zp(){return Fa(this.__wrapped__,this.__actions__)}var Dp=Er(function(e,t,i){oe.call(e,i)?++e[i]:vt(e,i,1)});function Xp(e,t,i){var u=z(e)?Uo:$g;return i&&Pe(e,t,i)&&(t=r),u(e,U(t,3))}function qp(e,t){var i=z(e)?Ft:fa;return i(e,U(t,3))}var Jp=Ba(su),Yp=Ba(ou);function Zp(e,t){return Ne(Gr(e,t),1)}function jp(e,t){return Ne(Gr(e,t),De)}function Qp(e,t,i){return i=i===r?1:D(i),Ne(Gr(e,t),i)}function hu(e,t){var i=z(e)?qe:Lt;return i(e,U(t,3))}function gu(e,t){var i=z(e)?yh:la;return i(e,U(t,3))}var em=Er(function(e,t,i){oe.call(e,i)?e[i].push(t):vt(e,i,[t])});function tm(e,t,i,u){e=Ie(e)?e:gn(e),i=i&&!u?D(i):0;var f=e.length;return i<0&&(i=Se(f+i,0)),Hr(e)?i<=f&&e.indexOf(t,i)>-1:!!f&&en(e,t,i)>-1}var nm=q(function(e,t,i){var u=-1,f=typeof t=="function",p=Ie(e)?O(e.length):[];return Lt(e,function(v){p[++u]=f?Ge(t,v,i):$n(v,t,i)}),p}),rm=Er(function(e,t,i){vt(e,i,t)});function Gr(e,t){var i=z(e)?ce:ma;return i(e,U(t,3))}function im(e,t,i,u){return e==null?[]:(z(t)||(t=t==null?[]:[t]),i=u?r:i,z(i)||(i=i==null?[]:[i]),Sa(e,t,i))}var sm=Er(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function om(e,t,i){var u=z(e)?Ni:Ho,f=arguments.length<3;return u(e,U(t,4),i,f,Lt)}function am(e,t,i){var u=z(e)?_h:Ho,f=arguments.length<3;return u(e,U(t,4),i,f,la)}function um(e,t){var i=z(e)?Ft:fa;return i(e,Vr(U(t,3)))}function lm(e){var t=z(e)?sa:td;return t(e)}function fm(e,t,i){(i?Pe(e,t,i):t===r)?t=1:t=D(t);var u=z(e)?Ag:nd;return u(e,t)}function cm(e){var t=z(e)?Rg:id;return t(e)}function hm(e){if(e==null)return 0;if(Ie(e))return Hr(e)?nn(e):e.length;var t=Ce(e);return t==tt||t==nt?e.size:Ki(e).length}function gm(e,t,i){var u=z(e)?Oi:sd;return i&&Pe(e,t,i)&&(t=r),u(e,U(t,3))}var dm=q(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Pe(e,t[0],t[1])?t=[]:i>2&&Pe(t[0],t[1],t[2])&&(t=[t[0]]),Sa(e,Ne(t,1),[])}),Ur=qh||function(){return we.Date.now()};function pm(e,t){if(typeof t!="function")throw new Je(g);return e=D(e),function(){if(--e<1)return t.apply(this,arguments)}}function du(e,t,i){return t=i?r:t,t=e&&t==null?e.length:t,yt(e,te,r,r,r,r,t)}function pu(e,t){var i;if(typeof t!="function")throw new Je(g);return e=D(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var gs=q(function(e,t,i){var u=R;if(i.length){var f=Pt(i,cn(gs));u|=se}return yt(e,u,t,i,f)}),mu=q(function(e,t,i){var u=R|M;if(i.length){var f=Pt(i,cn(mu));u|=se}return yt(t,u,e,i,f)});function vu(e,t,i){t=i?r:t;var u=yt(e,ie,r,r,r,r,r,t);return u.placeholder=vu.placeholder,u}function yu(e,t,i){t=i?r:t;var u=yt(e,Y,r,r,r,r,r,t);return u.placeholder=yu.placeholder,u}function _u(e,t,i){var u,f,p,v,S,N,F=0,T=!1,E=!1,A=!0;if(typeof e!="function")throw new Je(g);t=et(t)||0,de(i)&&(T=!!i.leading,E="maxWait"in i,p=E?Se(et(i.maxWait)||0,t):p,A="trailing"in i?!!i.trailing:A);function G(ve){var ot=u,wt=f;return u=f=r,F=ve,v=e.apply(wt,ot),v}function W(ve){return F=ve,S=Vn(J,t),T?G(ve):v}function X(ve){var ot=ve-N,wt=ve-F,Bu=t-ot;return E?Oe(Bu,p-wt):Bu}function V(ve){var ot=ve-N,wt=ve-F;return N===r||ot>=t||ot<0||E&&wt>=p}function J(){var ve=Ur();if(V(ve))return j(ve);S=Vn(J,X(ve))}function j(ve){return S=r,A&&u?G(ve):(u=f=r,v)}function Ke(){S!==r&&Pa(S),F=0,u=N=f=S=r}function Ee(){return S===r?v:j(Ur())}function He(){var ve=Ur(),ot=V(ve);if(u=arguments,f=this,N=ve,ot){if(S===r)return W(N);if(E)return Pa(S),S=Vn(J,t),G(N)}return S===r&&(S=Vn(J,t)),v}return He.cancel=Ke,He.flush=Ee,He}var mm=q(function(e,t){return ua(e,1,t)}),vm=q(function(e,t,i){return ua(e,et(t)||0,i)});function ym(e){return yt(e,$t)}function Wr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Je(g);var i=function(){var u=arguments,f=t?t.apply(this,u):u[0],p=i.cache;if(p.has(f))return p.get(f);var v=e.apply(this,u);return i.cache=p.set(f,v)||p,v};return i.cache=new(Wr.Cache||mt),i}Wr.Cache=mt;function Vr(e){if(typeof e!="function")throw new Je(g);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function _m(e){return pu(2,e)}var Sm=od(function(e,t){t=t.length==1&&z(t[0])?ce(t[0],Ue(U())):ce(Ne(t,1),Ue(U()));var i=t.length;return q(function(u){for(var f=-1,p=Oe(u.length,i);++f<p;)u[f]=t[f].call(this,u[f]);return Ge(e,this,u)})}),ds=q(function(e,t){var i=Pt(t,cn(ds));return yt(e,se,r,t,i)}),Su=q(function(e,t){var i=Pt(t,cn(Su));return yt(e,ge,r,t,i)}),bm=_t(function(e,t){return yt(e,ze,r,r,r,t)});function xm(e,t){if(typeof e!="function")throw new Je(g);return t=t===r?t:D(t),q(e,t)}function wm(e,t){if(typeof e!="function")throw new Je(g);return t=t==null?0:Se(D(t),0),q(function(i){var u=i[t],f=It(i,0,t);return u&&Tt(f,u),Ge(e,this,f)})}function Nm(e,t,i){var u=!0,f=!0;if(typeof e!="function")throw new Je(g);return de(i)&&(u="leading"in i?!!i.leading:u,f="trailing"in i?!!i.trailing:f),_u(e,t,{leading:u,maxWait:t,trailing:f})}function Om(e){return du(e,1)}function Cm(e,t){return ds(ji(t),e)}function Fm(){if(!arguments.length)return[];var e=arguments[0];return z(e)?e:[e]}function Tm(e){return Ze(e,P)}function Pm(e,t){return t=typeof t=="function"?t:r,Ze(e,P,t)}function Em(e){return Ze(e,w|P)}function Lm(e,t){return t=typeof t=="function"?t:r,Ze(e,w|P,t)}function Am(e,t){return t==null||aa(e,t,be(t))}function st(e,t){return e===t||e!==e&&t!==t}var Rm=Ir(Ui),Im=Ir(function(e,t){return e>=t}),Dt=ga(function(){return arguments}())?ga:function(e){return pe(e)&&oe.call(e,"callee")&&!Qo.call(e,"callee")},z=O.isArray,Mm=Io?Ue(Io):Kg;function Ie(e){return e!=null&&Kr(e.length)&&!bt(e)}function me(e){return pe(e)&&Ie(e)}function km(e){return e===!0||e===!1||pe(e)&&Te(e)==xn}var Mt=Yh||Os,$m=Mo?Ue(Mo):Hg;function Bm(e){return pe(e)&&e.nodeType===1&&!Kn(e)}function Gm(e){if(e==null)return!0;if(Ie(e)&&(z(e)||typeof e=="string"||typeof e.splice=="function"||Mt(e)||hn(e)||Dt(e)))return!e.length;var t=Ce(e);if(t==tt||t==nt)return!e.size;if(Wn(e))return!Ki(e).length;for(var i in e)if(oe.call(e,i))return!1;return!0}function Um(e,t){return Bn(e,t)}function Wm(e,t,i){i=typeof i=="function"?i:r;var u=i?i(e,t):r;return u===r?Bn(e,t,r,i):!!u}function ps(e){if(!pe(e))return!1;var t=Te(e);return t==tr||t==fc||typeof e.message=="string"&&typeof e.name=="string"&&!Kn(e)}function Vm(e){return typeof e=="number"&&ta(e)}function bt(e){if(!de(e))return!1;var t=Te(e);return t==nr||t==ao||t==lc||t==hc}function bu(e){return typeof e=="number"&&e==D(e)}function Kr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=b}function de(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pe(e){return e!=null&&typeof e=="object"}var xu=ko?Ue(ko):Dg;function Km(e,t){return e===t||Vi(e,t,ss(t))}function Hm(e,t,i){return i=typeof i=="function"?i:r,Vi(e,t,ss(t),i)}function zm(e){return wu(e)&&e!=+e}function Dm(e){if(Pd(e))throw new H(l);return da(e)}function Xm(e){return e===null}function qm(e){return e==null}function wu(e){return typeof e=="number"||pe(e)&&Te(e)==Nn}function Kn(e){if(!pe(e)||Te(e)!=dt)return!1;var t=mr(e);if(t===null)return!0;var i=oe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&hr.call(i)==Hh}var ms=$o?Ue($o):Xg;function Jm(e){return bu(e)&&e>=-b&&e<=b}var Nu=Bo?Ue(Bo):qg;function Hr(e){return typeof e=="string"||!z(e)&&pe(e)&&Te(e)==Cn}function Ve(e){return typeof e=="symbol"||pe(e)&&Te(e)==rr}var hn=Go?Ue(Go):Jg;function Ym(e){return e===r}function Zm(e){return pe(e)&&Ce(e)==Fn}function jm(e){return pe(e)&&Te(e)==dc}var Qm=Ir(Hi),e0=Ir(function(e,t){return e<=t});function Ou(e){if(!e)return[];if(Ie(e))return Hr(e)?rt(e):Re(e);if(En&&e[En])return Ah(e[En]());var t=Ce(e),i=t==tt?Li:t==nt?lr:gn;return i(e)}function xt(e){if(!e)return e===0?e:0;if(e=et(e),e===De||e===-De){var t=e<0?-1:1;return t*ae}return e===e?e:0}function D(e){var t=xt(e),i=t%1;return t===t?i?t-i:t:0}function Cu(e){return e?Vt(D(e),0,Be):0}function et(e){if(typeof e=="number")return e;if(Ve(e))return Ae;if(de(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=de(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zo(e);var i=Mc.test(e);return i||$c.test(e)?ph(e.slice(2),i?2:8):Ic.test(e)?Ae:+e}function Fu(e){return ft(e,Me(e))}function t0(e){return e?Vt(D(e),-b,b):e===0?e:0}function ne(e){return e==null?"":We(e)}var n0=ln(function(e,t){if(Wn(t)||Ie(t)){ft(t,be(t),e);return}for(var i in t)oe.call(t,i)&&Mn(e,i,t[i])}),Tu=ln(function(e,t){ft(t,Me(t),e)}),zr=ln(function(e,t,i,u){ft(t,Me(t),e,u)}),r0=ln(function(e,t,i,u){ft(t,be(t),e,u)}),i0=_t($i);function s0(e,t){var i=un(e);return t==null?i:oa(i,t)}var o0=q(function(e,t){e=ue(e);var i=-1,u=t.length,f=u>2?t[2]:r;for(f&&Pe(t[0],t[1],f)&&(u=1);++i<u;)for(var p=t[i],v=Me(p),S=-1,N=v.length;++S<N;){var F=v[S],T=e[F];(T===r||st(T,sn[F])&&!oe.call(e,F))&&(e[F]=p[F])}return e}),a0=q(function(e){return e.push(r,za),Ge(Pu,r,e)});function u0(e,t){return Wo(e,U(t,3),lt)}function l0(e,t){return Wo(e,U(t,3),Gi)}function f0(e,t){return e==null?e:Bi(e,U(t,3),Me)}function c0(e,t){return e==null?e:ca(e,U(t,3),Me)}function h0(e,t){return e&&lt(e,U(t,3))}function g0(e,t){return e&&Gi(e,U(t,3))}function d0(e){return e==null?[]:Cr(e,be(e))}function p0(e){return e==null?[]:Cr(e,Me(e))}function vs(e,t,i){var u=e==null?r:Kt(e,t);return u===r?i:u}function m0(e,t){return e!=null&&qa(e,t,Gg)}function ys(e,t){return e!=null&&qa(e,t,Ug)}var v0=Ua(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=gr.call(t)),e[t]=i},Ss(ke)),y0=Ua(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=gr.call(t)),oe.call(e,t)?e[t].push(i):e[t]=[i]},U),_0=q($n);function be(e){return Ie(e)?ia(e):Ki(e)}function Me(e){return Ie(e)?ia(e,!0):Yg(e)}function S0(e,t){var i={};return t=U(t,3),lt(e,function(u,f,p){vt(i,t(u,f,p),u)}),i}function b0(e,t){var i={};return t=U(t,3),lt(e,function(u,f,p){vt(i,f,t(u,f,p))}),i}var x0=ln(function(e,t,i){Fr(e,t,i)}),Pu=ln(function(e,t,i,u){Fr(e,t,i,u)}),w0=_t(function(e,t){var i={};if(e==null)return i;var u=!1;t=ce(t,function(p){return p=Rt(p,e),u||(u=p.length>1),p}),ft(e,rs(e),i),u&&(i=Ze(i,w|_|P,vd));for(var f=t.length;f--;)Ji(i,t[f]);return i});function N0(e,t){return Eu(e,Vr(U(t)))}var O0=_t(function(e,t){return e==null?{}:jg(e,t)});function Eu(e,t){if(e==null)return{};var i=ce(rs(e),function(u){return[u]});return t=U(t),ba(e,i,function(u,f){return t(u,f[0])})}function C0(e,t,i){t=Rt(t,e);var u=-1,f=t.length;for(f||(f=1,e=r);++u<f;){var p=e==null?r:e[ct(t[u])];p===r&&(u=f,p=i),e=bt(p)?p.call(e):p}return e}function F0(e,t,i){return e==null?e:Gn(e,t,i)}function T0(e,t,i,u){return u=typeof u=="function"?u:r,e==null?e:Gn(e,t,i,u)}var Lu=Ka(be),Au=Ka(Me);function P0(e,t,i){var u=z(e),f=u||Mt(e)||hn(e);if(t=U(t,4),i==null){var p=e&&e.constructor;f?i=u?new p:[]:de(e)?i=bt(p)?un(mr(e)):{}:i={}}return(f?qe:lt)(e,function(v,S,N){return t(i,v,S,N)}),i}function E0(e,t){return e==null?!0:Ji(e,t)}function L0(e,t,i){return e==null?e:Ca(e,t,ji(i))}function A0(e,t,i,u){return u=typeof u=="function"?u:r,e==null?e:Ca(e,t,ji(i),u)}function gn(e){return e==null?[]:Ei(e,be(e))}function R0(e){return e==null?[]:Ei(e,Me(e))}function I0(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=et(i),i=i===i?i:0),t!==r&&(t=et(t),t=t===t?t:0),Vt(et(e),t,i)}function M0(e,t,i){return t=xt(t),i===r?(i=t,t=0):i=xt(i),e=et(e),Wg(e,t,i)}function k0(e,t,i){if(i&&typeof i!="boolean"&&Pe(e,t,i)&&(t=i=r),i===r&&(typeof t=="boolean"?(i=t,t=r):typeof e=="boolean"&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=xt(e),t===r?(t=e,e=0):t=xt(t)),e>t){var u=e;e=t,t=u}if(i||e%1||t%1){var f=na();return Oe(e+f*(t-e+dh("1e-"+((f+"").length-1))),t)}return Di(e,t)}var $0=fn(function(e,t,i){return t=t.toLowerCase(),e+(i?Ru(t):t)});function Ru(e){return _s(ne(e).toLowerCase())}function Iu(e){return e=ne(e),e&&e.replace(Gc,Fh).replace(ih,"")}function B0(e,t,i){e=ne(e),t=We(t);var u=e.length;i=i===r?u:Vt(D(i),0,u);var f=i;return i-=t.length,i>=0&&e.slice(i,f)==t}function G0(e){return e=ne(e),e&&_c.test(e)?e.replace(fo,Th):e}function U0(e){return e=ne(e),e&&Oc.test(e)?e.replace(di,"\\$&"):e}var W0=fn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),V0=fn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),K0=$a("toLowerCase");function H0(e,t,i){e=ne(e),t=D(t);var u=t?nn(e):0;if(!t||u>=t)return e;var f=(t-u)/2;return Rr(Sr(f),i)+e+Rr(_r(f),i)}function z0(e,t,i){e=ne(e),t=D(t);var u=t?nn(e):0;return t&&u<t?e+Rr(t-u,i):e}function D0(e,t,i){e=ne(e),t=D(t);var u=t?nn(e):0;return t&&u<t?Rr(t-u,i)+e:e}function X0(e,t,i){return i||t==null?t=0:t&&(t=+t),eg(ne(e).replace(pi,""),t||0)}function q0(e,t,i){return(i?Pe(e,t,i):t===r)?t=1:t=D(t),Xi(ne(e),t)}function J0(){var e=arguments,t=ne(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Y0=fn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function Z0(e,t,i){return i&&typeof i!="number"&&Pe(e,t,i)&&(t=i=r),i=i===r?Be:i>>>0,i?(e=ne(e),e&&(typeof t=="string"||t!=null&&!ms(t))&&(t=We(t),!t&&tn(e))?It(rt(e),0,i):e.split(t,i)):[]}var j0=fn(function(e,t,i){return e+(i?" ":"")+_s(t)});function Q0(e,t,i){return e=ne(e),i=i==null?0:Vt(D(i),0,e.length),t=We(t),e.slice(i,i+t.length)==t}function e1(e,t,i){var u=d.templateSettings;i&&Pe(e,t,i)&&(t=r),e=ne(e),t=zr({},t,u,Ha);var f=zr({},t.imports,u.imports,Ha),p=be(f),v=Ei(f,p),S,N,F=0,T=t.interpolate||ir,E="__p += '",A=Ai((t.escape||ir).source+"|"+T.source+"|"+(T===co?Rc:ir).source+"|"+(t.evaluate||ir).source+"|$","g"),G="//# sourceURL="+(oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lh+"]")+`
`;e.replace(A,function(V,J,j,Ke,Ee,He){return j||(j=Ke),E+=e.slice(F,He).replace(Uc,Ph),J&&(S=!0,E+=`' +
__e(`+J+`) +
'`),Ee&&(N=!0,E+=`';
`+Ee+`;
__p += '`),j&&(E+=`' +
((__t = (`+j+`)) == null ? '' : __t) +
'`),F=He+V.length,V}),E+=`';
`;var W=oe.call(t,"variable")&&t.variable;if(!W)E=`with (obj) {
`+E+`
}
`;else if(Lc.test(W))throw new H(h);E=(N?E.replace(pc,""):E).replace(mc,"$1").replace(vc,"$1;"),E="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+E+`return __p
}`;var X=ku(function(){return ee(p,G+"return "+E).apply(r,v)});if(X.source=E,ps(X))throw X;return X}function t1(e){return ne(e).toLowerCase()}function n1(e){return ne(e).toUpperCase()}function r1(e,t,i){if(e=ne(e),e&&(i||t===r))return zo(e);if(!e||!(t=We(t)))return e;var u=rt(e),f=rt(t),p=Do(u,f),v=Xo(u,f)+1;return It(u,p,v).join("")}function i1(e,t,i){if(e=ne(e),e&&(i||t===r))return e.slice(0,Jo(e)+1);if(!e||!(t=We(t)))return e;var u=rt(e),f=Xo(u,rt(t))+1;return It(u,0,f).join("")}function s1(e,t,i){if(e=ne(e),e&&(i||t===r))return e.replace(pi,"");if(!e||!(t=We(t)))return e;var u=rt(e),f=Do(u,rt(t));return It(u,f).join("")}function o1(e,t){var i=Yt,u=ht;if(de(t)){var f="separator"in t?t.separator:f;i="length"in t?D(t.length):i,u="omission"in t?We(t.omission):u}e=ne(e);var p=e.length;if(tn(e)){var v=rt(e);p=v.length}if(i>=p)return e;var S=i-nn(u);if(S<1)return u;var N=v?It(v,0,S).join(""):e.slice(0,S);if(f===r)return N+u;if(v&&(S+=N.length-S),ms(f)){if(e.slice(S).search(f)){var F,T=N;for(f.global||(f=Ai(f.source,ne(ho.exec(f))+"g")),f.lastIndex=0;F=f.exec(T);)var E=F.index;N=N.slice(0,E===r?S:E)}}else if(e.indexOf(We(f),S)!=S){var A=N.lastIndexOf(f);A>-1&&(N=N.slice(0,A))}return N+u}function a1(e){return e=ne(e),e&&yc.test(e)?e.replace(lo,kh):e}var u1=fn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),_s=$a("toUpperCase");function Mu(e,t,i){return e=ne(e),t=i?r:t,t===r?Lh(e)?Gh(e):xh(e):e.match(t)||[]}var ku=q(function(e,t){try{return Ge(e,r,t)}catch(i){return ps(i)?i:new H(i)}}),l1=_t(function(e,t){return qe(t,function(i){i=ct(i),vt(e,i,gs(e[i],e))}),e});function f1(e){var t=e==null?0:e.length,i=U();return e=t?ce(e,function(u){if(typeof u[1]!="function")throw new Je(g);return[i(u[0]),u[1]]}):[],q(function(u){for(var f=-1;++f<t;){var p=e[f];if(Ge(p[0],this,u))return Ge(p[1],this,u)}})}function c1(e){return kg(Ze(e,w))}function Ss(e){return function(){return e}}function h1(e,t){return e==null||e!==e?t:e}var g1=Ga(),d1=Ga(!0);function ke(e){return e}function bs(e){return pa(typeof e=="function"?e:Ze(e,w))}function p1(e){return va(Ze(e,w))}function m1(e,t){return ya(e,Ze(t,w))}var v1=q(function(e,t){return function(i){return $n(i,e,t)}}),y1=q(function(e,t){return function(i){return $n(e,i,t)}});function xs(e,t,i){var u=be(t),f=Cr(t,u);i==null&&!(de(t)&&(f.length||!u.length))&&(i=t,t=e,e=this,f=Cr(t,be(t)));var p=!(de(i)&&"chain"in i)||!!i.chain,v=bt(e);return qe(f,function(S){var N=t[S];e[S]=N,v&&(e.prototype[S]=function(){var F=this.__chain__;if(p||F){var T=e(this.__wrapped__),E=T.__actions__=Re(this.__actions__);return E.push({func:N,args:arguments,thisArg:e}),T.__chain__=F,T}return N.apply(e,Tt([this.value()],arguments))})}),e}function _1(){return we._===this&&(we._=zh),this}function ws(){}function S1(e){return e=D(e),q(function(t){return _a(t,e)})}var b1=es(ce),x1=es(Uo),w1=es(Oi);function $u(e){return as(e)?Ci(ct(e)):Qg(e)}function N1(e){return function(t){return e==null?r:Kt(e,t)}}var O1=Wa(),C1=Wa(!0);function Ns(){return[]}function Os(){return!1}function F1(){return{}}function T1(){return""}function P1(){return!0}function E1(e,t){if(e=D(e),e<1||e>b)return[];var i=Be,u=Oe(e,Be);t=U(t),e-=Be;for(var f=Pi(u,t);++i<e;)t(i);return f}function L1(e){return z(e)?ce(e,ct):Ve(e)?[e]:Re(ru(ne(e)))}function A1(e){var t=++Kh;return ne(e)+t}var R1=Ar(function(e,t){return e+t},0),I1=ts("ceil"),M1=Ar(function(e,t){return e/t},1),k1=ts("floor");function $1(e){return e&&e.length?Or(e,ke,Ui):r}function B1(e,t){return e&&e.length?Or(e,U(t,2),Ui):r}function G1(e){return Ko(e,ke)}function U1(e,t){return Ko(e,U(t,2))}function W1(e){return e&&e.length?Or(e,ke,Hi):r}function V1(e,t){return e&&e.length?Or(e,U(t,2),Hi):r}var K1=Ar(function(e,t){return e*t},1),H1=ts("round"),z1=Ar(function(e,t){return e-t},0);function D1(e){return e&&e.length?Ti(e,ke):0}function X1(e,t){return e&&e.length?Ti(e,U(t,2)):0}return d.after=pm,d.ary=du,d.assign=n0,d.assignIn=Tu,d.assignInWith=zr,d.assignWith=r0,d.at=i0,d.before=pu,d.bind=gs,d.bindAll=l1,d.bindKey=mu,d.castArray=Fm,d.chain=cu,d.chunk=kd,d.compact=$d,d.concat=Bd,d.cond=f1,d.conforms=c1,d.constant=Ss,d.countBy=Dp,d.create=s0,d.curry=vu,d.curryRight=yu,d.debounce=_u,d.defaults=o0,d.defaultsDeep=a0,d.defer=mm,d.delay=vm,d.difference=Gd,d.differenceBy=Ud,d.differenceWith=Wd,d.drop=Vd,d.dropRight=Kd,d.dropRightWhile=Hd,d.dropWhile=zd,d.fill=Dd,d.filter=qp,d.flatMap=Zp,d.flatMapDeep=jp,d.flatMapDepth=Qp,d.flatten=au,d.flattenDeep=Xd,d.flattenDepth=qd,d.flip=ym,d.flow=g1,d.flowRight=d1,d.fromPairs=Jd,d.functions=d0,d.functionsIn=p0,d.groupBy=em,d.initial=Zd,d.intersection=jd,d.intersectionBy=Qd,d.intersectionWith=ep,d.invert=v0,d.invertBy=y0,d.invokeMap=nm,d.iteratee=bs,d.keyBy=rm,d.keys=be,d.keysIn=Me,d.map=Gr,d.mapKeys=S0,d.mapValues=b0,d.matches=p1,d.matchesProperty=m1,d.memoize=Wr,d.merge=x0,d.mergeWith=Pu,d.method=v1,d.methodOf=y1,d.mixin=xs,d.negate=Vr,d.nthArg=S1,d.omit=w0,d.omitBy=N0,d.once=_m,d.orderBy=im,d.over=b1,d.overArgs=Sm,d.overEvery=x1,d.overSome=w1,d.partial=ds,d.partialRight=Su,d.partition=sm,d.pick=O0,d.pickBy=Eu,d.property=$u,d.propertyOf=N1,d.pull=ip,d.pullAll=lu,d.pullAllBy=sp,d.pullAllWith=op,d.pullAt=ap,d.range=O1,d.rangeRight=C1,d.rearg=bm,d.reject=um,d.remove=up,d.rest=xm,d.reverse=cs,d.sampleSize=fm,d.set=F0,d.setWith=T0,d.shuffle=cm,d.slice=lp,d.sortBy=dm,d.sortedUniq=mp,d.sortedUniqBy=vp,d.split=Z0,d.spread=wm,d.tail=yp,d.take=_p,d.takeRight=Sp,d.takeRightWhile=bp,d.takeWhile=xp,d.tap=$p,d.throttle=Nm,d.thru=Br,d.toArray=Ou,d.toPairs=Lu,d.toPairsIn=Au,d.toPath=L1,d.toPlainObject=Fu,d.transform=P0,d.unary=Om,d.union=wp,d.unionBy=Np,d.unionWith=Op,d.uniq=Cp,d.uniqBy=Fp,d.uniqWith=Tp,d.unset=E0,d.unzip=hs,d.unzipWith=fu,d.update=L0,d.updateWith=A0,d.values=gn,d.valuesIn=R0,d.without=Pp,d.words=Mu,d.wrap=Cm,d.xor=Ep,d.xorBy=Lp,d.xorWith=Ap,d.zip=Rp,d.zipObject=Ip,d.zipObjectDeep=Mp,d.zipWith=kp,d.entries=Lu,d.entriesIn=Au,d.extend=Tu,d.extendWith=zr,xs(d,d),d.add=R1,d.attempt=ku,d.camelCase=$0,d.capitalize=Ru,d.ceil=I1,d.clamp=I0,d.clone=Tm,d.cloneDeep=Em,d.cloneDeepWith=Lm,d.cloneWith=Pm,d.conformsTo=Am,d.deburr=Iu,d.defaultTo=h1,d.divide=M1,d.endsWith=B0,d.eq=st,d.escape=G0,d.escapeRegExp=U0,d.every=Xp,d.find=Jp,d.findIndex=su,d.findKey=u0,d.findLast=Yp,d.findLastIndex=ou,d.findLastKey=l0,d.floor=k1,d.forEach=hu,d.forEachRight=gu,d.forIn=f0,d.forInRight=c0,d.forOwn=h0,d.forOwnRight=g0,d.get=vs,d.gt=Rm,d.gte=Im,d.has=m0,d.hasIn=ys,d.head=uu,d.identity=ke,d.includes=tm,d.indexOf=Yd,d.inRange=M0,d.invoke=_0,d.isArguments=Dt,d.isArray=z,d.isArrayBuffer=Mm,d.isArrayLike=Ie,d.isArrayLikeObject=me,d.isBoolean=km,d.isBuffer=Mt,d.isDate=$m,d.isElement=Bm,d.isEmpty=Gm,d.isEqual=Um,d.isEqualWith=Wm,d.isError=ps,d.isFinite=Vm,d.isFunction=bt,d.isInteger=bu,d.isLength=Kr,d.isMap=xu,d.isMatch=Km,d.isMatchWith=Hm,d.isNaN=zm,d.isNative=Dm,d.isNil=qm,d.isNull=Xm,d.isNumber=wu,d.isObject=de,d.isObjectLike=pe,d.isPlainObject=Kn,d.isRegExp=ms,d.isSafeInteger=Jm,d.isSet=Nu,d.isString=Hr,d.isSymbol=Ve,d.isTypedArray=hn,d.isUndefined=Ym,d.isWeakMap=Zm,d.isWeakSet=jm,d.join=tp,d.kebabCase=W0,d.last=Qe,d.lastIndexOf=np,d.lowerCase=V0,d.lowerFirst=K0,d.lt=Qm,d.lte=e0,d.max=$1,d.maxBy=B1,d.mean=G1,d.meanBy=U1,d.min=W1,d.minBy=V1,d.stubArray=Ns,d.stubFalse=Os,d.stubObject=F1,d.stubString=T1,d.stubTrue=P1,d.multiply=K1,d.nth=rp,d.noConflict=_1,d.noop=ws,d.now=Ur,d.pad=H0,d.padEnd=z0,d.padStart=D0,d.parseInt=X0,d.random=k0,d.reduce=om,d.reduceRight=am,d.repeat=q0,d.replace=J0,d.result=C0,d.round=H1,d.runInContext=x,d.sample=lm,d.size=hm,d.snakeCase=Y0,d.some=gm,d.sortedIndex=fp,d.sortedIndexBy=cp,d.sortedIndexOf=hp,d.sortedLastIndex=gp,d.sortedLastIndexBy=dp,d.sortedLastIndexOf=pp,d.startCase=j0,d.startsWith=Q0,d.subtract=z1,d.sum=D1,d.sumBy=X1,d.template=e1,d.times=E1,d.toFinite=xt,d.toInteger=D,d.toLength=Cu,d.toLower=t1,d.toNumber=et,d.toSafeInteger=t0,d.toString=ne,d.toUpper=n1,d.trim=r1,d.trimEnd=i1,d.trimStart=s1,d.truncate=o1,d.unescape=a1,d.uniqueId=A1,d.upperCase=u1,d.upperFirst=_s,d.each=hu,d.eachRight=gu,d.first=uu,xs(d,function(){var e={};return lt(d,function(t,i){oe.call(d.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),d.VERSION=o,qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),qe(["drop","take"],function(e,t){Z.prototype[e]=function(i){i=i===r?1:Se(D(i),0);var u=this.__filtered__&&!t?new Z(this):this.clone();return u.__filtered__?u.__takeCount__=Oe(i,u.__takeCount__):u.__views__.push({size:Oe(i,Be),type:e+(u.__dir__<0?"Right":"")}),u},Z.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),qe(["filter","map","takeWhile"],function(e,t){var i=t+1,u=i==ut||i==Ct;Z.prototype[e]=function(f){var p=this.clone();return p.__iteratees__.push({iteratee:U(f,3),type:i}),p.__filtered__=p.__filtered__||u,p}}),qe(["head","last"],function(e,t){var i="take"+(t?"Right":"");Z.prototype[e]=function(){return this[i](1).value()[0]}}),qe(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[i](1)}}),Z.prototype.compact=function(){return this.filter(ke)},Z.prototype.find=function(e){return this.filter(e).head()},Z.prototype.findLast=function(e){return this.reverse().find(e)},Z.prototype.invokeMap=q(function(e,t){return typeof e=="function"?new Z(this):this.map(function(i){return $n(i,e,t)})}),Z.prototype.reject=function(e){return this.filter(Vr(U(e)))},Z.prototype.slice=function(e,t){e=D(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Z(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(t=D(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},Z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Z.prototype.toArray=function(){return this.take(Be)},lt(Z.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),f=d[u?"take"+(t=="last"?"Right":""):t],p=u||/^find/.test(t);f&&(d.prototype[t]=function(){var v=this.__wrapped__,S=u?[1]:arguments,N=v instanceof Z,F=S[0],T=N||z(v),E=function(J){var j=f.apply(d,Tt([J],S));return u&&A?j[0]:j};T&&i&&typeof F=="function"&&F.length!=1&&(N=T=!1);var A=this.__chain__,G=!!this.__actions__.length,W=p&&!A,X=N&&!G;if(!p&&T){v=X?v:new Z(this);var V=e.apply(v,S);return V.__actions__.push({func:Br,args:[E],thisArg:r}),new Ye(V,A)}return W&&X?e.apply(this,S):(V=this.thru(E),W?u?V.value()[0]:V.value():V)})}),qe(["pop","push","shift","sort","splice","unshift"],function(e){var t=fr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var f=arguments;if(u&&!this.__chain__){var p=this.value();return t.apply(z(p)?p:[],f)}return this[i](function(v){return t.apply(z(v)?v:[],f)})}}),lt(Z.prototype,function(e,t){var i=d[t];if(i){var u=i.name+"";oe.call(an,u)||(an[u]=[]),an[u].push({name:t,func:i})}}),an[Lr(r,M).name]=[{name:"wrapper",func:r}],Z.prototype.clone=ag,Z.prototype.reverse=ug,Z.prototype.value=lg,d.prototype.at=Bp,d.prototype.chain=Gp,d.prototype.commit=Up,d.prototype.next=Wp,d.prototype.plant=Kp,d.prototype.reverse=Hp,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=zp,d.prototype.first=d.prototype.head,En&&(d.prototype[En]=Vp),d},rn=Uh();Bt?((Bt.exports=rn)._=rn,bi._=rn):we._=rn}).call(Fe)}(zn,zn.exports);var K=zn.exports;const kf={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,n){console&&console[s]&&console[s].apply(console,n)}};class Dn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,r)}init(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||kf,this.options=r,this.debug=r.debug}log(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"log","",!0)}warn(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"warn","",!0)}error(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"error","")}deprecate(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(n,r,o,a){return a&&!this.debug?null:(typeof n[0]=="string"&&(n[0]=`${o}${this.prefix} ${n[0]}`),this.logger[r](n))}create(n){return new Dn(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Dn(this.logger,n)}}var at=new Dn;class Xn{constructor(){this.observers={}}on(n,r){return n.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const a=this.observers[o].get(r)||0;this.observers[o].set(r,a+1)}),this}off(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n].delete(r)}}emit(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(g=>{let[h,c]=g;for(let m=0;m<c;m++)h(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(g=>{let[h,c]=g;for(let m=0;m<c;m++)h.apply(h,[n,...o])})}}function yn(){let s,n;const r=new Promise((o,a)=>{s=o,n=a});return r.resolve=s,r.reject=n,r}function zs(s){return s==null?"":""+s}function $f(s,n,r){s.forEach(o=>{n[o]&&(r[o]=n[o])})}const Bf=/###/g;function _n(s,n,r){function o(h){return h&&h.indexOf("###")>-1?h.replace(Bf,"."):h}function a(){return!s||typeof s=="string"}const l=typeof n!="string"?n:n.split(".");let g=0;for(;g<l.length-1;){if(a())return{};const h=o(l[g]);!s[h]&&r&&(s[h]=new r),Object.prototype.hasOwnProperty.call(s,h)?s=s[h]:s={},++g}return a()?{}:{obj:s,k:o(l[g])}}function Ds(s,n,r){const{obj:o,k:a}=_n(s,n,Object);if(o!==void 0||n.length===1){o[a]=r;return}let l=n[n.length-1],g=n.slice(0,n.length-1),h=_n(s,g,Object);for(;h.obj===void 0&&g.length;)l=`${g[g.length-1]}.${l}`,g=g.slice(0,g.length-1),h=_n(s,g,Object),h&&h.obj&&typeof h.obj[`${h.k}.${l}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${l}`]=r}function Gf(s,n,r,o){const{obj:a,k:l}=_n(s,n,Object);a[l]=a[l]||[],o&&(a[l]=a[l].concat(r)),o||a[l].push(r)}function qn(s,n){const{obj:r,k:o}=_n(s,n);if(r)return r[o]}function Uf(s,n,r){const o=qn(s,r);return o!==void 0?o:qn(n,r)}function Xs(s,n,r){for(const o in n)o!=="__proto__"&&o!=="constructor"&&(o in s?typeof s[o]=="string"||s[o]instanceof String||typeof n[o]=="string"||n[o]instanceof String?r&&(s[o]=n[o]):Xs(s[o],n[o],r):s[o]=n[o]);return s}function Xt(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Wf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Vf(s){return typeof s=="string"?s.replace(/[&<>"'\/]/g,n=>Wf[n]):s}class Kf{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const r=this.regExpMap.get(n);if(r!==void 0)return r;const o=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,o),this.regExpQueue.push(n),o}}const Hf=[" ",",","?","!",";"],zf=new Kf(20);function Df(s,n,r){n=n||"",r=r||"";const o=Hf.filter(g=>n.indexOf(g)<0&&r.indexOf(g)<0);if(o.length===0)return!0;const a=zf.getRegExp(`(${o.map(g=>g==="?"?"\\?":g).join("|")})`);let l=!a.test(s);if(!l){const g=s.indexOf(r);g>0&&!a.test(s.substring(0,g))&&(l=!0)}return l}function ei(s,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[n])return s[n];const o=n.split(r);let a=s;for(let l=0;l<o.length;){if(!a||typeof a!="object")return;let g,h="";for(let c=l;c<o.length;++c)if(c!==l&&(h+=r),h+=o[c],g=a[h],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&c<o.length-1)continue;l+=c-l+1;break}a=g}return a}function Jn(s){return s&&s.indexOf("_")>0?s.replace("_","-"):s}class qs extends Xn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const r=this.options.ns.indexOf(n);r>-1&&this.options.ns.splice(r,1)}getResource(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,g=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;n.indexOf(".")>-1?h=n.split("."):(h=[n,r],o&&(Array.isArray(o)?h.push(...o):typeof o=="string"&&l?h.push(...o.split(l)):h.push(o)));const c=qn(this.data,h);return!c&&!r&&!o&&n.indexOf(".")>-1&&(n=h[0],r=h[1],o=h.slice(2).join(".")),c||!g||typeof o!="string"?c:ei(this.data&&this.data[n]&&this.data[n][r],o,l)}addResource(n,r,o,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const g=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let h=[n,r];o&&(h=h.concat(g?o.split(g):o)),n.indexOf(".")>-1&&(h=n.split("."),a=r,r=h[1]),this.addNamespaces(r),Ds(this.data,h,a),l.silent||this.emit("added",n,r,o,a)}addResources(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in o)(typeof o[l]=="string"||Array.isArray(o[l]))&&this.addResource(n,r,l,o[l],{silent:!0});a.silent||this.emit("added",n,r,o)}addResourceBundle(n,r,o,a,l){let g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[n,r];n.indexOf(".")>-1&&(h=n.split("."),a=o,o=r,r=h[1]),this.addNamespaces(r);let c=qn(this.data,h)||{};g.skipCopy||(o=JSON.parse(JSON.stringify(o))),a?Xs(c,o,l):c={...c,...o},Ds(this.data,h,c),g.silent||this.emit("added",n,r,o)}removeResourceBundle(n,r){this.hasResourceBundle(n,r)&&delete this.data[n][r],this.removeNamespaces(r),this.emit("removed",n,r)}hasResourceBundle(n,r){return this.getResource(n,r)!==void 0}getResourceBundle(n,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,r)}:this.getResource(n,r)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const r=this.getDataByLanguage(n);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var Js={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,n,r,o,a){return s.forEach(l=>{this.processors[l]&&(n=this.processors[l].process(n,r,o,a))}),n}};const Ys={};class Yn extends Xn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$f(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=at.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const o=this.resolve(n,r);return o&&o.res!==void 0}extractFromKey(n,r){let o=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=r.ns||this.options.defaultNS||[];const g=o&&n.indexOf(o)>-1,h=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Df(n,o,a);if(g&&!h){const c=n.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:n,namespaces:l};const m=n.split(o);(o!==a||o===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),n=m.join(a)}return typeof l=="string"&&(l=[l]),{key:n,namespaces:l}}translate(n,r,o){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:g,namespaces:h}=this.extractFromKey(n[n.length-1],r),c=h[h.length-1],m=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(y){const Y=r.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${Y}${g}`,usedKey:g,exactUsedKey:g,usedLng:m,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${Y}${g}`}return a?{res:g,usedKey:g,exactUsedKey:g,usedLng:m,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:g}const w=this.resolve(n,r);let _=w&&w.res;const P=w&&w.usedKey||g,L=w&&w.exactUsedKey||g,$=Object.prototype.toString.apply(_),R=["[object Number]","[object Function]","[object RegExp]"],M=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,B=!this.i18nFormat||this.i18nFormat.handleAsObject;if(B&&_&&(typeof _!="string"&&typeof _!="boolean"&&typeof _!="number")&&R.indexOf($)<0&&!(typeof M=="string"&&Array.isArray(_))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,_,{...r,ns:h}):`key '${g} (${this.language})' returned an object instead of string.`;return a?(w.res=Y,w.usedParams=this.getUsedParamsDetails(r),w):Y}if(l){const Y=Array.isArray(_),se=Y?[]:{},ge=Y?L:P;for(const te in _)if(Object.prototype.hasOwnProperty.call(_,te)){const ze=`${ge}${l}${te}`;se[te]=this.translate(ze,{...r,joinArrays:!1,ns:h}),se[te]===ze&&(se[te]=_[te])}_=se}}else if(B&&typeof M=="string"&&Array.isArray(_))_=_.join(M),_&&(_=this.extendTranslation(_,n,r,o));else{let Y=!1,se=!1;const ge=r.count!==void 0&&typeof r.count!="string",te=Yn.hasDefaultValue(r),ze=ge?this.pluralResolver.getSuffix(m,r.count,r):"",$t=r.ordinal&&ge?this.pluralResolver.getSuffix(m,r.count,{ordinal:!1}):"",Yt=ge&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),ht=Yt&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${ze}`]||r[`defaultValue${$t}`]||r.defaultValue;!this.isValidLookup(_)&&te&&(Y=!0,_=ht),this.isValidLookup(_)||(se=!0,_=g);const bn=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:_,ut=te&&ht!==_&&this.options.updateMissing;if(se||Y||ut){if(this.logger.log(ut?"updateKey":"missingKey",m,c,g,ut?ht:_),l){const b=this.resolve(g,{...r,keySeparator:!1});b&&b.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let gt=[];const Ct=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ct&&Ct[0])for(let b=0;b<Ct.length;b++)gt.push(Ct[b]);else this.options.saveMissingTo==="all"?gt=this.languageUtils.toResolveHierarchy(r.lng||this.language):gt.push(r.lng||this.language);const De=(b,ae,Ae)=>{const Be=te&&Ae!==_?Ae:bn;this.options.missingKeyHandler?this.options.missingKeyHandler(b,c,ae,Be,ut,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(b,c,ae,Be,ut,r),this.emit("missingKey",b,c,ae,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ge?gt.forEach(b=>{const ae=this.pluralResolver.getSuffixes(b,r);Yt&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(Ae=>{De([b],g+Ae,r[`defaultValue${Ae}`]||ht)})}):De(gt,g,ht))}_=this.extendTranslation(_,n,r,w,o),se&&_===g&&this.options.appendNamespaceToMissingKey&&(_=`${c}:${g}`),(se||Y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${g}`:g,Y?_:void 0):_=this.options.parseMissingKeyHandler(_))}return a?(w.res=_,w.usedParams=this.getUsedParamsDetails(r),w):_}extendTranslation(n,r,o,a,l){var g=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const m=typeof n=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(m){const _=n.match(this.interpolator.nestingRegexp);y=_&&_.length}let w=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),n=this.interpolator.interpolate(n,w,o.lng||this.language,o),m){const _=n.match(this.interpolator.nestingRegexp),P=_&&_.length;y<P&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var _=arguments.length,P=new Array(_),L=0;L<_;L++)P[L]=arguments[L];return l&&l[0]===P[0]&&!o.context?(g.logger.warn(`It seems you are nesting recursively key: ${P[0]} in key: ${r[0]}`),null):g.translate(...P,r)},o)),o.interpolation&&this.interpolator.reset()}const h=o.postProcess||this.options.postProcess,c=typeof h=="string"?[h]:h;return n!=null&&c&&c.length&&o.applyPostProcessor!==!1&&(n=Js.handle(c,n,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),n}resolve(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,a,l,g,h;return typeof n=="string"&&(n=[n]),n.forEach(c=>{if(this.isValidLookup(o))return;const m=this.extractFromKey(c,r),y=m.key;a=y;let w=m.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const _=r.count!==void 0&&typeof r.count!="string",P=_&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),L=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",$=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);w.forEach(R=>{this.isValidLookup(o)||(h=R,!Ys[`${$[0]}-${R}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(h)&&(Ys[`${$[0]}-${R}`]=!0,this.logger.warn(`key "${a}" for languages "${$.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),$.forEach(M=>{if(this.isValidLookup(o))return;g=M;const B=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(B,y,M,R,r);else{let Y;_&&(Y=this.pluralResolver.getSuffix(M,r.count,r));const se=`${this.options.pluralSeparator}zero`,ge=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(B.push(y+Y),r.ordinal&&Y.indexOf(ge)===0&&B.push(y+Y.replace(ge,this.options.pluralSeparator)),P&&B.push(y+se)),L){const te=`${y}${this.options.contextSeparator}${r.context}`;B.push(te),_&&(B.push(te+Y),r.ordinal&&Y.indexOf(ge)===0&&B.push(te+Y.replace(ge,this.options.pluralSeparator)),P&&B.push(te+se))}}let ie;for(;ie=B.pop();)this.isValidLookup(o)||(l=ie,o=this.getResource(M,R,ie,r))}))})}),{res:o,usedKey:a,exactUsedKey:l,usedLng:g,usedNS:h}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,r,o,a):this.resourceStore.getResource(n,r,o,a)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=n.replace&&typeof n.replace!="string";let a=o?n.replace:n;if(o&&typeof n.count<"u"&&(a.count=n.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!o){a={...a};for(const l of r)delete a[l]}return a}static hasDefaultValue(n){const r="defaultValue";for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&r===o.substring(0,r.length)&&n[o]!==void 0)return!0;return!1}}function ti(s){return s.charAt(0).toUpperCase()+s.slice(1)}class Zs{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=at.create("languageUtils")}getScriptPartFromCode(n){if(n=Jn(n),!n||n.indexOf("-")<0)return null;const r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(n){if(n=Jn(n),!n||n.indexOf("-")<0)return n;const r=n.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(n){if(typeof n=="string"&&n.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let o=n.split("-");return this.options.lowerCaseLng?o=o.map(a=>a.toLowerCase()):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),r.indexOf(o[1].toLowerCase())>-1&&(o[1]=ti(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),r.indexOf(o[1].toLowerCase())>-1&&(o[1]=ti(o[1].toLowerCase())),r.indexOf(o[2].toLowerCase())>-1&&(o[2]=ti(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let r;return n.forEach(o=>{if(r)return;const a=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&n.forEach(o=>{if(r)return;const a=this.getLanguagePartFromCode(o);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Array.isArray(n))return n;if(!r)return n.default||[];let o=n[r];return o||(o=n[this.getScriptPartFromCode(r)]),o||(o=n[this.formatLanguageCode(r)]),o||(o=n[this.getLanguagePartFromCode(r)]),o||(o=n.default),o||[]}toResolveHierarchy(n,r){const o=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],l=g=>{g&&(this.isSupportedCode(g)?a.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return typeof n=="string"&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):typeof n=="string"&&l(this.formatLanguageCode(n)),o.forEach(g=>{a.indexOf(g)<0&&l(this.formatLanguageCode(g))}),a}}let Xf=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qf={1:function(s){return+(s>1)},2:function(s){return+(s!=1)},3:function(s){return 0},4:function(s){return s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2},5:function(s){return s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5},6:function(s){return s==1?0:s>=2&&s<=4?1:2},7:function(s){return s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2},8:function(s){return s==1?0:s==2?1:s!=8&&s!=11?2:3},9:function(s){return+(s>=2)},10:function(s){return s==1?0:s==2?1:s<7?2:s<11?3:4},11:function(s){return s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3},12:function(s){return+(s%10!=1||s%100==11)},13:function(s){return+(s!==0)},14:function(s){return s==1?0:s==2?1:s==3?2:3},15:function(s){return s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2},16:function(s){return s%10==1&&s%100!=11?0:s!==0?1:2},17:function(s){return s==1||s%10==1&&s%100!=11?0:1},18:function(s){return s==0?0:s==1?1:2},19:function(s){return s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3},20:function(s){return s==1?0:s==0||s%100>0&&s%100<20?1:2},21:function(s){return s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0},22:function(s){return s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3}};const Jf=["v1","v2","v3"],Yf=["v4"],js={zero:0,one:1,two:2,few:3,many:4,other:5};function Zf(){const s={};return Xf.forEach(n=>{n.lngs.forEach(r=>{s[r]={numbers:n.nr,plurals:qf[n.fc]}})}),s}class jf{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=r,this.logger=at.create("pluralResolver"),(!this.options.compatibilityJSON||Yf.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Zf()}addRule(n,r){this.rules[n]=r}getRule(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Jn(n==="dev"?"en":n),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(n,r);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}getPluralFormsOfKey(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,o).map(a=>`${r}${a}`)}getSuffixes(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(n,r);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((a,l)=>js[a]-js[l]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):o.numbers.map(a=>this.getSuffix(n,a,r)):[]}getSuffix(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(n,o);return a?this.shouldUseIntlApi()?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:this.getSuffixRetroCompatible(a,r):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,r){const o=n.noAbs?n.plurals(r):n.plurals(Math.abs(r));let a=n.numbers[o];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const l=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?l():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}shouldUseIntlApi(){return!Jf.includes(this.options.compatibilityJSON)}}function Qs(s,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=Uf(s,n,r);return!l&&a&&typeof r=="string"&&(l=ei(s,r,o),l===void 0&&(l=ei(n,r,o))),l}class Qf{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=at.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(r=>r),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:r,escapeValue:o,useRawValueToEscape:a,prefix:l,prefixEscaped:g,suffix:h,suffixEscaped:c,formatSeparator:m,unescapeSuffix:y,unescapePrefix:w,nestingPrefix:_,nestingPrefixEscaped:P,nestingSuffix:L,nestingSuffixEscaped:$,nestingOptionsSeparator:R,maxReplaces:M,alwaysFormat:B}=n.interpolation;this.escape=r!==void 0?r:Vf,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Xt(l):g||"{{",this.suffix=h?Xt(h):c||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=_?Xt(_):P||Xt("$t("),this.nestingSuffix=L?Xt(L):$||Xt(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=M||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(r,o)=>r&&r.source===o?(r.lastIndex=0,r):new RegExp(o,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,r,o,a){let l,g,h;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function m(L){return L.replace(/\$/g,"$$$$")}const y=L=>{if(L.indexOf(this.formatSeparator)<0){const B=Qs(r,c,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,o,{...a,...r,interpolationkey:L}):B}const $=L.split(this.formatSeparator),R=$.shift().trim(),M=$.join(this.formatSeparator).trim();return this.format(Qs(r,c,R,this.options.keySeparator,this.options.ignoreJSONStructure),M,o,{...a,...r,interpolationkey:R})};this.resetRegExp();const w=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,_=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>m(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?m(this.escape(L)):m(L)}].forEach(L=>{for(h=0;l=L.regex.exec(n);){const $=l[1].trim();if(g=y($),g===void 0)if(typeof w=="function"){const M=w(n,l,a);g=typeof M=="string"?M:""}else if(a&&Object.prototype.hasOwnProperty.call(a,$))g="";else if(_){g=l[0];continue}else this.logger.warn(`missed to pass in variable ${$} for interpolating ${n}`),g="";else typeof g!="string"&&!this.useRawValueToEscape&&(g=zs(g));const R=L.safeValue(g);if(n=n.replace(l[0],R),_?(L.regex.lastIndex+=g.length,L.regex.lastIndex-=l[0].length):L.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),n}nest(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,g;function h(c,m){const y=this.nestingOptionsSeparator;if(c.indexOf(y)<0)return c;const w=c.split(new RegExp(`${y}[ ]*{`));let _=`{${w[1]}`;c=w[0],_=this.interpolate(_,g);const P=_.match(/'/g),L=_.match(/"/g);(P&&P.length%2===0&&!L||L.length%2!==0)&&(_=_.replace(/'/g,'"'));try{g=JSON.parse(_),m&&(g={...m,...g})}catch($){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,$),`${c}${y}${_}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,c}for(;a=this.nestingRegexp.exec(n);){let c=[];g={...o},g=g.replace&&typeof g.replace!="string"?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;let m=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const y=a[1].split(this.formatSeparator).map(w=>w.trim());a[1]=y.shift(),c=y,m=!0}if(l=r(h.call(this,a[1].trim(),g),g),l&&a[0]===n&&typeof l!="string")return l;typeof l!="string"&&(l=zs(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${n}`),l=""),m&&(l=c.reduce((y,w)=>this.format(y,w,o.lng,{...o,interpolationkey:a[1].trim()}),l.trim())),n=n.replace(a[0],l),this.regexp.lastIndex=0}return n}}function ec(s){let n=s.toLowerCase().trim();const r={};if(s.indexOf("(")>-1){const o=s.split("(");n=o[0].toLowerCase().trim();const a=o[1].substring(0,o[1].length-1);n==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):n==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(g=>{if(g){const[h,...c]=g.split(":"),m=c.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();r[y]||(r[y]=m),m==="false"&&(r[y]=!1),m==="true"&&(r[y]=!0),isNaN(m)||(r[y]=parseInt(m,10))}})}return{formatName:n,formatOptions:r}}function qt(s){const n={};return function(o,a,l){const g=a+JSON.stringify(l);let h=n[g];return h||(h=s(Jn(a),l),n[g]=h),h(o)}}class tc{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=at.create("formatter"),this.options=n,this.formats={number:qt((r,o)=>{const a=new Intl.NumberFormat(r,{...o});return l=>a.format(l)}),currency:qt((r,o)=>{const a=new Intl.NumberFormat(r,{...o,style:"currency"});return l=>a.format(l)}),datetime:qt((r,o)=>{const a=new Intl.DateTimeFormat(r,{...o});return l=>a.format(l)}),relativetime:qt((r,o)=>{const a=new Intl.RelativeTimeFormat(r,{...o});return l=>a.format(l,o.range||"day")}),list:qt((r,o)=>{const a=new Intl.ListFormat(r,{...o});return l=>a.format(l)})},this.init(n)}init(n){const o=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||","}add(n,r){this.formats[n.toLowerCase().trim()]=r}addCached(n,r){this.formats[n.toLowerCase().trim()]=qt(r)}format(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((h,c)=>{const{formatName:m,formatOptions:y}=ec(c);if(this.formats[m]){let w=h;try{const _=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},P=_.locale||_.lng||a.locale||a.lng||o;w=this.formats[m](h,P,{...y,...a,..._})}catch(_){this.logger.warn(_)}return w}else this.logger.warn(`there was no format function for ${m}`);return h},n)}}function nc(s,n){s.pending[n]!==void 0&&(delete s.pending[n],s.pendingCount--)}class rc extends Xn{constructor(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=r,this.services=o,this.languageUtils=o.languageUtils,this.options=a,this.logger=at.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(o,a.backend,a)}queueLoad(n,r,o,a){const l={},g={},h={},c={};return n.forEach(m=>{let y=!0;r.forEach(w=>{const _=`${m}|${w}`;!o.reload&&this.store.hasResourceBundle(m,w)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?g[_]===void 0&&(g[_]=!0):(this.state[_]=1,y=!1,g[_]===void 0&&(g[_]=!0),l[_]===void 0&&(l[_]=!0),c[w]===void 0&&(c[w]=!0)))}),y||(h[m]=!0)}),(Object.keys(l).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(g),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(c)}}loaded(n,r,o){const a=n.split("|"),l=a[0],g=a[1];r&&this.emit("failedLoading",l,g,r),o&&this.store.addResourceBundle(l,g,o,void 0,void 0,{skipCopy:!0}),this.state[n]=r?-1:2;const h={};this.queue.forEach(c=>{Gf(c.loaded,[l],g),nc(c,n),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(m=>{h[m]||(h[m]={});const y=c.loaded[m];y.length&&y.forEach(w=>{h[m][w]===void 0&&(h[m][w]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(c=>!c.done)}read(n,r,o){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,g=arguments.length>5?arguments[5]:void 0;if(!n.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:r,fcName:o,tried:a,wait:l,callback:g});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(m&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,n,r,o,a+1,l*2,g)},l);return}g(m,y)},c=this.backend[o].bind(this.backend);if(c.length===2){try{const m=c(n,r);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return c(n,r,h)}prepareLoading(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof r=="string"&&(r=[r]);const l=this.queueLoad(n,r,o,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(g=>{this.loadOne(g)})}load(n,r,o){this.prepareLoading(n,r,{},o)}reload(n,r,o){this.prepareLoading(n,r,{reload:!0},o)}loadOne(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const o=n.split("|"),a=o[0],l=o[1];this.read(a,l,"read",void 0,void 0,(g,h)=>{g&&this.logger.warn(`${r}loading namespace ${l} for language ${a} failed`,g),!g&&h&&this.logger.log(`${r}loaded namespace ${l} for language ${a}`,h),this.loaded(n,g,h)})}saveMissing(n,r,o,a,l){let g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${o}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){const c={...g,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(n,r,o,a,c):y=m(n,r,o,a),y&&typeof y.then=="function"?y.then(w=>h(null,w)).catch(h):h(null,y)}catch(y){h(y)}else m(n,r,o,a,h,c)}!n||!n[0]||this.store.addResource(n[0],r,o,a)}}}function eo(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){let r={};if(typeof n[1]=="object"&&(r=n[1]),typeof n[1]=="string"&&(r.defaultValue=n[1]),typeof n[2]=="string"&&(r.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const o=n[3]||n[2];Object.keys(o).forEach(a=>{r[a]=o[a]})}return r},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function to(s){return typeof s.ns=="string"&&(s.ns=[s.ns]),typeof s.fallbackLng=="string"&&(s.fallbackLng=[s.fallbackLng]),typeof s.fallbackNS=="string"&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s}function Zn(){}function ic(s){Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(r=>{typeof s[r]=="function"&&(s[r]=s[r].bind(s))})}class Sn extends Xn{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=to(n),this.services={},this.logger=at,this.modules={external:[]},ic(this),r&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,r),this;setTimeout(()=>{this.init(n,r)},0)}}init(){var n=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(o=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=eo();this.options={...a,...this.options,...to(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function l(y){return y?typeof y=="function"?new y:y:null}if(!this.options.isClone){this.modules.logger?at.init(l(this.modules.logger),this.options):at.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=tc);const w=new Zs(this.options);this.store=new qs(this.options.resources,this.options);const _=this.services;_.logger=at,_.resourceStore=this.store,_.languageUtils=w,_.pluralResolver=new jf(w,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(_.formatter=l(y),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new Qf(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new rc(l(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",function(P){for(var L=arguments.length,$=new Array(L>1?L-1:0),R=1;R<L;R++)$[R-1]=arguments[R];n.emit(P,...$)}),this.modules.languageDetector&&(_.languageDetector=l(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=l(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Yn(this.services,this.options),this.translator.on("*",function(P){for(var L=arguments.length,$=new Array(L>1?L-1:0),R=1;R<L;R++)$[R-1]=arguments[R];n.emit(P,...$)}),this.modules.external.forEach(P=>{P.init&&P.init(this)})}if(this.format=this.options.interpolation.format,o||(o=Zn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return n.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return n.store[y](...arguments),n}});const c=yn(),m=()=>{const y=(w,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(_),o(w,_)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),c}loadResources(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zn;const a=typeof n=="string"?n:this.language;if(typeof n=="function"&&(o=n),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const l=[],g=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?g(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>g(c)),this.options.preload&&this.options.preload.forEach(h=>g(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(h)})}else o(null)}reloadResources(n,r,o){const a=yn();return n||(n=this.languages),r||(r=this.options.ns),o||(o=Zn),this.services.backendConnector.reload(n,r,l=>{a.resolve(),o(l)}),a}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Js.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let r=0;r<this.languages.length;r++){const o=this.languages[r];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}changeLanguage(n,r){var o=this;this.isLanguageChangingTo=n;const a=yn();this.emit("languageChanging",n);const l=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},g=(c,m)=>{m?(l(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,a.resolve(function(){return o.t(...arguments)}),r&&r(c,function(){return o.t(...arguments)})},h=c=>{!n&&!c&&this.services.languageDetector&&(c=[]);const m=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);m&&(this.language||l(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,y=>{g(y,m)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(n),a}getFixedT(n,r,o){var a=this;const l=function(g,h){let c;if(typeof h!="object"){for(var m=arguments.length,y=new Array(m>2?m-2:0),w=2;w<m;w++)y[w-2]=arguments[w];c=a.options.overloadTranslationOptionHandler([g,h].concat(y))}else c={...h};c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,c.keyPrefix=c.keyPrefix||o||l.keyPrefix;const _=a.options.keySeparator||".";let P;return c.keyPrefix&&Array.isArray(g)?P=g.map(L=>`${c.keyPrefix}${_}${L}`):P=c.keyPrefix?`${c.keyPrefix}${_}${g}`:g,a.t(P,c)};return typeof n=="string"?l.lng=n:l.lngs=n,l.ns=r,l.keyPrefix=o,l}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const g=(h,c)=>{const m=this.services.backendConnector.state[`${h}|${c}`];return m===-1||m===2};if(r.precheck){const h=r.precheck(this,g);if(h!==void 0)return h}return!!(this.hasResourceBundle(o,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(o,n)&&(!a||g(l,n)))}loadNamespaces(n,r){const o=yn();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{o.resolve(),r&&r(a)}),o):(r&&r(),Promise.resolve())}loadLanguages(n,r){const o=yn();typeof n=="string"&&(n=[n]);const a=this.options.preload||[],l=n.filter(g=>a.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return l.length?(this.options.preload=a.concat(l),this.loadResources(g=>{o.resolve(),r&&r(g)}),o):(r&&r(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Zs(eo());return r.indexOf(o.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Sn(n,r)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zn;const o=n.forkResourceStore;o&&delete n.forkResourceStore;const a={...this.options,...n,isClone:!0},l=new Sn(a);return(n.debug!==void 0||n.prefix!==void 0)&&(l.logger=l.logger.clone(n)),["store","services","language"].forEach(h=>{l[h]=this[h]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},o&&(l.store=new qs(this.store.data,a),l.services.resourceStore=l.store),l.translator=new Yn(l.services,a),l.translator.on("*",function(h){for(var c=arguments.length,m=new Array(c>1?c-1:0),y=1;y<c;y++)m[y-1]=arguments[y];l.emit(h,...m)}),l.init(a,r),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=Sn.createInstance();xe.createInstance=Sn.createInstance,xe.createInstance,xe.dir,xe.init,xe.loadResources,xe.reloadResources,xe.use,xe.changeLanguage,xe.getFixedT,xe.t,xe.exists,xe.setDefaultNamespace,xe.hasLoadedNamespace,xe.loadNamespaces,xe.loadLanguages;function Q(s){return he.isGeoStylerNumberFunction(s)?s:Number(s)}function $e(s){const{name:n}=s;return n==="pi"||n==="random"?[{Function:[],":@":{"@_name":n}}]:n==="property"?{PropertyName:[{"#text":s.args[0]}]}:[{Function:s.args.map(a=>{if(he.isGeoStylerFunction(a)){const l=$e(a);return Array.isArray(l)?l[0]:l}else return{Literal:[{"#text":a}]}}),":@":{"@_name":n}}]}function jn(s){var a,l;const n=(l=(a=s==null?void 0:s[0])==null?void 0:a[":@"])==null?void 0:l["@_name"],r=s==null?void 0:s[0].Function.map(g=>{var h,c,m,y;return g.Function?jn([g]):g.PropertyName?{name:"property",args:[(c=(h=g==null?void 0:g.PropertyName)==null?void 0:h[0])==null?void 0:c["#text"]]}:(y=(m=g==null?void 0:g.Literal)==null?void 0:m[0])==null?void 0:y["#text"]}),o={name:n};return r.length>0&&(o.args=r),o}function Ot(s,n){return s==null?void 0:s.filter(r=>Object.keys(r).includes(n))}function re(s,n,r){var l,g,h,c,m,y,w,_,P,L;if(!s)return;const o=r==="1.0.0"?"CssParameter":"SvgParameter",a=s.filter($=>{var R;return(R=Object.keys($))==null?void 0:R.includes(o)}).find($=>{var R;return((R=$==null?void 0:$[":@"])==null?void 0:R["@_name"])===n});return(g=(l=a==null?void 0:a[o])==null?void 0:l[0])!=null&&g.Function?jn(a==null?void 0:a[o]):(c=(h=a==null?void 0:a[o])==null?void 0:h[0])!=null&&c.Literal?(_=(w=(y=(m=a==null?void 0:a[o])==null?void 0:m[0])==null?void 0:y.Literal)==null?void 0:w[0])==null?void 0:_["#text"]:(L=(P=a==null?void 0:a[o])==null?void 0:P[0])==null?void 0:L["#text"]}function Jt(s,n){var r;return(r=s==null?void 0:s[":@"])==null?void 0:r[`@_${n}`]}function sc(s){return Object.keys(s).some(n=>n.endsWith("Symbolizer"))}function I(s,n,r){var c,m,y,w,_,P;const o=n.split(/\.(.*)/s);let a=o[0];const l=o[1];let g=s,h=0;if(l!=null&&l.startsWith("@"))return g=Ot(s,a)[h],Jt(g,l.substring(1));if(Array.isArray(s)){if(a==="#text"){if((c=g[0])!=null&&c.Function)return jn(g);if((m=g[0])!=null&&m.Literal)return(_=(w=(y=g[0])==null?void 0:y.Literal)==null?void 0:w[0])==null?void 0:_["#text"]}if(a==="#text"&&((P=g[0])!=null&&P.Function))return jn(g);if(a.startsWith("$")&&r)return re(g,a.substring(1),r);a.endsWith("]")&&(h=Number(a.split("[")[1].split("]")[0]),a=a.split("[")[0]),g=Ot(s,a)[h]}if(g)return l?I(g[a],l,r):g[a]}function no(s,n){return Object.keys(s).filter(r=>s[r]===n)}const ro=["1.0.0","1.1.0"],io=/^ttf:\/\/(.+)#(.+)$/,ni={PropertyIsEqualTo:"==",PropertyIsNotEqualTo:"!=",PropertyIsLike:"*=",PropertyIsLessThan:"<",PropertyIsLessThanOrEqualTo:"<=",PropertyIsGreaterThan:">",PropertyIsGreaterThanOrEqualTo:">=",PropertyIsNull:"==",PropertyIsBetween:"<=x<="},so={Not:"!"},ri={And:"&&",Or:"||",PropertyIsBetween:"&&"},oo={en:{marksymbolizerParseFailedUnknownWellknownName:"MarkSymbolizer cannot be parsed. WellKnownName {{wellKnownName}} is not supported.",noFilterDetected:"No Filter detected.",symbolizerKindParseFailed:"Failed to parse SymbolizerKind {{sldSymbolizerName}} from SldRule.",colorMapEntriesParseFailedColorUndefined:"Cannot parse ColorMapEntries. color is undefined.",contrastEnhancParseFailedHistoAndNormalizeMutuallyExclusive:"Cannot parse ContrastEnhancement. Histogram and Normalize are mutually exclusive.",channelSelectionParseFailedRGBAndGrayscaleMutuallyExclusive:"Cannot parse ChannelSelection. RGB and Grayscale are mutually exclusive.",channelSelectionParseFailedRGBChannelsUndefined:"Cannot parse ChannelSelection. Red, Green and Blue channels must be defined."},de:{},fr:{marksymbolizerParseFailedUnknownWellknownName:"Échec de lecture du symbole de type MarkSymbolizer. Le WellKnownName {{wellKnownName}} n'est pas supporté.",noFilterDetected:"Aucun filtre détecté.",symbolizerKindParseFailed:"Échec de lecture du type de symbole {{sldSymbolizerName}} à partir de SldRule.",colorMapEntriesParseFailedColorUndefined:"Lecture de ColorMapEntries échoué. color n'est pas défini.",contrastEnhancParseFailedHistoAndNormalizeMutuallyExclusive:"Échec de lecture des propriétés de contraste ContrastEnhancement échoué. Histogram et Normalize sont mutuellement exclusifs.",channelSelectionParseFailedRGBAndGrayscaleMutuallyExclusive:"Échec de lecture de la sélection de canaux ChannelSelection. RGB et Grayscale sont mutuellement exclusifs.",channelSelectionParseFailedRGBChannelsUndefined:"Échec de lecture de la sélection de canaux ChannelSelection. Les canaux Rouge, Vert et Bleu doivent être définis."}};class ii{constructor(n){this.title="SLD Style Parser",this.unsupportedProperties={Symbolizer:{MarkSymbolizer:{avoidEdges:"none",blur:"none",offset:{support:"partial",info:"Only supported for SLD Version 1.1.0"},offsetAnchor:"none",pitchAlignment:"none",pitchScale:"none",visibility:"none"},FillSymbolizer:{antialias:"none",opacity:{support:"none",info:"General opacity is not supported. Use fillOpacity and strokeOpacity instead."},visibility:"none"},IconSymbolizer:{allowOverlap:"none",anchor:"none",avoidEdges:"none",color:"none",haloBlur:"none",haloColor:"none",haloOpacity:"none",haloWidth:"none",keepUpright:"none",offset:{support:"partial",info:"Only supported for SLD Version 1.1.0"},offsetAnchor:"none",optional:"none",padding:"none",pitchAlignment:"none",rotationAlignment:"none",textFit:"none",image:{support:"partial",info:"Sprites are not supported"},textFitPadding:"none",visibility:"none"},LineSymbolizer:{blur:"none",gapWidth:"none",gradient:"none",miterLimit:"none",roundLimit:"none",spacing:"none",visibility:"none"},RasterSymbolizer:{brightnessMax:"none",brightnessMin:"none",contrast:"none",fadeDuration:"none",hueRotate:"none",resampling:"none",saturation:"none",visibility:"none"},TextSymbolizer:{placement:{support:"partial",info:'Only "line" and "point" are currently supported'}}}},this.translations=oo,this.locale="en",this._numericFilterFields=[],this._boolFilterFields=[],this._sldVersion="1.0.0",this._readingSldVersion="1.0.0",this._symbolizerUnits="pixel",this.getTextSymbolizerLabelFromSldSymbolizer=r=>r.map(a=>{var g,h,c,m,y,w;const l=Object.keys(a)[0];switch(l.replace("ogc:","")){case"#text":return a["#text"];case"Literal":return((h=(g=a==null?void 0:a[l])==null?void 0:g[0])==null?void 0:h["#text"])||((w=(y=(m=(c=a==null?void 0:a[l])==null?void 0:c[0])==null?void 0:m["#cdata"])==null?void 0:y[0])==null?void 0:w["#text"]);case"PropertyName":return`{{${a[l][0]["#text"]}}}`;default:return""}}).join(""),this.getSldLabelFromTextSymbolizer=r=>{if(!(typeof r=="string"||r instanceof String))return;const o="{{",a="}}",l=[];let g=r;for(;g.length;){let h=g,c;const m=h.indexOf(o);if(m===-1){g.includes(" ")?l.push({"ogc:Literal":[{"#cdata":[{"#text":g}]}]}):l.push({"ogc:Literal":[{"#text":g}]});break}m>0&&(c=h.slice(0,m)),h=h.slice(m+o.length);const y=h.indexOf(a);if(y===-1){g.includes(" ")?l.push({"ogc:Literal":[{"#cdata":[{"#text":g}]}]}):l.push({"ogc:Literal":[{"#text":g}]});break}const w=h.slice(0,y);h=h.slice(y+a.length),c&&(c.includes(" ")?l.push({"ogc:Literal":[{"#cdata":[{"#text":c}]}]}):l.push({"ogc:Literal":[{"#text":c}]})),l.push({"ogc:PropertyName":[{"#text":w}]}),g=h}return l},this.parser=new Hs.XMLParser({...n==null?void 0:n.parserOptions,cdataPropName:"#cdata",ignoreDeclaration:!0,removeNSPrefix:!0,ignoreAttributes:!1,preserveOrder:!0,trimValues:!0}),this.builder=new Hs.XMLBuilder({...n==null?void 0:n.builderOptions,cdataPropName:"#cdata",ignoreAttributes:!1,suppressEmptyNode:!0,preserveOrder:!0}),n!=null&&n.sldVersion&&(this.sldVersion=n==null?void 0:n.sldVersion),n!=null&&n.locale&&(this.locale=n.locale),n!=null&&n.translations&&(this.translations=K.merge(this.translations,n.translations)),xe.init({lng:this.locale,resources:{en:{translation:this.translations.en},de:{translation:this.translations.de},fr:{translation:this.translations.fr}}}),Object.assign(this,n)}translate(n,r){return xe.t(n,r)}get parser(){return this._parser}set parser(n){this._parser=n}get builder(){return this._builder}set builder(n){this._builder=n}get numericFilterFields(){return this._numericFilterFields}set numericFilterFields(n){this._numericFilterFields=n}get boolFilterFields(){return this._boolFilterFields}set boolFilterFields(n){this._boolFilterFields=n}get sldVersion(){return this._sldVersion}set sldVersion(n){this._sldVersion=n}get readingSldVersion(){return this._readingSldVersion}set readingSldVersion(n){this._readingSldVersion=n}get symbolizerUnits(){return this._symbolizerUnits}set symbolizerUnits(n){this._symbolizerUnits=n}readStyle(n){return new Promise(r=>{try{const o=this.parser.parse(n),a=Jt(o[0],"version");if(!ro.includes(a))throw new Error(`SLD version must be ${ro.toString()}`);this._readingSldVersion=a;const l=this.sldObjectToGeoStylerStyle(o);r({output:l})}catch(o){r({errors:[o]})}})}sldObjectToGeoStylerStyle(n){const r=this.getRulesFromSldObject(n);return{name:this.getStyleNameFromSldObject(n),rules:r}}getRulesFromSldObject(n){const r=Ot(n[0].StyledLayerDescriptor,"NamedLayer"),o=[];return r.forEach(({NamedLayer:a})=>{Ot(a,"UserStyle").forEach(({UserStyle:l})=>{Ot(l,"FeatureTypeStyle").forEach(({FeatureTypeStyle:g})=>{Ot(g,"Rule").forEach(({Rule:h})=>{const c=this.getFilterFromRule(h),m=this.getScaleDenominatorFromRule(h),y=this.getSymbolizersFromRule(h),w=I(h,"Title.#text"),_=I(h,"Name.#text"),L={name:w!==void 0?w:_!==void 0?_:""};c&&(L.filter=c),m&&(L.scaleDenominator=m),y&&(L.symbolizers=y),o.push(L)})})})}),o}getStyleNameFromSldObject(n){const r=I(n,"StyledLayerDescriptor.NamedLayer[0].UserStyle.Name.#text"),o=I(n,"StyledLayerDescriptor.NamedLayer.Name.#text");return r||o||""}getFilterFromRule(n){var l;const r=I(n,"Filter");if(!r||r.length===0)return;const o=(l=Object.keys(r[0]))==null?void 0:l[0];return o?this.getFilterFromOperatorAndComparison(o,r):void 0}getScaleDenominatorFromRule(n){const r={},o=I(n,"MinScaleDenominator.#text");o&&(r.min=Number(o));const a=I(n,"MaxScaleDenominator.#text");return a&&(r.max=Number(a)),r.min||r.max?r:void 0}getSymbolizersFromRule(n){return n.filter(sc).map(o=>{const a=Object.keys(o)[0];switch(a){case"PointSymbolizer":return this.getPointSymbolizerFromSldSymbolizer(o.PointSymbolizer);case"LineSymbolizer":return this.getLineSymbolizerFromSldSymbolizer(o.LineSymbolizer);case"TextSymbolizer":return this.getTextSymbolizerFromSldSymbolizer(o.TextSymbolizer);case"PolygonSymbolizer":return this.getFillSymbolizerFromSldSymbolizer(o.PolygonSymbolizer);case"RasterSymbolizer":return this.getRasterSymbolizerFromSldSymbolizer(o.RasterSymbolizer);default:throw new Error(this.translate("symbolizerKindParseFailed",{sldSymbolizerName:a}))}})}getFilterFromOperatorAndComparison(n,r){var a;let o;if(n==="Function"){const l=r[0][":@"]["@_name"];n=`PropertyIs${l.charAt(0).toUpperCase()+l.slice(1)}`}if(n==="PropertyIsBetween"){const l=I(r,"PropertyIsBetween.PropertyName.#text"),g=Number(I(r,"PropertyIsBetween.LowerBoundary.Literal.#text")),h=Number(I(r,"PropertyIsBetween.UpperBoundary.Literal.#text"));o=["<=x<=",l,g,h]}else if(Object.keys(ni).includes(n)){const l=ni[n],g=!!I(r,"Function");let h=[];const c=y=>I([y],"#text")!==void 0?I([y],"#text"):I([y],"PropertyName.#text");h=(I(r,g?"Function":n)||[]).map(c),n==="PropertyIsNull"&&(h[1]=null),o=[l,...h]}else if(Object.keys(ri).includes(n)){const l=ri[n],g=(a=I(r,n))==null?void 0:a.map(h=>{var m;const c=(m=Object.keys(h))==null?void 0:m[0];return this.getFilterFromOperatorAndComparison(c,h)});o=[l,...g]}else if(Object.keys(so).includes(n)){const l=so[n],g=Object.keys(r[n][0])[0],h=r[n][0],c=this.getFilterFromOperatorAndComparison(g,h);o=[l,c]}else throw new Error(this.translate("noFilterDetected"));return o}getPointSymbolizerFromSldSymbolizer(n){let r;return I(n,"Graphic.Mark.WellKnownName.#text"),I(n,"Graphic.ExternalGraphic")?r=this.getIconSymbolizerFromSldSymbolizer(n):r=this.getMarkSymbolizerFromSldSymbolizer(n),r}getLineSymbolizerFromSldSymbolizer(n){const r={kind:"Line"},o=I(n,"Stroke",this.readingSldVersion),a=re(o,"stroke",this.readingSldVersion),l=re(o,"stroke-width",this.readingSldVersion),g=re(o,"stroke-opacity",this.readingSldVersion),h=re(o,"stroke-linejoin",this.readingSldVersion),c=re(o,"stroke-linecap",this.readingSldVersion),m=re(o,"stroke-dasharray",this.readingSldVersion),y=re(o,"stroke-dashoffset",this.readingSldVersion);if(K.isNil(a)||(r.color=a),K.isNil(l)||(r.width=Q(l)),K.isNil(g)||(r.opacity=Q(g)),K.isNil(h)||(h==="mitre"?r.join="miter":r.join=h),K.isNil(c)||(r.cap=c),!K.isNil(m)){const L=m.split(" ").map(Q);r.dasharray=L}K.isNil(y)||(r.dashOffset=Q(y));const w=I(o,"GraphicStroke");K.isNil(w)||(r.graphicStroke=this.getPointSymbolizerFromSldSymbolizer(w));const _=I(o,"GraphicFill");K.isNil(_)||(r.graphicFill=this.getPointSymbolizerFromSldSymbolizer(_));const P=I(n,"PerpendicularOffset.#text");return K.isNil(P)||(r.perpendicularOffset=Q(P)),r}getTextSymbolizerFromSldSymbolizer(n){const r={kind:"Text"},o=I(n,"Font"),a=I(n,"Fill"),l=I(n,"Label"),g=I(n,"Halo"),h=I(g,"Fill"),c=re(a,"fill",this.readingSldVersion),m=re(a,"fill-opacity",this.readingSldVersion),y=re(o,"font-family",this.readingSldVersion),w=re(o,"font-style",this.readingSldVersion),_=re(o,"font-size",this.readingSldVersion),P=re(o,"font-weight",this.readingSldVersion),L=re(h,"fill",this.readingSldVersion);K.isNil(l)||(r.label=this.getTextSymbolizerLabelFromSldSymbolizer(l)),r.color=c||"#000000",r.opacity=m?Q(m):1;const $=I(n,"Halo.Radius.#text");K.isNil($)||(r.haloWidth=Q($));const R=re(h,"fill-opacity",this.readingSldVersion);K.isNil(R)||(r.haloOpacity=Q(R)),K.isNil(L)||(r.haloColor=L);const M=I(n,"LabelPlacement");if(!K.isNil(M)){const B=I(M,"PointPlacement"),ie=I(M,"LinePlacement");if(K.isNil(B))K.isNil(ie)||(r.placement="line");else{r.placement="point";const Y=I(B,"Displacement");if(!K.isNil(Y)){const ge=I(Y,"DisplacementX.#text"),te=I(Y,"DisplacementY.#text");r.offset=[Number.isFinite(ge)?Q(ge):0,Number.isFinite(te)?-Q(te):0]}const se=I(B,"Rotation.#text");K.isNil(se)||(r.rotate=Q(se))}}return K.isNil(y)||(r.font=[y]),K.isNil(w)||(r.fontStyle=w.toLowerCase()),K.isNil(P)||(r.fontWeight=P.toLowerCase()),K.isNil(_)||(r.size=Q(_)),r}getFillSymbolizerFromSldSymbolizer(n){const r={kind:"Fill"},o=I(n,"Stroke"),a=I(n,"Fill"),l=re(a,"fill-opacity",this.readingSldVersion),g=re(a,"fill",this.readingSldVersion),h=re(o,"stroke",this.readingSldVersion),c=re(o,"stroke-width",this.readingSldVersion),m=re(o,"stroke-opacity",this.readingSldVersion),y=re(o,"stroke-dasharray",this.readingSldVersion),w=re(o,"stroke-linecap",this.readingSldVersion),_=re(o,"stroke-linejoin",this.readingSldVersion),P=I(n,"Fill.GraphicFill");return K.isNil(P)||(r.graphicFill=this.getPointSymbolizerFromSldSymbolizer(P)),K.isNil(g)||(r.color=g),K.isNil(l)||(r.fillOpacity=Q(l)),K.isNil(h)||(r.outlineColor=h),K.isNil(c)||(r.outlineWidth=Q(c)),K.isNil(m)||(r.outlineOpacity=Q(m)),K.isNil(y)||(r.outlineDasharray=y.split(" ").map(Q)),K.isNil(w)||(r.outlineCap=w),K.isNil(_)||(r.outlineJoin=_),r}getRasterSymbolizerFromSldSymbolizer(n){const r={kind:"Raster"};let o=I(n,"Opacity.#text");K.isNil(o)||(o=Q(o),r.opacity=o);const a=I(n,"ColorMap"),l=I(n,"ColorMap.@type"),g=I(n,"ColorMap.@extended");if(!K.isNil(a)){const m=this.getColorMapFromSldColorMap(a,l,g);r.colorMap=m}const h=I(n,"ChannelSelection");if(!K.isNil(h)){const m=this.getChannelSelectionFromSldChannelSelection(h);r.channelSelection=m}const c=I(n,"ContrastEnhancement");if(!K.isNil(c)){const m=this.getContrastEnhancementFromSldContrastEnhancement(c);r.contrastEnhancement=m}return r}getMarkSymbolizerFromSldSymbolizer(n){const r=I(n,"Graphic.Mark.WellKnownName.#text"),o=I(n,"Graphic.Mark.Stroke"),a=I(n,"Graphic.Mark.Fill"),l=I(n,"Graphic.Opacity.#text"),g=I(n,"Graphic.Size.#text"),h=I(n,"Graphic.Rotation.#text"),c=re(a,"fill-opacity",this.readingSldVersion),m=re(a,"fill",this.readingSldVersion),y=I(n,"Graphic.Displacement"),w={kind:"Mark",wellKnownName:"circle"};if(K.isNil(l)||(w.opacity=Q(l)),K.isNil(c)||(w.fillOpacity=Q(c)),K.isNil(m)||(w.color=m),K.isNil(h)||(w.rotate=Q(h)),K.isNil(g)||(w.radius=he.isGeoStylerNumberFunction(g)?g:Number(g)/2),y){const $=I(y,"DisplacementX.#text"),R=I(y,"DisplacementY.#text");w.offset=[Number.isFinite($)?Q($):0,Number.isFinite(R)?Q(R):0]}switch(r){case"circle":case"square":case"triangle":case"star":case"cross":case"x":case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":w.wellKnownName=r;break;default:if(io.test(r)){w.wellKnownName=r;break}throw new Error(this.translate("marksymbolizerParseFailedUnknownWellknownName",{wellKnownName:r}))}const _=re(o,"stroke",this.readingSldVersion);K.isNil(_)||(w.strokeColor=_);const P=re(o,"stroke-width",this.readingSldVersion);K.isNil(P)||(w.strokeWidth=Q(P));const L=re(o,"stroke-opacity",this.readingSldVersion);return K.isNil(L)||(w.strokeOpacity=Q(L)),w}getIconSymbolizerFromSldSymbolizer(n){const o={kind:"Icon",image:I(n,"Graphic.ExternalGraphic.OnlineResource.@href")},a=I(n,"Graphic.Opacity.#text"),l=I(n,"Graphic.Size.#text"),g=I(n,"Graphic.Rotation.#text"),h=I(n,"Graphic.Displacement");if(K.isNil(a)||(o.opacity=Q(a)),K.isNil(l)||(o.size=Q(l)),K.isNil(g)||(o.rotate=Q(g)),h){const c=I(h,"DisplacementX.#text"),m=I(h,"DisplacementY.#text");o.offset=[Number.isFinite(c)?Q(c):0,Number.isFinite(m)?Q(m):0]}return o}getColorMapFromSldColorMap(n,r="ramp",o){const a={type:r};o&&(o==="true"?a.extended=!0:a.extended=!1);const l=Ot(n,"ColorMapEntry");if(Array.isArray(l)){const g=l.map(h=>{const c=Jt(h,"color");if(!c)throw new Error(this.translate("colorMapEntriesParseFailedColorUndefined"));let m=Jt(h,"quantity");m&&(m=Q(m));const y=Jt(h,"label");let w=Jt(h,"opacity");return w&&(w=Q(w)),{color:c,quantity:m,label:y,opacity:w}});a.colorMapEntries=g}return a}getContrastEnhancementFromSldContrastEnhancement(n){const r={},o=!!I(n,"Histogram"),a=!!I(n,"Normalize");if(o&&a)throw new Error(this.translate("contrastEnhancParseFailedHistoAndNormalizeMutuallyExclusive"));o?r.enhancementType="histogram":a&&(r.enhancementType="normalize");let l=I(n,"GammaValue.#text");return l&&(l=Q(l)),r.gammaValue=l,r}getChannelFromSldChannel(n){var l;const o={sourceChannelName:(l=I(n,"SourceChannelName.#text"))==null?void 0:l.toString()},a=I(n,"ContrastEnhancement");return a&&(o.contrastEnhancement=this.getContrastEnhancementFromSldContrastEnhancement(a)),o}getChannelSelectionFromSldChannelSelection(n){let r;const o=I(n,"RedChannel"),a=I(n,"BlueChannel"),l=I(n,"GreenChannel"),g=I(n,"GrayChannel");if(g&&o&&a&&l)throw new Error(this.translate("channelSelectionParseFailedRGBAndGrayscaleMutuallyExclusive"));if(g)r={grayChannel:this.getChannelFromSldChannel(g)};else if(o&&l&&a){const h=this.getChannelFromSldChannel(o),c=this.getChannelFromSldChannel(a),m=this.getChannelFromSldChannel(l);r={redChannel:h,blueChannel:c,greenChannel:m}}else throw new Error(this.translate("channelSelectionParseFailedRGBChannelsUndefined"));return r}writeStyle(n){return new Promise(r=>{const o=this.checkForUnsupportedProperties(n);try{const a=this.geoStylerStyleToSldObject(n),l=this.builder.build(a);r({output:l,unsupportedProperties:o,warnings:o&&["Your style contains unsupportedProperties!"]})}catch(a){r({errors:[a]})}})}getTagName(n){return["Filter"].includes(n)?n:n==="CssParameter"?this.sldVersion==="1.1.0"?"se:SvgParameter":"CssParameter":this.sldVersion==="1.1.0"?`se:${n}`:n}geoStylerStyleToSldObject(n){const r=this.getSldRulesFromRules(n.rules);r.forEach(m=>{const y=I(m,this.getTagName("Rule")),w=Ot(y,"Filter").at(0);w&&(w[":@"]={"@_xmlns":"http://www.opengis.net/ogc"})});const o=[...r],a=this.getTagName("Name"),l=this.getTagName("Title"),g=this.getTagName("FeatureTypeStyle"),h={"@_version":this.sldVersion,"@_xsi:schemaLocation":"http://www.opengis.net/sld StyledLayerDescriptor.xsd","@_xmlns":"http://www.opengis.net/sld","@_xmlns:ogc":"http://www.opengis.net/ogc","@_xmlns:xlink":"http://www.w3.org/1999/xlink","@_xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","@_xmlns:se":"http://www.opengis.net/se"},c=[];return c.push({[a]:[{"#text":n.name||""}]}),this.sldVersion==="1.0.0"&&c.push({[l]:[{"#text":n.name||""}]}),c.push({[g]:o}),[{"?xml":[{"#text":""}],":@":{"@_version":"1.0","@_encoding":"UTF-8","@_standalone":"yes"}},{StyledLayerDescriptor:[{NamedLayer:[{[a]:[{"#text":n.name||""}]},{UserStyle:c}]}],":@":h}]}getSldRulesFromRules(n){const r=this.getTagName("Name"),o=this.getTagName("Filter"),a=this.getTagName("Rule"),l=this.getTagName("MinScaleDenominator"),g=this.getTagName("MaxScaleDenominator");return n.map(h=>{const c={[a]:[]};if(h.name&&c[a].push({[r]:[{"#text":h.name}]}),h.filter){const w=this.getSldFilterFromFilter(h.filter);c[a].push({[o]:w})}if(h.scaleDenominator){const{min:w,max:_}=h.scaleDenominator;w&&Number.isFinite(w)&&c[a].push({[l]:[{"#text":w}]}),_&&Number.isFinite(_)&&c[a].push({[g]:[{"#text":_}]})}const m=this.getSldSymbolizersFromSymbolizers(h.symbolizers);let y=[];return m.length>0&&(y=Object.keys(m[0])),y.forEach(w=>{m[0][w].length===0&&delete m[0][w]}),m.length>0&&y.length!==0&&(c[a]=[...c[a],...m]),c})}getSldComparisonFilterFromComparisonFilter(n){const r=[],o=n[0],a=n[1],l=n[2],g=no(ni,o),h=g.length>1&&l===null?g[1]:g[0],c="PropertyName";if(he.isGeoStylerFunction(a)||he.isGeoStylerFunction(l)){const m=h.replace("PropertyIs",""),y=m.charAt(0).toLowerCase()+m.slice(1),w=he.isGeoStylerFunction(a)?$e(a):a,_=he.isGeoStylerFunction(l)?$e(l):l,P=[];return he.isGeoStylerFunction(a)?P.unshift(w==null?void 0:w[0]):P.unshift({Literal:[{"#text":w}]}),he.isGeoStylerFunction(l)?P.push(_==null?void 0:_[0]):P.push({Literal:[{"#text":_}]}),[{Function:P,":@":{"@_name":y}}]}if(h==="PropertyIsNull")r.push({[h]:[{[c]:[{"#text":a}]}]});else if(h==="PropertyIsLike")r.push({[h]:[{[c]:[{"#text":a}]},{Literal:[{"#text":l}]}],":@":{"@_wildCard":"*","@_singleChar":".","@_escape":"!"}});else if(h==="PropertyIsBetween"){const m=n;r.push({[h]:[{[c]:[{"#text":a}]},{LowerBoundary:[{Literal:[{"#text":m[2]}]}]},{UpperBoundary:[{Literal:[{"#text":m[3]}]}]}]})}else r.push({[h]:[{[c]:[{"#text":a}]},{Literal:[{"#text":l}]}]});return r}getSldFilterFromFilter(n){let r=[];if(he.isComparisonFilter(n))r=this.getSldComparisonFilterFromComparisonFilter(n);else if(he.isNegationFilter(n))r.push({Not:this.getSldFilterFromFilter(n[1])});else if(he.isCombinationFilter(n)){const[o,...a]=n,g=no(ri,o)[0],h=a.map(c=>this.getSldFilterFromFilter(c)[0]);r.push({[g]:h})}return r}getSldSymbolizersFromSymbolizers(n){const r=[],o=this.getTagName("PointSymbolizer"),a=this.getTagName("TextSymbolizer"),l=this.getTagName("LineSymbolizer"),g=this.getTagName("PolygonSymbolizer"),h=this.getTagName("RasterSymbolizer");return n.forEach(c=>{const m={};let y;switch(c.kind){case"Mark":y=this.getSldPointSymbolizerFromMarkSymbolizer(c),m[o]=y;break;case"Icon":y=this.getSldPointSymbolizerFromIconSymbolizer(c),m[o]=y;break;case"Text":y=this.getSldTextSymbolizerFromTextSymbolizer(c),m[a]=y;break;case"Line":y=this.getSldLineSymbolizerFromLineSymbolizer(c),m[l]=y;break;case"Fill":y=this.getSldPolygonSymbolizerFromFillSymbolizer(c),m[g]=y;break;case"Raster":y=this.getSldRasterSymbolizerFromRasterSymbolizer(c),m[h]=y;break}r.push(m)}),r}getSldPointSymbolizerFromMarkSymbolizer(n){const r=this.getTagName("WellKnownName"),o=this.getTagName("CssParameter"),a=this.getTagName("Fill"),l=this.getTagName("Mark"),g=this.getTagName("Stroke"),h=this.getTagName("Opacity"),c=this.getTagName("Rotation"),m=this.getTagName("Size"),y=this.getTagName("Graphic"),w=this.getTagName("Displacement"),_=this.getTagName("DisplacementX"),P=this.getTagName("DisplacementY"),L=io.test(n.wellKnownName),$=[{[r]:[{"#text":L?n.wellKnownName:n.wellKnownName.toLowerCase()}]}];if(n.color||n.fillOpacity){const M=[];if(n.color)if(he.isGeoStylerFunction(n.color)){const B=$e(n.color);M.push({[o]:B,":@":{"@_name":"fill"}})}else M.push({[o]:[{"#text":n.color}],":@":{"@_name":"fill"}});if(n.fillOpacity)if(he.isGeoStylerFunction(n.fillOpacity)){const B=$e(n.fillOpacity);M.push({[o]:B,":@":{"@_name":"fill-opacity"}})}else M.push({[o]:[{"#text":n.fillOpacity}],":@":{"@_name":"fill-opacity"}});$.push({[a]:M})}if(n.strokeColor||n.strokeWidth||n.strokeOpacity){const M=[];if(n.strokeColor)if(he.isGeoStylerFunction(n.strokeColor)){const B=$e(n.strokeColor);M.push({[o]:B,":@":{"@_name":"stroke"}})}else M.push({[o]:[{"#text":n.strokeColor}],":@":{"@_name":"stroke"}});if(n.strokeWidth)if(he.isGeoStylerFunction(n.strokeWidth)){const B=$e(n.strokeWidth);M.push({[o]:B,":@":{"@_name":"stroke-width"}})}else M.push({[o]:[{"#text":n.strokeWidth}],":@":{"@_name":"stroke-width"}});if(n.strokeOpacity)if(he.isGeoStylerFunction(n.strokeOpacity)){const B=$e(n.strokeOpacity);M.push({[o]:B,":@":{"@_name":"stroke-opacity"}})}else M.push({[o]:[{"#text":n.strokeOpacity}],":@":{"@_name":"stroke-opacity"}});$.push({[g]:M})}const R=[{[l]:$}];return n.opacity&&R.push({[h]:[{"#text":n.opacity.toString()}]}),n.radius!==void 0&&(he.isGeoStylerFunction(n.radius)?R.push({[m]:$e(n.radius)}):R.push({[m]:[{"#text":(n.radius*2).toString()}]})),n.rotate&&R.push({[c]:[{"#text":n.rotate.toString()}]}),n.offset&&this.sldVersion==="1.1.0"&&R.push({[w]:[{[_]:[{"#text":n.offset[0].toString()}]},{[P]:[{"#text":n.offset[1].toString()}]}]}),[{[y]:R}]}getSldPointSymbolizerFromIconSymbolizer(n){const r=this.getTagName("ExternalGraphic"),o=this.getTagName("Format"),a=this.getTagName("OnlineResource"),l=this.getTagName("Opacity"),g=this.getTagName("Rotation"),h=this.getTagName("Size"),c=this.getTagName("Graphic"),m=this.getTagName("Displacement"),y=this.getTagName("DisplacementX"),w=this.getTagName("DisplacementY"),_=[{[r]:[{[a]:[],":@":{"@_xlink:type":"simple","@_xmlns:xlink":"http://www.w3.org/1999/xlink","@_xlink:href":n.image}}]}];if(typeof n.image=="string"||n.image instanceof String){const P=n.image.split(".").pop();switch(P){case"png":case"jpeg":case"gif":_[0][r][0][o]=[`image/${P}`];break;case"jpg":_[0][r][0][o]=["image/jpeg"];break;case"svg":_[0][r][0][o]=["image/svg+xml"];break}}return n.opacity&&_.push({[l]:[{"#text":n.opacity}]}),n.size&&_.push({[h]:[{"#text":n.size}]}),n.rotate&&_.push({[g]:[{"#text":n.rotate}]}),n.offset&&this.sldVersion==="1.1.0"&&_.push({[m]:[{[y]:[{"#text":n.offset[0].toString()}]},{[w]:[{"#text":n.offset[1].toString()}]}]}),[{[c]:_}]}getSldTextSymbolizerFromTextSymbolizer(n){const r=this.getTagName("CssParameter"),o=this.getTagName("Fill"),a=this.getTagName("Halo"),l=this.getTagName("Font"),g=this.getTagName("Displacement"),h=this.getTagName("DisplacementX"),c=this.getTagName("DisplacementY"),m=this.getTagName("LabelPlacement"),y=this.getTagName("PointPlacement"),w=this.getTagName("LinePlacement"),_=this.getTagName("Rotation"),P=this.getTagName("Radius"),$=[{[this.getTagName("Label")]:n.label?this.getSldLabelFromTextSymbolizer(n.label):void 0}],R={font:"font-family",size:"font-size",fontStyle:"font-style",fontWeight:"font-weight"},M=Object.keys(n).filter(B=>B!=="kind"&&R[B]).map(B=>{var ie;if(he.isGeoStylerFunction(n[B])){const Y=$e(n[B]);return{[r]:Y,":@":{"@_name":R[B]}}}else return{[r]:[{"#text":B==="font"?(ie=n[B])==null?void 0:ie[0]:n[B]}],":@":{"@_name":R[B]}}});if(M.length>0&&$.push({[l]:M}),n.placement==="line")$.push({[m]:[{[w]:[]}]});else if(n.offset||n.rotate!==void 0||n.placement==="point"){const B=[];n.offset&&B.push({[g]:[{[h]:[{"#text":n.offset[0].toString()}]},{[c]:[{"#text":(-n.offset[1]).toString()}]}]}),n.rotate!==void 0&&B.push({[_]:[{"#text":n.rotate.toString()}]}),$.push({[m]:[{[y]:B}]})}if(n.haloWidth||n.haloColor){const B=[],ie=[];n.haloWidth&&B.push({[P]:[{"#text":n.haloWidth.toString()}]}),n.haloColor&&ie.push({[r]:[{"#text":n.haloColor}],":@":{"@_name":"fill"}}),n.haloOpacity&&ie.push({[r]:[{"#text":n.haloOpacity}],":@":{"@_name":"fill-opacity"}}),ie.length>0&&B.push({[o]:ie}),$.push({[a]:B})}if(n.color||n.opacity){const B=[{[r]:[{"#text":n.color||"#000000"}],":@":{"@_name":"fill"}},{[r]:[{"#text":n.opacity||"1"}],":@":{"@_name":"fill-opacity"}}];$.push({[o]:B})}return $}getSldLineSymbolizerFromLineSymbolizer(n){var y,w,_,P,L,$,R;const r=this.getTagName("CssParameter"),o=this.getTagName("Stroke"),a=this.getTagName("GraphicStroke"),l=this.getTagName("GraphicFill"),g=this.getTagName("PerpendicularOffset"),h={color:"stroke",width:"stroke-width",opacity:"stroke-opacity",join:"stroke-linejoin",cap:"stroke-linecap",dasharray:"stroke-dasharray",dashOffset:"stroke-dashoffset"},c=[],m=Object.keys(n).filter(M=>M!=="kind"&&h[M]&&n[M]!==void 0&&n[M]!==null).map(M=>{let B=n[M];if(M==="dasharray")return B=n.dasharray?n.dasharray.join(" "):void 0,{[r]:[{"#text":B}],":@":{"@_name":h[M]}};if(M==="join"&&B==="miter"&&(B="mitre"),he.isGeoStylerFunction(n[M])){const ie=$e(n[M]);return{[r]:ie,":@":{"@_name":h[M]}}}else return{[r]:[{"#text":n[M]}],":@":{"@_name":h[M]}}});if(n!=null&&n.graphicStroke){if(Array.isArray((y=c==null?void 0:c[0])==null?void 0:y[o])||(c[0]={[o]:[]}),((w=n==null?void 0:n.graphicStroke)==null?void 0:w.kind)==="Mark"){const M=this.getSldPointSymbolizerFromMarkSymbolizer(n.graphicStroke);c[0][o].push({[a]:M})}else if(((_=n==null?void 0:n.graphicStroke)==null?void 0:_.kind)==="Icon"){const M=this.getSldPointSymbolizerFromIconSymbolizer(n.graphicStroke);c[0][o].push({[a]:M})}}if(n!=null&&n.graphicFill){if(Array.isArray((P=c==null?void 0:c[0])==null?void 0:P[o])||(c[0]={[o]:[]}),((L=n==null?void 0:n.graphicFill)==null?void 0:L.kind)==="Mark"){const M=this.getSldPointSymbolizerFromMarkSymbolizer(n.graphicFill);c[0][o].push({[l]:M})}else if((($=n==null?void 0:n.graphicFill)==null?void 0:$.kind)==="Icon"){const M=this.getSldPointSymbolizerFromIconSymbolizer(n.graphicFill);c[0][o].push({[l]:M})}}return m.length!==0&&(Array.isArray((R=c==null?void 0:c[0])==null?void 0:R[o])||(c[0]={[o]:[]}),c[0][o].push(...m)),n.perpendicularOffset&&c.push({[g]:[{"#text":n.perpendicularOffset}]}),c.length===0&&c.push({[o]:{}}),c}getSldPolygonSymbolizerFromFillSymbolizer(n){var w;const r=this.getTagName("CssParameter"),o=this.getTagName("Stroke"),a=this.getTagName("Fill"),l={outlineColor:"stroke",outlineWidth:"stroke-width",outlineOpacity:"stroke-opacity",outlineDasharray:"stroke-dasharray",outlineCap:"stroke-linecap",outlineJoin:"stroke-linejoin"},g={color:"fill",fillOpacity:"fill-opacity"},h=[],c=[];let m;n!=null&&n.graphicFill&&((n==null?void 0:n.graphicFill.kind)==="Mark"?m=this.getSldPointSymbolizerFromMarkSymbolizer(n.graphicFill):(n==null?void 0:n.graphicFill.kind)==="Icon"&&(m=this.getSldPointSymbolizerFromIconSymbolizer(n.graphicFill))),Object.keys(n).filter(_=>_!=="kind").filter(_=>n[_]!==void 0&&n[_]!==null).forEach(_=>{if(Object.keys(g).includes(_))if(he.isGeoStylerFunction(n[_])){const P=$e(n[_]);c.push({[r]:P,":@":{"@_name":g[_]}})}else c.push({[r]:[{"#text":n[_]}],":@":{"@_name":g[_]}});else if(Object.keys(l).includes(_)){let P="";if(_==="outlineDasharray"){const L=n[_];P="",L.forEach(($,R)=>{P+=$,R<L.length-1&&(P+=" ")})}else _==="outlineWidth"||_==="outlineOpacity"?P=n[_]+"":P=n[_];if(he.isGeoStylerFunction(n[_])){const L=$e(n[_]);h.push({[r]:L,":@":{"@_name":l[_]}})}else h.push({[r]:[{"#text":P}],":@":{"@_name":l[_]}})}});const y=[];return(c.length>0||m)&&(Array.isArray((w=y==null?void 0:y[0])==null?void 0:w[a])||(y[0]={[a]:[]}),c.length>0&&y[0][a].push(...c),m&&y[0][a].push({GraphicFill:m})),h.length>0&&y.push({[o]:h}),y}getSldRasterSymbolizerFromRasterSymbolizer(n){const r=[];n.opacity!==void 0&&(r.push({}),r[0].Opacity=[{"#text":n.opacity}]);let o;n.colorMap&&(o=this.getSldColorMapFromColorMap(n.colorMap),o!=null&&o[0]&&r.push({ColorMap:o}));let a;n.channelSelection&&(a=this.getSldChannelSelectionFromChannelSelection(n.channelSelection),a!=null&&a[0]&&r.push({ChannelSelection:a}));let l;return n.contrastEnhancement&&(l=this.getSldContrastEnhancementFromContrastEnhancement(n.contrastEnhancement),l!=null&&l[0]&&r.push({ContrastEnhancement:l})),r}getSldColorMapFromColorMap(n){const r=[];if(n.type){const o=n.type;r[":@"]={"@_type":o}}if(n.extended!==void 0){const o=n.extended.toString();r[":@"]||(r[":@"]={}),r[":@"]["@_extended"]=o}if(n.colorMapEntries&&n.colorMapEntries.length>0){const o=n.colorMapEntries.map(a=>{const l={ColorMapEntry:[],":@":{}};return a.color&&(l[":@"]["@_color"]=a.color),typeof a.quantity<"u"&&(l[":@"]["@_quantity"]=a.quantity.toString()),a.label&&(l[":@"]["@_label"]=a.label),typeof a.opacity<"u"&&(l[":@"]["@_opacity"]=a.opacity.toString()),l}).filter(a=>Object.keys(a).length>0);r.push(...o)}return r}getSldChannelSelectionFromChannelSelection(n){const r={redChannel:"RedChannel",blueChannel:"BlueChannel",greenChannel:"GreenChannel",grayChannel:"GrayChannel"},o=Object.keys(n),a=[];return o.forEach(l=>{var y,w;const g=[],h=(y=n==null?void 0:n[l])==null?void 0:y.sourceChannelName,c=r[l],m=(w=n==null?void 0:n[l])==null?void 0:w.contrastEnhancement;(h||m)&&(h&&g.push({SourceChannelName:[{"#text":h}]}),m&&g.push({ContrastEnhancement:this.getSldContrastEnhancementFromContrastEnhancement(m)}),a.push({[c]:g}))}),a}getSldContrastEnhancementFromContrastEnhancement(n){const r=[],o=n==null?void 0:n.enhancementType;return o==="normalize"?r.push({Normalize:[]}):o==="histogram"&&r.push({Histogram:[]}),n.gammaValue!==void 0&&r.push({GammaValue:[{"#text":n.gammaValue}]}),r}checkForUnsupportedProperties(n){const r=a=>a[0].toUpperCase()+a.slice(1),o={};if(n.rules.forEach(a=>{a.symbolizers.forEach(l=>{var c,m;const g=r(`${l.kind}Symbolizer`),h=(m=(c=this.unsupportedProperties)==null?void 0:c.Symbolizer)==null?void 0:m[g];h&&(typeof h=="string"||h instanceof String?(o.Symbolizer||(o.Symbolizer={}),o.Symbolizer[g]=h):Object.keys(l).forEach(y=>{h[y]&&(o.Symbolizer||(o.Symbolizer={}),o.Symbolizer[g]||(o.Symbolizer[g]={}),o.Symbolizer[g][y]=h[y])}))})}),Object.keys(o).length>0)return o}}return ii.title="SLD Style Parser",dn.SldStyleParser=ii,dn.default=ii,dn.defaultTranslations=oo,Object.defineProperty(dn,"__esModule",{value:!0}),dn}({});
//# sourceMappingURL=sldStyleParser.iife.js.map
